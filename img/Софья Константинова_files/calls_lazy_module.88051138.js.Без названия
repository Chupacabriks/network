(()=>{"use strict";var e,t,s,a,n,r,o={662388:(e,t,s)=>{var a=s(636576),n=s(126491),r=s(298077),o=s(270959),i=s(866467),c=s(664441),l=s(274222),d=s(752335),u=s(315958),p=s(957994),_=s(356967),h=s(540462),g=s(468073),b=s(282791),f=s(191558),w=s(856289);window.vk?.stDomain&&(s.p=window.vk.stDomain+"/dist/");const m=(0,h.partConfigEnabled)("calls_forbid_web_calls_for_ads_account"),y=(0,h.partConfigEnabled)("web_calls_queue_subscribe_logger"),k=(0,h.partConfigEnabled)("web_calls_enable_queue_manager_regular_transport");function v(){return new Promise((e=>{window.stManager.add([window.jsc("web/calls.js"),"calls.css"],e)}))}(async function(){if(window.Calls?.initialized||(0,w.isVideoStandalone)())return;if(m||!g.Ranges.isUserId(window.vk.id))return;(0,_.setApiWrappers)((()=>p.api),(()=>p.api));const e=(0,u.fetchCallToken)(window.vk.id,window.vk.isCallsDevEnv),{callsCredentials:t,toggles:s,settings:a}=await(0,d.executeGetCallsSettings)(window.vk.id),h={...window.Calls?.predefinedInitArgs,callsCredentials:t,sdkToken:await e,toggles:{...s,enableSimplePiP:window.browser.safari?s.enableSimplePiPSafari:s.enableSimplePiP,videoSlotsCount:a.video_slots_count,browserWarnings:a.browser_warnings,disabledBanners:a.disabled_banners,customScreenSharePacketSize:a.custom_screen_share_packet_size,customScreenShareCongestionControlThreshold:a.custom_screen_share_congestion_control_threshold,customExternalDomain:a.custom_external_domain,noiseReductionMode:a.noise_reduction_mode,enableVmoji:!0,deviceId:a.device_id},onError:({msg:e})=>(e&&(0,r.logError)(e),e&&(0,o.showFastBox)(i.getLang("global_error"),e)),onBeforeCallStart:()=>{window.Notifier.pauseGlobalMedia()},onAfterCallFinish:()=>{window.Notifier.resumeGlobalMedia()},tabIsMaster:()=>window.Notifier.tabIsMaster(),isFriend:e=>!!window.curFastChat?.friends?.[e+"_"],removeLeftMenuItemBadge:()=>{l.leftMenu.removeBadge(c.PAGE_ID_CALLS)}};window.browser.mozilla?(window.Calls=window.Calls??{},window.Calls.initArgs=h,window.requestIdleCallback((()=>{v().then((()=>{window.Calls?.init?.(h)}))}))):function(e){if(!1===window.Calls?.initialized)return void window.Calls.init(e);const t={},s=t=>(...s)=>v().then((()=>window.Calls?.init?.(e))).then((()=>window.Calls?.[t]?.(...s)));t.call=s("call"),t.startGroupCall=s("startGroupCall"),t.startCall=s("startCall"),t.acceptCall=s("acceptCall"),t.joinCallByLink=s("joinCallByLink"),t.joinRoomByLink=s("joinRoomByLink"),t.showJoinPopup=s("showJoinPopup"),t.showCallByNamePopup=s("showCallByNamePopup"),t.showCreateCallByLinkPopup=s("showCreateCallByLinkPopup"),t.showPlanCalendarEventPopup=s("showPlanCalendarEventPopup"),t.showStartCallModal=s("showStartCallModal"),t.showHistoryScreen=s("showHistoryScreen"),t.joinOrStartCallModal=s("joinOrStartCallModal"),t.showJoinCallByLinkPopup=s("showJoinCallByLinkPopup"),t.initArgs=e,window.Calls=t}(h);const C=async()=>{void 0===window.Calls?.initialized&&await v(),await(window.Calls?.init(h))},M=new f.CredentialCache(window.vk.id);if(null===M.get()){const e=await(0,d.getInboundCall)();e&&(await C(),window.Calls?.handleQueueEvent({entity_type:n.ECallLongpollEntityType.Calls,entity_id:1,data:{type:n.ECallLongpollType.IncomingCall,value:e}}))}(0,b.startQueueManager)({id:window.vk.id,loadModule:C,credentialCache:M,debug:y,regularTransport:k})})().catch(console.error),requestIdleCallback((()=>{try{(0,a.statlogsValueEvent)("entries_requests",1,"calls_lazy_module","web")}catch{}}),{timeout:5e3});try{stManager?.done(partConfigEnabled("web_static_manager_done_with_hash")?"dist/web/calls_lazy_module.88051138.js":"dist/web/calls_lazy_module.js")}catch(e){}},325094:(e,t,s)=>{s.d(t,{createLeftMenuInitiator:()=>j,initLeftMenu:()=>S});var a=s(474848),n=s(440961),r=s(33371),o=s(384483),i=s(865708),c=s(401447),l=s(296540),d=s(458840),u=s(547603),p=s(363046),_=s(523417),h=s(707491),g=s(664441),b=s(636576),f=s(554912),w=s(127609),m=s(866467),y=s(101272),k=s(862566),v=s(540462),C=s(636126);const M=Date.now(),A=(0,r.default)((()=>(0,v.partConfigEnabled)("web_mourning")));function E(e,t){window.vk.statsMeta.st&&(0,y.saveStatlogEvents)({name:"left_menu_interactions",value:1,keys:[e,window.vk.id,M,...t??[]]})}function S(e){(0,u.setLeftMenu)(e),requestAnimationFrame((()=>{j(document).render()}))}function j(e){const t=e.querySelector("#"+(0,o.getReactRootElId)("LeftMenuRoot"));return{render(){t&&n.render((0,a.jsx)(U,{}),t)},unmount(){t&&n.unmountComponentAtNode(t)}}}const T=()=>document.body.classList.contains("body_narrow_sidebar"),P=(e,t,{icon:s,...a})=>{E("nav_go",[e.currentTarget.tagName,JSON.stringify(a),JSON.stringify(t)]),window.vk.statsMeta.st&&(t.debugLog=(e,...t)=>E(e,t));const n=(0,w.navGo)(e.currentTarget,e.nativeEvent,t);!1===n&&(0,p.cancelEvent)(e),E("nav_go_result",[void 0===n?"undefined":JSON.stringify(n)])},I=(e,t)=>{e.counter_href&&(t.stopPropagation(),P(t,{},e))},L=(e,t)=>{E("item_click",[e?.id,e?.href,e?.action?.type]),(e=>{e.id&&(0,h.unPrefixId)(e.id)===g.PAGE_ID_CLIPS&&(0,b.statlogsValueEvent)("clips_sections_open",1,"clips")})(e);const s=t.nativeEvent,{action:a}=e;if(a){const n=a.type;switch(n){case"nav_go":return void P(t,JSON.parse(a.options_serialized),e);case"open_app":return E("show_app",[a.app_id,a.ref]),void(0,d.showApp)(s,a.app_id,a.need_install,a.ref);case"custom":E("custom_action",[a.handler]);try{Function("event",a.handler)(s)}catch(e){console.error(e),E("custom_failure",e?.message?[e.message]:[])}return;case"external_link":return}E("unknown_action"),(0,_.expectNever)(n)}e.href&&P(t,{},e)},q=e=>(0,u.closeTooltip)(e);function U(){E("render");const{sections:e,footerSections:t}=(0,u.useLeftMenuStore)(),[s,n]=(0,l.useState)(T);return(0,l.useEffect)((()=>{const e=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&n(T())}))}));return e.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>{e.disconnect()}}),[]),(0,l.useEffect)((()=>{e.forEach((e=>{e.items.forEach((e=>{e.add_static&&window.stManager.add(e.add_static)}))}))}),[e.length]),e.length?(0,a.jsx)(i.AppRootProvider,{children:(0,a.jsx)(c.LeftMenuOld,{sections:e,narrow:s,settingsAriaLabel:m.getLang("settings_menu_box"),bottom:(0,a.jsx)(c.LeftMenuOld.Footer,{sections:t,onSelect:L}),onSelect:L,onCounterClick:I,onSettingsClick:e=>{(0,k.loadMenuSettingsBox)(e.settings_type)},className:A()?C.default.mourning:void 0,onTooltipClose:q})}):(0,a.jsx)(f.LeftMenuLegacySkeleton,{})}},966369:(e,t,s)=>{s.d(t,{leftMenu:()=>r});var a=s(547603),n=s(707491);const r={showItem(e){(0,a.setItemHidden)({id:e,isHidden:!1});const t=(0,n.getLegacyLeftMenuItemEl)(e);t&&(t.style.display="")},setBadge(e,t){(0,a.setBadge)({id:e,badge:t});const s=(0,n.getLegacyLeftMenuItemEl)(e);s&&(s.classList.toggle("LeftMenu__item--withRedDot","prominent"===t),s.classList.toggle("LeftMenu__item--withBlueDot","accent"===t))},removeBadge(e){this.setBadge(e,void 0)}}},554912:(e,t,s)=>{s.d(t,{LeftMenuLegacySkeleton:()=>r});var a=s(474848),n=(s(296540),s(346568));const r=()=>(0,a.jsx)("div",{className:"LeftMenuLegacySkeleton",children:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18].map((e=>(0,a.jsxs)("div",{className:"LeftMenuLegacySkeleton__item",children:[(0,a.jsx)(n.Skeleton,{className:"LeftMenuLegacySkeleton__icon",width:20,height:20,colorFrom:"var(--vkui--color_skeleton_to)",noAnimation:!0,circle:!0}),(0,a.jsx)(n.Skeleton,{className:"LeftMenuLegacySkeleton__label",height:12,colorFrom:"var(--vkui--color_skeleton_to)",noAnimation:!0})]},e)))})},274222:(e,t,s)=>{s.d(t,{createLeftMenuInitiator:()=>r.createLeftMenuInitiator,initLeftMenu:()=>r.initLeftMenu,leftMenu:()=>a.leftMenu,setLeftMenu:()=>n.setLeftMenu,updateItemCount:()=>n.updateItemCount});var a=s(966369),n=s(547603),r=s(325094)},547603:(e,t,s)=>{s.d(t,{closeTooltip:()=>w,setBadge:()=>b,setItemHidden:()=>f,setLeftMenu:()=>h,updateItemCount:()=>g,useLeftMenuStore:()=>m});var a=s(558137),n=s(32489),r=s(679005),o=s(707491),i=s(293721),c=s(664441),l=s(8520);function d(e){return t=>t.id===e||t.id===(0,o.prefixId)(e)}function u(e,t,s){return(0,r.produce)(e,(e=>{e.some((({items:e})=>e.some((e=>{if(t(e))return s(e),!0}))))}))}const p=(0,a.makeSharedState)("left-menu-store",(()=>function(){const e=(0,n.createStore)([]),t=(0,n.createStore)([]),s=(0,n.combine)({sections:e,footerSections:t}),a=(0,n.createEvent)("setLeftMenu"),r=(0,n.createEvent)("setLeftMenuFooter"),i=(0,n.createEvent)("updateItemCount"),p=(0,n.createEvent)("setBadge"),_=(0,n.createEvent)("setHidden"),h=(0,n.createEvent)("closeTooltip");e.on(a,((e,t)=>{if("internal.getWebLeftMenu"===t.method&&t.response?.sections){const{sections:e,footerSections:s}=(0,l.decodeHTMLEntitiesDeep)(t.response.sections).reduce(((e,t)=>("footer"===t.id||"legal"===t.id?e.footerSections.push(t):e.sections.push(t),e)),{sections:[],footerSections:[]});return r(s),e}return[]})).on(i,((e,{id:t,count:s,href:a})=>u(e,d(t),(e=>{e.count=Math.max(s,0),e.is_hidden=s<0,a&&(e.href=a),t===c.PAGE_ID_MARKET_ORDERS&&(e.is_hidden=!1)})))).on(p,((e,{id:t,badge:s})=>u(e,d(t),(e=>{e.badge=s})))).on(_,((e,{id:t,isHidden:s})=>u(e,d(t),(e=>{e.is_hidden=s})))).on(h,((e,{hint_id:t})=>{return u(e,(s=t,e=>e.tooltip?.hint_id===s),(e=>{delete e.tooltip}));var s})),t.on(r,((e,t)=>t));const g=(0,n.createEffect)((({hint_id:e,hint_hash:t})=>{(0,o.turnOffTooltip)(e,t)}));return(0,n.sample)({source:h,target:g}),{$leftMenu:s,setLeftMenu:a,updateItemCount:i,setBadge:p,setItemHidden:_,closeTooltip:h}}()),{version:0}),{$leftMenu:_,setLeftMenu:h,updateItemCount:g,setBadge:b,setItemHidden:f,closeTooltip:w}=p(),m=()=>(0,i.useStore)(_)},896412:(e,t,s)=>{function a(e){e.preventDefault(),e.stopPropagation()}s.d(t,{cancelEvent:()=>a})},126491:(e,t,s)=>{var a,n;s.d(t,{ECallLongpollEntityType:()=>a,ECallLongpollType:()=>n,isLongpollErrorResponse:()=>o,isLongpollSuccessResponse:()=>r}),function(e){e.Calls="calls"}(a||(a={})),function(e){e.ScheduledCallsUpdate="scheduled_calls_update",e.CurrentCallsUpdate="current_calls_update",e.CallHistoryUpdated="call_history_updated",e.CallGroupHistoryUpdated="call_group_history_updated",e.ChatInfoUpdated="chat_info_updated",e.CallAccepted="call_accepted",e.CallSettingsChanged="call_settings_changed",e.IncomingCall="incoming_call",e.CallFinished="call_finished",e.ParticipantNameChanged="participant_name_changed"}(n||(n={}));const r=e=>Boolean(e&&"events"in e&&Array.isArray(e.events)&&"ts"in e),o=e=>Number.isFinite(e?.failed)&&Number.isFinite(e?.err)},4059:(e,t,s)=>{var a,n;s.d(t,{CallsAppId:()=>n,ClientStatsPlatform:()=>a}),function(e){e.VK_WEB2="vk_web2",e.VK_MVK="vk_mvk",e.VK_WEB_MESSENGER="vk_web_messenger",e.VK_WEB_MESSENGER_SFERUM="vk_web_messenger_sferum",e.VK_DESKTOP_MESSENGER="vk_desktop_messenger",e.VK_DESKTOP_MESSENGER_SFERUM="vk_desktop_messenger_sferum"}(a||(a={})),function(e){e[e.WEB=6287487]="WEB",e[e.MVK=7879029]="MVK",e[e.WEB_MESSENGER=8202606]="WEB_MESSENGER",e[e.WEB_MESSENGER_SFERUM=7556576]="WEB_MESSENGER_SFERUM",e[e.DESKTOP_MESSENGER=51453752]="DESKTOP_MESSENGER",e[e.WEB_STANDALONE=51542479]="WEB_STANDALONE",e[e.WEB_TUTORIA=51849377]="WEB_TUTORIA"}(n||(n={}))},356967:(e,t,s)=>{s.d(t,{createApi:()=>u,getAnonymousAccessToken:()=>c,getApiWrapper:()=>d,hasAnonymousAccessToken:()=>l,setAnonymousAccessToken:()=>i,setApiWrappers:()=>o});var a=s(330262);let n,r=null;const o=(e,t)=>{r=t},i=e=>{n=e},c=()=>n,l=()=>Boolean(n),d=()=>r;function u(e,t=!1){return(s,n,r)=>{if((0,a.debugMessage)(a.DebugMessageType.DEBUG,{type:"request",method:e}),!0===t&&l()){const e=c();r={...r,accessToken:e},e&&null!==s&&"object"==typeof s&&"secret"in s&&"device_id"in s&&"anonym_auth_user_id"in s&&(delete s.device_id,delete s.secret,delete s.anonym_auth_user_id)}return d()()(e,s,r,n).then((t=>((0,a.debugMessage)(a.DebugMessageType.DEBUG,{type:"response",method:e,data:t}),t)))}}},937036:(e,t,s)=>{s.d(t,{get:()=>n});var a=s(8520);const n=(e,t)=>{if(!(0,a.isString)(e)&&!(0,a.isArray)(e))return;const s=(0,a.isArray)(e)?e:e.split(".").filter(Boolean),n=s.length-1;let r=t;for(let e=0;e<s.length;e+=1){if(!(0,a.isObjectLike)(r))return;const t=r[s[e]];if(!t)return;if(e===n)return t;r=t}}},752335:(e,t,s)=>{s.d(t,{addMiniAppsStatEvents:()=>ze,baseUserFields:()=>p,callsCheckParticipantName:()=>Pe,callsClearGroupHistory:()=>X,callsClearHistory:()=>Y,callsDeleteGroupHistoryRecords:()=>Z,callsDeleteHistoryRecords:()=>z,callsDeleteParticipantName:()=>Te,callsEditParticipantName:()=>je,callsGetGroupHistory:()=>ee,callsGetHistory:()=>J,callsGetJoinHistory:()=>Me,callsGetParticipants:()=>Ae,callsGetReactions:()=>Ce,callsGetUserSettings:()=>Ee,callsSetUserSettings:()=>Se,callsStart:()=>le,deleteAsrTranscriptions:()=>Ue,executeGetCallsSettings:()=>Re,fetchCallsAnonymQueue:()=>Ie,fetchCallsQueue:()=>$,fetchUrl:()=>K,forceCallFinish:()=>S,friendsSearch:()=>oe,getAnonymCallToken:()=>j,getAsrTranscriptions:()=>qe,getCallAuthToken:()=>M,getCallParticipants:()=>P,getCallParticipantsApiCall:()=>W,getCallSettings:()=>C,getCallTranslationLink:()=>He,getCallUrlLink:()=>A,getContactCallToken:()=>T,getConversationByCall:()=>Ne,getConversationMembers:()=>y,getCurrentCalls:()=>F,getFriends:()=>re,getGroupById:()=>L,getGroupMembers:()=>O,getGroupsForCall:()=>N,getGroupsForStreaming:()=>H,getHelpHints:()=>xe,getInboundCall:()=>Oe,getPhotoMessagesUploadServer:()=>Ve,getSearchVideo:()=>fe,getSettings:()=>De,getThumbUploadUrl:()=>Qe,getUpcomingLives:()=>q,getVideos:()=>U,getWatchTogetherAlbums:()=>he,getWatchTogetherOwnerVideos:()=>be,getWatchTogetherRecommended:()=>ge,hideHelpHint:()=>We,isAPIErrorWithType:()=>Ge,loadCallPeers:()=>g,loadCallPeersByPeerIds:()=>h,loadPrivacySettings:()=>G,loadUsers:()=>D,makeCallsAnonymQueueUrl:()=>Le,makeCallsQueueUrl:()=>Q,messagesDeleteScheduledCall:()=>pe,messagesEditCall:()=>_e,messagesGetCallPreview:()=>E,messagesGetConversations:()=>ie,messagesGetScheduledCalls:()=>ue,messagesSearch:()=>de,messagesSend:()=>ce,photosDelete:()=>ne,photosGetAllImages:()=>te,photosSaveBackgroundPhoto:()=>ae,prepareCallsSettings:()=>Be,queueSubscribe:()=>V,retryLoadCallPeers:()=>m,saveMessagesPhoto:()=>$e,saveUploadedThumb:()=>Ke,searchCallParticipants:()=>ve,searchChatMembers:()=>k,searchUsers:()=>x,sendTrackEvents:()=>Fe,sendVideoEdit:()=>B,updateCallSettings:()=>v,updateVideoThumb:()=>Je,userFields:()=>u,videoDelete:()=>ke,videoEditStreaming:()=>ye,videoGet:()=>we,videoLiveHeartbeat:()=>R,videoStartStreaming:()=>me,voiceRoomsGetParticipants:()=>I});var a=s(365006),n=s(955349),r=s(356967),o=s(330262),i=s(937036),c=s(904346),l=s(342985),d=s(626287);const u=["photo_100","photo_200","sex","screen_name","first_name_gen","is_nft","animated_avatar","custom_names_for_calls"].join(","),p=u,_=["name","photo_100","photo_200","can_upload_video","custom_names_for_calls"].join(","),h=e=>(0,r.createApi)("messages.getConversationsById")({peer_ids:e.join(","),extended:1,fields:p}),g=e=>(0,r.createApi)("messages.getConversationsById")({peer_ids:e,extended:1,fields:p});let b=0,f=[],w=[];const m=(0,n.exponentialRetry)(((e,t=50)=>(f.push(e),new Promise((e=>{w.push(e),b||(b=window.setTimeout((()=>{h(f).then((e=>{w.forEach((t=>{t(e)})),w=[]})).catch(c.handlePromiseError),f=[],b=0}),t))}))))),y=(e,t,s=0)=>{const a={peer_id:e,fields:u.concat(",can_call"),extended:1};return t&&(a.count=t,a.offset=s),(0,r.createApi)("messages.getConversationMembers")(a)},k=(e,t,s=10)=>(0,r.createApi)("messages.searchConversationMembers")({peer_id:e,q:t,count:s,fields:u.concat(",can_call"),extended:1}),v=(e,t)=>{const s={show_chat_history:e?1:0,call_id:t};return(0,r.createApi)("calls.updateCallSettings")(s)},C=e=>(0,r.createApi)("calls.getCallSettings")(e),M=(e,t=0)=>{(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallToken",data:{isDev:e,groupId:t}});const s={env:e?"development":"production"};return 0!==t&&(s.group_id=t),(0,r.createApi)("messages.getCallToken")(s,{},{version:a.API_VERSION}).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallToken",data:e}),e)))},A=(e,t,s=0)=>{const a={call_id:e,invalidate:t?1:0};return 0!==s&&(a.group_id=s),(0,r.createApi)("messages.getJoinLink")(a)},E=(e,t={})=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallPreview",data:{link:e,fields:p,device_id:"anyId"}}),(0,r.getApiWrapper)()()("messages.getCallPreview",{link:e,fields:p,device_id:"anyId",extended:1},t).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallPreview",data:e}),e)))),S=e=>(0,r.createApi)("messages.forceCallFinish")({call_id:e}),j=(e,t,s,a,n)=>{const i={link:e,user_id:t,name:s,secret:a,device_id:"anyId"};return(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"messages.getAnonymCallToken",data:i}),(0,r.getApiWrapper)()()("messages.getAnonymCallToken",i,n).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"messages.getAnonymCallToken",data:e}),e)))},T=(e,t)=>(0,r.createApi)("messages.getContactCallToken")({contact:e,env:t?"development":"production"}),P=(e,t,s,i=!1,c)=>{const l=[];let d=Array.from(new Set(t));for(;d.length;)d.length>1e3?(l.push(d.slice(0,1e3)),d=d.slice(1e3)):(l.push(d),d=[]);const u=(0,n.exponentialRetry)((async function(t,n){const c=i?{call_id:e,participant_ids:n.join(","),fields:p,device_id:"anyId",secret:t.secret,user_id:s}:{call_id:e,participant_ids:n.join(","),fields:p};let l;(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallParticipants",data:c});const d=(0,r.getAnonymousAccessToken)();l=d?await(0,r.getApiWrapper)()()("calls.getParticipantsByIds",{call_id:e,participant_ids:n.join(","),fields:p},{accessToken:d}):await(0,r.getApiWrapper)()()("messages.getCallParticipants",c,{version:a.API_VERSION});const u={count:l.count+t.count,secret:l.secret,profiles:(t.profiles||[]).concat(l.profiles||[]),anonyms:(t.anonyms||[]).concat(l.anonyms||[]),groups:(t.groups||[]).concat(l.groups||[]),contacts:(t.contacts||[]).concat(l.contacts||[])};return(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallParticipants",data:u}),u})),_=Promise.resolve({secret:c,count:0});return l.reduce(((e,t)=>e.then((e=>u(e,t)))),_)},I=(e,t=!1,s,a,n)=>{const o=(0,r.createApi)("voicerooms.getParticipants"),i={fields:p};return t&&(i.device_id="anyId",i.secret=a,i.user_id=s),o({...i,...e},n)},L=e=>(0,r.createApi)("groups.getById")({group_ids:String(e),fields:_},{},{version:a.API_VERSION}),q=e=>(0,r.createApi)("video.getUpcomingLives")({owner_ids:e}),U=(e,t,s,a)=>(0,r.createApi)("video.get")({owner_id:e,videos:t,need_privacy:s},{signal:a}),B=(e,t,s,a,n)=>(0,r.createApi)("video.edit")({owner_id:e,video_id:t,name:s,desc:a,privacy_view:n}),D=e=>(0,r.createApi)("users.get")(e),R=e=>(0,r.createApi)("video.liveHeartbeat")(e),G=e=>(0,r.createApi)("account.getPrivacySettings")(e),N=()=>(0,r.createApi)("messages.getGroupsForCall")({count:200}),O=(e,t=0,s=10)=>{let a={fields:u.concat(",can_call_from_group"),group_id:String(e),offset:t,count:s,sort:"time_asc"};return(0,r.createApi)("groups.getMembers")(a)},x=(e,t="")=>(0,r.createApi)("users.search")({fields:u.concat(",can_call_from_group"),group_id:e,q:t});function W(e,t,s=!1,n="",i=0){let c={call_id:e,participant_ids:t.join(","),fields:p};return s&&(c={...c,device_id:"anyId",secret:n,user_id:i}),(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallParticipants",data:c}),(0,r.getApiWrapper)()()("messages.getCallParticipants",c,{version:a.API_VERSION}).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallParticipant",response:e}),e)))}function H(){return(0,r.createApi)("video.getGroupsForStreaming")({})}function F(e=u){return(0,r.createApi)("messages.getCurrentCalls")({fields:e})}function V(e){return(0,r.createApi)("queue.subscribe")(e,{},{grouping:!1})}function $(e){return V({queue_ids:`calls_${e}`}).then((t=>{const{base_url:s,queues:a}=t,{key:n,timestamp:r}=a[0];return{baseUrl:s,key:n,timestamp:r,userId:e}}))}function Q(e){const{baseUrl:t,key:s,userId:a,timestamp:n}=e;return`${t}?act=a_check&key=${s}&id=${a}&ts=${n}&wait=20`}function K(e){return fetch(e).then((e=>e.json()))}function J(e=25,t,s="all"){const a={count:e,fields:u+",last_name_gen",filter:s};return t&&(a.pagination_marker=t),(0,r.createApi)("calls.getHistory")(a)}function z(e){return(0,r.createApi)("calls.deleteHistoryRecords")({record_ids:e.join(",")})}function Y(){return(0,r.createApi)("calls.clearHistory")({})}function X(e){return(0,r.createApi)("calls.clearGroupHistory")({group_id:e})}function Z(e,t){return(0,r.createApi)("calls.deleteGroupHistoryRecords")({record_ids:t.join(","),group_id:e})}function ee(e,t=25,s,a="all"){const n={group_id:e,count:t,fields:u+",last_name_gen",filter:a};return s&&(n.pagination_marker=s),(0,r.createApi)("calls.getGroupHistory")(n)}const te=(e={})=>{const t=(0,r.getApiWrapper)()();return(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"photos.get",params:e}),t("photos.get",{album_id:"-166",...e}).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"photos.get",response:e}),e)))},se=e=>["error_msg","error_code"].some((t=>(0,i.get)(t,e)))?Promise.reject(e):Promise.resolve(e),ae=e=>{const t=(0,r.getApiWrapper)()(),s=(0,r.getApiWrapper)()();return(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"photos.getCallBackgroundsPhotoUploadServer"}),t("photos.getCallBackgroundsPhotoUploadServer",{}).then(se).then((t=>{(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"photos.getCallBackgroundsPhotoUploadServer",response:t});const s=new FormData;return s.append("file1",e,e.name),(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:`[photoUploadUrl] ${t.upload_url}`,formData:s}),fetch(t.upload_url,{method:"POST",body:s}).then((e=>e.json())).then(se)})).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"[photoUploadUrl]",json:e}),(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"photos.saveBackgroundPhoto",json:e}),s("photos.saveBackgroundPhoto",{response_json:JSON.stringify(e)})))).then(se)},ne=e=>{const t=(0,r.getApiWrapper)()();return(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"photos.delete",params:e}),t("photos.delete",e).then(se)},re=(e=10,t=0,s="hints")=>{const a={fields:u.concat(",can_call,online_info"),count:e,offset:t,order:s,filters:"without_banned,without_deleted,without_dead"};return(0,r.createApi)("friends.get")(a)},oe=(e,t="",s=10,a=0)=>(0,r.createApi)("friends.search")({user_id:e,q:t,fields:u.concat(",can_call,online_info,photo_50"),count:s,offset:a,filters:"without_banned,without_deleted,without_dead"}),ie=(e={extended:1,count:30})=>(0,r.createApi)("messages.getConversations")(e),ce=(e={})=>(0,r.createApi)("messages.send")(e),le=(0,r.createApi)("calls.start"),de=(e={})=>{const t={count:20,extended:1,...e};return(0,r.createApi)("messages.search")(t)},ue=(e={})=>(0,r.createApi)("messages.getScheduledCalls")(e),pe=e=>(0,r.createApi)("messages.deleteScheduledCall")(e),_e=e=>(0,r.createApi)("messages.editCall")(e),he=(e={},t={})=>(0,r.createApi)("video.getAlbums")(e,t).then(se),ge=(e={},t={})=>(0,r.createApi)("video.getWatchTogetherRecommendedVideos")(e,t).then(se),be=(e={},t={})=>(0,r.createApi)("video.getWatchTogetherOwnerVideos")(e,t).then(se),fe=(e={},t)=>(e.united_video_only=1,e.extended=1,(0,r.createApi)("video.search")(e,t,{version:"5.167"}).then(se)),we=(e,t)=>{const s={extended:1,...e};return(0,r.createApi)("video.get")(s,t)},me=(0,r.createApi)("video.startStreaming"),ye=(0,r.createApi)("video.editStreaming"),ke=(0,r.createApi)("video.delete"),ve=(e,{userId:t,isAnon:s=!1,secret:n,search:i},c)=>{const l="messages.getCallParticipants",d={call_id:e,fields:p,search:i},u=s?{...d,device_id:"anyId",secret:n,user_id:t}:d;return(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:l,params:u}),(0,r.getApiWrapper)()()(l,u,{version:a.API_VERSION},c).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:l,data:e}),{count:e.count,secret:e.secret,profiles:e.profiles||[],anonyms:e.anonyms||[],groups:e.groups||[]})))},Ce=(e={},t)=>(0,r.createApi)("calls.getReactions")(e,t),Me=(e,t)=>(0,r.createApi)("calls.getCallJoinHistory")(e,t).then((e=>e.csv)),Ae=(e,t)=>(e.fields=p,(0,r.createApi)("calls.getParticipants")(e,t)),Ee=()=>(0,r.createApi)("calls.getUserSettings")({},{},{maxRetries:0}),Se=e=>(0,r.createApi)("calls.setUserSettings")(e),je=e=>(0,r.createApi)("calls.editParticipantName",!0)(e),Te=e=>(0,r.createApi)("calls.deleteParticipantName",!0)(e),Pe=e=>(0,r.createApi)("calls.checkParticipantName")(e);function Ie(e,t,s){const a={anonym_auth_user_id:e,secret:t,device_id:s};return(0,r.createApi)("calls.subscribeToQueue",!0)(a)}function Le(e,t){const{base_url:s,queues:a}=e.queue_subscription_info,{key:n,timestamp:r}=a[0];return`${s}?act=a_check&key=${n}&id=${t}&ts=${r}&wait=20`}const qe=(0,r.createApi)("calls.getAsrTranscriptions"),Ue=((0,r.createApi)("calls.editAsrTranscription"),(0,r.createApi)("calls.deleteAsrTranscriptions")),Be=e=>{const t=Object.fromEntries(e.toggles.map((e=>[e.name,e.enabled??!1])));return{...e,toggles:t}};async function De(){return Be(await(0,r.createApi)("calls.getSettings")({}))}async function Re(e){const{user:t,privacySettings:s,params:a}=await async function(e){const t=`\nreturn [\n  wait(fork(\n  API.users.get({\n    user_ids: ${(0,l.vkIdToPeerId)(e)},\n    fields: '${u}',\n  })\n)),\n  API.calls.getSettings({}),\n];\n  `,[s,a]=await(0,r.createApi)("execute")({code:t}),[o]=(0,n.normalizeProfiles)(s),i=Object.fromEntries(a.toggles.map((e=>[e.name,e.enabled??!1])));return{user:o,privacySettings:{callsIp:a.settings.calls_ip},params:{...a,toggles:i}}}(e),{toggles:o,settings:i}=a;return{settings:i,toggles:o,callsCredentials:{key:i.public_key,is_dev:i.is_dev,privacySettings:s,ip_setting_enabled:i.ip_setting_enabled,me:t}}}const Ge=e=>"type"in e&&"string"==typeof e.type&&[d.APIErrorType.API_ERROR,d.APIErrorType.NETWORK_ERROR].includes(e.type);function Ne(e,t){const s={call_id:e};return t&&(s.hall_id=t),(0,r.createApi)("calls.getConversationByCall")(s)}async function Oe(){const e=await(0,r.createApi)("messages.getInboundCalls")({}),[t]=e.items??[];return t??null}function xe(e){return(0,r.createApi)("account.getHelpHints")({hints:e?.join(",")}).then((e=>e.items))}async function We(e){return(0,r.createApi)("account.hideHelpHint")({hint_id:e})}function He(e,t){const s={call_id:e};return null!==t&&(s.hall_id=t),(0,r.createApi)("calls.getBroadcast")(s)}const Fe=e=>{const t=JSON.stringify(e);return(0,r.createApi)("stats.trackEvents")({events:t})},Ve=()=>(0,r.createApi)("photos.getMessagesUploadServer")({}),$e=e=>(0,r.createApi)("photos.saveMessagesPhoto")(e);function Qe(e){return(0,r.createApi)("video.getThumbUploadUrl")(e)}function Ke(e){return(0,r.createApi)("video.saveUploadedThumb")(e)}function Je(e){return(0,r.createApi)("video.edit")(e)}function ze(e){return(0,r.createApi)("statEvents.addMiniApps")(e)}},315958:(e,t,s)=>{s.d(t,{fetchCallToken:()=>r});var a=s(980630);let n;async function r(e,t=!1){if(n)return n;const s=(0,a.getLocalToken)(e);return s||(n=(0,a.fetchToken)(t),n.then((t=>(0,a.saveLocalToken)(t,e))),n)}},191558:(e,t,s)=>{s.d(t,{CredentialCache:()=>r});var a=s(8520),n=s(4059);class r{get cacheInMs(){return 60*this.CACHE_LIFE_IN_MINUTES*1e3}isActualTs(e){return null!==e&&e+this.cacheInMs>Date.now()}getActualCredentialsFromLS(){try{const e=a.localStorage.getItem(this.key);if(!e)return[];const t=JSON.parse(e);if("data"in t&&"lastUpdate"in t&&this.isActualTs(t.lastUpdate))return[t.data,t.lastUpdate]}catch(e){}return[]}put(e){this.data=e,this.lastUpdate=Date.now(),a.localStorage.setItem(this.key,JSON.stringify({data:e,lastUpdate:this.lastUpdate}))}update(e){this.data&&(this.data={...this.data,ts:e},this.lastUpdate=Date.now(),a.localStorage.setItem(this.key,JSON.stringify({data:this.data,lastUpdate:this.lastUpdate})))}get(){if(null===this.data){const[e,t]=this.getActualCredentialsFromLS();if(e&&t)return this.data=e,this.lastUpdate=t,this.data}return this.data&&!this.isActualTs(this.lastUpdate)&&this.drop(),this.data}drop(){this.data=null,this.lastUpdate=null,a.localStorage.removeItem(this.key)}constructor(e,t=n.CallsAppId.WEB){this.data=null,this.lastUpdate=null,this.CACHE_LIFE_IN_MINUTES=5,this.key=`queue_credential_calls_cache_${e}_${t}`;const[s,a]=this.getActualCredentialsFromLS();s&&a&&(this.data=s,this.lastUpdate=a)}}},282791:(e,t,s)=>{s.d(t,{startQueueManager:()=>c});var a=s(752335),n=s(328959),r=s(4059),o=s(126491);const i=1;function c({id:e,loadModule:t,credentialCache:s,debug:c,regularTransport:l,appId:d=r.CallsAppId.WEB}){const u=()=>{const r=new n.QueueManager({debug:c,noSharedWorker:l}),p=`calls_${e}_${d}_1`;return r.addQueue(p,(async()=>{const t=s.get();if(t)return t;const n=await(0,a.queueSubscribe)({queue_ids:p}),{base_url:r,queues:o}=n,{key:i,timestamp:c}=o[0],l={id:e,key:i,ts:c,url:r};return s.put(l),l})),r.subscribe((async(e,a)=>{(0,o.isLongpollErrorResponse)(a)?a.failed!==i&&s.drop():(s.update(Number(a.ts)),!window.Calls?.handleQueueEvent&&a.events.some((e=>e.data.type===o.ECallLongpollType.IncomingCall))&&await t(),window.Calls?.handleQueueEvent&&a.events.forEach((e=>{window.Calls?.handleQueueEvent(e)})))}),(()=>{c&&console.log("reset"),r.destroy(),u()})),()=>r.destroy()};return u()}},980630:(e,t,s)=>{s.d(t,{fetchToken:()=>c,getLocalToken:()=>i,saveLocalToken:()=>o});var a=s(8520),n=s(752335);const r=e=>"calls_token"+(e?`_${e}`:"");function o(e,t){a.localStorage.setItem(r(t),e)}function i(e){return a.localStorage.getItem(r(e))}async function c(e){const{token:t}=await(0,n.getCallAuthToken)(e);return t}},328959:(e,t,s)=>{s.d(t,{QueueManager:()=>r});var a=s(634317),n=s(863488);class r{addQueue(e,t){return this._transport?.addQueue(e,t),this}removeQueue(e){return this._transport?.removeQueue(e),this}subscribe(e,t){return this._transport?.subscribe(e,t),this}destroy(){this._transport?.destroy()}toggleDebug(e){this._transport?.toggleDebug(e)}constructor({debug:e,noSharedWorker:t}={}){"undefined"==typeof SharedWorker||t?this._transport=new n.RegularTransport:this._transport=new a.SharedWorkerTransport,this.toggleDebug(e)}}},863488:(e,t,s)=>{s.d(t,{RegularTransport:()=>o});var a=s(8520),n=s(889944),r=s(746629);class o{addQueue(e,t){this.credentialsGetters.set(e,t),this.longpollManager.has(e)||this.requestCredentials(e)}async requestCredentials(e){const t=this.credentialsGetters.get(e);if(t&&!this.credentialsProcessing.has(e)){this.credentialsProcessing.add(e);try{this.logger.debug(`request credentials for ${e}`);const s=await t();this.longpollManager.add(e,s)}catch(e){this.logger.error("[requestCredentials]",e)}finally{this.credentialsProcessing.delete(e)}}}removeQueue(e){this.credentialsGetters.delete(e),this.credentialsProcessing.delete(e),this.longpollManager.remove(e)}subscribe(e,t){this.onMessage=e,t&&(this.onReset=t)}toggleDebug(e){this.logger.enabled=Boolean(e)}destroy(){this.onMessage=a.noop,this.onReset=a.noop;for(let[e]of this.credentialsGetters)this.longpollManager.remove(e)}constructor(){this.credentialsGetters=new Map,this.credentialsProcessing=new Set,this.onMessage=a.noop,this.onReset=a.noop,this.logger=new n.Logger(!1,"RegularTransport"),this.callbackHandler=(e,t)=>{this.logger.debug(`response for ${e}`,t);const s=(0,a.isObjectLike)(t)&&("err"in t||"failed"in t);s&&this.longpollManager.remove(e),this.onMessage(e,t),s&&this.onReset()},this.longpollManager=new r.LongpollManager(this.callbackHandler,this.logger)}}},634317:(e,t,s)=>{s.d(t,{SharedWorkerTransport:()=>r});var a=s(418562),n=s(461015);class r{_postMessage(e){this._worker.port.postMessage(e)}_handleMessage(e){switch(this._isDebug&&"ping"!==e.data.type&&console.debug("Message received from worker\n",e.data),e.data.type){case"ping":e.data.payload===this._clientId&&(this._postMessage({type:"pong"}),this._checkKeepAlivePortInterval());break;case"longpoll-event":e.data.payload.clientId===this._clientId&&this._onMessage?.(e.data.payload.queueId,e.data.payload.data);break;case"request-credentials":e.data.payload.clientId===this._clientId&&this._requestCredentials(e.data.payload.queueId)}}_checkKeepAlivePortInterval(){this._keepAliveTimeout&&clearTimeout(this._keepAliveTimeout),this._keepAliveTimeout=setTimeout((()=>this._onReset?.()),n.TO_PORT_PING_INTERVAL+n.TO_PORT_PING_INTERVAL/2)}_setBeforeUnloadListener(){const e=()=>this.destroy();return window.addEventListener("beforeunload",e),e}async _requestCredentials(e){const t=this._credentialsGetters.get(e);if(t&&!this._credentialsProcessing.has(e)){this._credentialsProcessing.add(e);try{const s=await t();this._postMessage({type:"set-credentials",payload:{queueId:e,params:s}})}catch(e){console.error("[SharedWorkerTransport][_requestCredentials]",e)}finally{this._credentialsProcessing.delete(e)}}}destroy(){this._postMessage({type:"disconnect",payload:this._clientId}),this._worker.port.close(),window.removeEventListener("beforeunload",this._onBeforeUnloadLink),this._onMessage=null,this._onReset=null}addQueue(e,t){this._credentialsGetters.set(e,t),this._postMessage({type:"add-queue",payload:{queueId:e}})}subscribe(e,t){this._onMessage=e,this._onReset=t}removeQueue(e){this._credentialsGetters.delete(e),this._postMessage({type:"remove-queue",payload:{queueId:e}})}toggleDebug(e){const t=Boolean(e);this._isDebug=t,this._postMessage({type:"debug",payload:t})}constructor(){this._onReset=null,this._onMessage=null,this._keepAliveTimeout=null,this._isDebug=!1,this._clientId=(0,a.default)(),this._worker=new SharedWorker(new URL(self.location.origin+"/dist/"+s.u(30420),s.b)),this._onBeforeUnloadLink=this._setBeforeUnloadListener(),this._credentialsGetters=new Map,this._credentialsProcessing=new Set,this._worker.onerror=e=>console.error(e),this._worker.port.onmessage=e=>this._handleMessage(e),this._postMessage({type:"connect",payload:this._clientId}),this._worker.port.start(),this._checkKeepAlivePortInterval()}}},889944:(e,t,s)=>{s.d(t,{Logger:()=>a});class a{createMessage(e){return this.prefix?e.map(((e,t)=>0===t&&"string"==typeof e?`[${this.prefix}] ${e}`:e)):e}debug(...e){this.enabled&&console.debug(...this.createMessage(e))}log(...e){this.enabled&&console.log(...this.createMessage(e))}warn(...e){this.enabled&&console.warn(...this.createMessage(e))}error(...e){this.enabled&&console.error(...this.createMessage(e))}constructor(e,t=""){this.enabled=e,this.prefix=t}}},746629:(e,t,s)=>{s.d(t,{LongpollManager:()=>r});var a=s(8520),n=s(381162);class r{add(e,t){const s=this._queues.get(e);(s?.ts||0)<t.ts&&this._queues.set(e,{...t}),this._start()}remove(e){const t=this._queues.get(e);t&&this._retryCount.delete(t?.url),this._queues.delete(e)}has(e){return this._queues.has(e)}_start(){for(const e of this._queues.values())this._processing.has(e.url)||this._processing.set(e.url,setTimeout((()=>this._processUrl(e.url)),this._getTimeoutValue(e.url)))}_getTimeoutValue(e){const t=this._getRetryCount(e);return 1===t?4:2*t*1e3}_getRetryCount(e){return this._retryCount.get(e)??1}_increaseRetryCount(e){const t=this._getRetryCount(e)+1;return this._retryCount.set(e,t),t}_resetRetryCount(e){this._retryCount.set(e,1)}async _processUrl(e){const t=[],s=[];for(const[a,n]of this._queues.entries())n.url===e&&(t.push(a),s.push(n));if(!t.length||!s.length)return void this._processing.delete(e);let a;try{const t=(0,n.createUrl)(s,this._logger),r=await this._request(t);a=Array.isArray(r)?r:[r],this._resetRetryCount(e)}catch(s){a=[],this._increaseRetryCount(e)>=20&&t.forEach((()=>a.push(this._createFailedResponse())))}finally{this._processing.delete(e)}for(let e=0;e<a.length;++e)this._publish(t[e],a[e]),this._updateTs(t[e],a[e]);this._start()}_request(e){return fetch(e).then((e=>e.json()))}_updateTs(e,t){if(!(0,a.isObject)(t)||!("ts"in t))return;const s=this._queues.get(e),n=Number(t.ts);!(0,a.isUndefined)(s)&&s.ts<n&&(s.ts=n)}_createFailedResponse(){return{err:1,failed:1}}constructor(e,t){this._queues=new Map,this._processing=new Map,this._publish=e,this._logger=t,this._retryCount=new Map}}},381162:(e,t,s)=>{s.d(t,{createUrl:()=>n});const a=25;function n(e,t){const s=e[0].url,n=e[0].id;let r=e[0].key,o=`${e[0].ts}`;for(let a=1;a<e.length;++a){if(e[a].id!==n){const s=`Invalid userId pair: ${n}, ${e[a].id}`;throw t?.error(s),new Error(s)}if(e[a].url!==s){const n=`Invalid baseUrl pair: ${s}, ${e[a].url}`;throw t?.error(n),new Error(n)}r+=`${e[a].key}`,o+=`_${e[a].ts}`}return`${s}?act=a_check&key=${r}&id=${n}&ts=${o}&wait=${a}`}},461015:(e,t,s)=>{s.d(t,{TO_PORT_PING_INTERVAL:()=>a,TO_PORT_PING_REPLY_WAIT:()=>n});const a=1e4,n=1e3},636126:(e,t,s)=>{s.d(t,{default:()=>a});const a={mourning:"LeftMenu__mourning--szppi"}},657697:(e,t,s)=>{s.d(t,{default:()=>n});var a=s(818593);const n=function(e,t){var s;if("function"!=typeof t)throw new TypeError("Expected a function");return e=(0,a.default)(e),function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=void 0),s}}},33371:(e,t,s)=>{s.d(t,{default:()=>n});var a=s(657697);const n=function(e){return(0,a.default)(2,e)}}},i={};function __webpack_require__(e){var t=i[e];if(void 0!==t)return t.exports;var s=i[e]={exports:{}};return o[e].call(s.exports,s,s.exports,__webpack_require__),s.exports}__webpack_require__.m=o,e=[],__webpack_require__.O=(t,s,a,n)=>{if(!s){var r=1/0;for(l=0;l<e.length;l++){for(var[s,a,n]=e[l],o=!0,i=0;i<s.length;i++)(!1&n||r>=n)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](s[i])))?s.splice(i--,1):(o=!1,n<r&&(r=n));if(o){e.splice(l--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[s,a,n]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var r={};t=t||[null,s({}),s([]),s(s)];for(var o=2&a&&e;"object"==typeof o&&!~t.indexOf(o);o=s(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var s in t)__webpack_require__.o(t,s)&&!__webpack_require__.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,s)=>(__webpack_require__.f[s](e,t),t)),[])),__webpack_require__.u=e=>35782===e?"web/chunks/590c3317.async.106b7299.js":43316===e?"web/chunks/61b3672d.async.3c7c8265.js":80145===e?"web/chunks/2ab756d7.async.177061c7.js":58462===e?"web/chunks/6602413a.async.06896233.js":68938===e?"web/chunks/b1c5eabd.async.89e26e2c.js":20219===e?"web/chunks/4d85fe22.async.5a18fad8.js":8125===e?"web/chunks/90b4a8f8.async.4515aa60.js":51203===e?"web/chunks/miniAppsActionHandlers.f540b673.js":24639===e?"web/chunks/plugins_maps_mmrgl_script_chunk.76448c32.js":30685===e?"web/chunks/plugins_maps_mmrgl_style_chunk.440302d3.js":45458===e?"web/chunks/hls.10eb0a14.js":29884===e?"web/chunks/da84b8d2.async.56b02787.js":55736===e?"web/chunks/9416dc71.async.b1779d8d.js":56380===e?"web/chunks/8e574cd3.async.47d73056.js":37393===e?"web/chunks/0b869b3d.async.b2ee248b.js":65419===e?"web/chunks/8adfffcd.async.85830e77.js":46040===e?"web/chunks/34a9f527.async.ce6a98ff.js":44952===e?"web/chunks/56143671.async.42de387c.js":98271===e?"web/chunks/audio_web_globalPlayerImpl.d8da1ff7.js":30072===e?"web/chunks/showCaptchaPopup.590e73c2.js":19072===e?"web/chunks/left_menu_store.08375fe4.js":42255===e?"web/chunks/wikiModalExampleInitiator.6980f142.js":62203===e?"web/chunks/54a580c2.async.7d013393.js":56965===e?"web/chunks/stories_web_lib.236c4553.js":21953===e?"web/chunks/3a900eb4.async.0de5d7c4.js":42943===e?"web/chunks/video_web_lib.4c8dc45e.js":53927===e?"web/chunks/questions_boxes_web.1cc14edd.js":63148===e?"web/chunks/4db16ae6.async.d2267bdc.js":74336===e?"web/chunks/show_audio_playlist.4a974249.js":96158===e?"web/chunks/495c0275.async.74e6d07d.js":89626===e?"web/chunks/4e4648ce.async.9d56bc0b.js":75220===e?"web/chunks/616039fb.async.f6f5bae3.js":31661===e?"web/chunks/bf526a95.async.97084565.js":17895===e?"web/chunks/money_transfer_box.ad266d45.js":50905===e?"web/chunks/money_transfer.44e8c3f9.js":6827===e?"web/chunks/podcasts_web.45451b44.js":99500===e?"web/chunks/8141264e.async.ec898b72.js":81187===e?"web/chunks/8eeec1d5.async.55951ccb.js":2166===e?"web/chunks/showDonutSubscriptionModal.fe8042fe.js":7790===e?"web/chunks/20ebbd8f.async.8f88ed17.js":96859===e?"web/chunks/f76e7452.async.4587a1da.js":32758===e?"web/chunks/1fe42263.async.de7416ed.js":19129===e?"web/chunks/5f042a86.async.d1502b05.js":84835===e?"web/chunks/unauth_action_box.29fc715f.js":6086===e?"web/chunks/MiniAppsLifecycle.12e22545.js":59886===e?"web/chunks/StoryPublisherV2.d85eddd0.js":29311===e?"web/chunks/feed-client-nav-skeleton.6d469fc5.js":56091===e?"web/chunks/feed-client-nav-async-right-block.3c3bff7f.js":88651===e?"web/chunks/bookmarkClipPost.44b535ee.js":1715===e?"web/chunks/AudioLongtapModal.32ad1109.js":75121===e?"web/chunks/75b8349d.async.0bd4a145.js":26101===e?"web/chunks/030d00cf.async.38a880a1.js":75908===e?"web/chunks/6016368a.async.8570ffab.js":33641===e?"web/chunks/audio_modals_MusicTrackList.c138a0eb.js":51713===e?"web/chunks/voice_message_player.cd9ac644.js":9925===e?"web/chunks/speech.b26566c3.js":6694===e?"web/chunks/menu_settings.56ca8742.js":71208===e?"web/chunks/6aa524d2.async.7378fdbe.js":2153===e?"web/chunks/8c58bd68.async.56c498d4.js":43451===e?"web/chunks/MiniAppService_MiniApp.7ee10eb6.js":12334===e?"web/chunks/stories-perf-metrics.b8260e38.js":13654===e?"web/chunks/6821e80a.async.11ec412e.js":79934===e?"web/chunks/e4ca2309.async.673d139f.js":51943===e?"web/chunks/VideoUpload.60ca6db9.js":73214===e?"web/chunks/SilentModeForms.d3ccbf4d.js":31095===e?"web/chunks/PodcastEpisodeModal.ef9f8cc3.js":35577===e?"web/chunks/CommunityPage_SimilarGroups.74873640.js":17148===e?"web/chunks/CommunityPage_DonutBanner.7cf4aa45.js":74633===e?"web/chunks/CommunityPage_GoalsOnboarding.74e50200.js":85386===e?"web/chunks/donut_modals.6dec8344.js":43162===e?"web/chunks/framer-motion-entrypoint.9763fedf.js":42135===e?"web/chunks/7af1c156.async.33d28229.js":77808===e?"web/chunks/fa888068.async.6b2cc28b.js":69096===e?"web/chunks/fb38e3a3.async.935e9e75.js":10504===e?"web/chunks/StoriesCreatorVKApp.4ef90c60.js":54833===e?"web/chunks/performance-stats.18a136f6.js":9635===e?"web/chunks/9635.f04f4968.js":6261===e?"web/chunks/73e333ce.async.03ce20e8.js":98758===e?"web/chunks/46086065.async.6bfa82c3.js":71881===e?"web/chunks/cd65e2f9.async.7557dd55.js":99454===e?"web/chunks/34fe94d6.async.e77b64f8.js":30821===e?"web/chunks/story_blocks_next.380c5cb5.js":32643===e?"web/chunks/story_blocks.f29a263b.js":99370===e?"web/chunks/VideoEditorModal.788b8bd9.js":95805===e?"web/chunks/PublishClipToVideoModal.d2ba5083.js":99473===e?"web/chunks/3b5cde2d.async.d79d8e7b.js":73509===e?"web/chunks/sharedVideoUploadState.088336bc.js":91906===e?"web/chunks/VideoUploadModal.a63825d3.js":74205===e?"web/chunks/VideoExternalUploadModal.74967ae2.js":64676===e?"web/chunks/85a52a67.async.de3e61f8.js":36637===e?"web/chunks/ClipUploadModal.90ed8a4e.js":18493===e?"web/chunks/AddClipToVideoBlock.18d07b93.js":40953===e?"web/chunks/AddClipToVideoModal.c679b8b2.js":60274===e?"web/chunks/ClipPlayerModule.3cc6cb92.js":30420===e?"chunks/"+e+".edc96122.js":16848===e?"chunks/"+e+".a28d05cd.js":77955===e?"chunks/"+e+".ec1e24e1.js":75477===e?"chunks/"+e+".35e91db5.js":{17356:"web/chunks/videoplayer-interactive",63616:"web/chunks/draggable"}[e]+"."+{17356:"5f2096ae",63616:"27e2b0ef"}[e]+".js",__webpack_require__.miniCssF=e=>51203===e?"web/chunks/3c37af5a.css":30685===e?"web/chunks/34230933.css":{98271:1,74336:1,17895:1,50905:1,6827:1}[e]?"web/chunks/722c5109.css":30072===e?"web/chunks/7040c834.css":2166===e?"web/chunks/388b24b1.css":59886===e?"web/chunks/962b64d7.css":1715===e?"web/chunks/b5fdd079.css":6694===e?"web/chunks/de888cea.css":43451===e?"web/chunks/f2caa61f.css":51943===e?"web/chunks/c0f840a7.css":73214===e?"web/chunks/4e008d9c.css":35577===e?"web/chunks/d4bf59ea.css":17148===e?"web/chunks/61832f08.css":85386===e?"web/chunks/b80fe0f8.css":10504===e?"web/chunks/f0489d21.css":30821===e?"web/chunks/d2608c6d.css":32643===e?"web/chunks/076c8fc1.css":99370===e?"web/chunks/81bb4148.css":95805===e?"web/chunks/257e4f7b.css":73509===e?"web/chunks/49e4b942.css":{91906:1,74205:1}[e]?"web/chunks/c0ad2cfd.css":36637===e?"web/chunks/0569ccda.css":18493===e?"web/chunks/798f0393.css":40953===e?"web/chunks/0592332f.css":60274===e?"web/chunks/0e5005d9.css":void 0,__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a={},__webpack_require__.l=(e,t,s,n)=>{if(a[e])a[e].push(t);else{var r,o;if(void 0!==s)for(var i=document.getElementsByTagName("script"),c=0;c<i.length;c++){var l=i[c];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")=="vk:"+s){r=l;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,__webpack_require__.nc&&r.setAttribute("nonce",__webpack_require__.nc),r.setAttribute("data-webpack","vk:"+s),r.src=e),a[e]=[t];var d=(t,s)=>{r.onerror=r.onload=null,clearTimeout(u);var n=a[e];if(delete a[e],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((e=>e(s))),t)return t(s)},u=setTimeout(d.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=d.bind(null,r.onerror),r.onload=d.bind(null,r.onload),o&&document.head.appendChild(r)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dist/",n=e=>new Promise(((t,s)=>{var a=__webpack_require__.miniCssF(e),n=__webpack_require__.p+a;if(((e,t)=>{for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var n=(o=s[a]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(n===e||n===t))return o}var r=document.getElementsByTagName("style");for(a=0;a<r.length;a++){var o;if((n=(o=r[a]).getAttribute("data-href"))===e||n===t)return o}})(a,n))return t();((e,t,s,a)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.onerror=n.onload=r=>{if(n.onerror=n.onload=null,"load"===r.type)s();else{var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=i,n.parentNode.removeChild(n),a(c)}},n.href=t,document.head.appendChild(n)})(e,n,t,s)})),r={40481:0},__webpack_require__.f.miniCss=(e,t)=>{r[e]?t.push(r[e]):0!==r[e]&&{1715:1,2166:1,6694:1,6827:1,10504:1,17148:1,17895:1,18493:1,30072:1,30685:1,30821:1,32643:1,35577:1,36637:1,40953:1,43451:1,50905:1,51203:1,51943:1,59886:1,60274:1,73214:1,73509:1,74205:1,74336:1,85386:1,91906:1,95805:1,98271:1,99370:1}[e]&&t.push(r[e]=n(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))},(()=>{__webpack_require__.b=document.baseURI||self.location.href;var e={40481:0};__webpack_require__.f.j=(t,s)=>{var a=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==a)if(a)s.push(a[2]);else if(73509!=t){var n=new Promise(((s,n)=>a=e[t]=[s,n]));s.push(a[2]=n);var r=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(r,(s=>{if(__webpack_require__.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var n=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",o.name="ChunkLoadError",o.type=n,o.request=r,a[1](o)}}),"chunk-"+t,t)}else e[t]=0},__webpack_require__.O.j=t=>0===e[t];var t=(t,s)=>{var a,n,[r,o,i]=s,c=0;if(r.some((t=>0!==e[t]))){for(a in o)__webpack_require__.o(o,a)&&(__webpack_require__.m[a]=o[a]);if(i)var l=i(__webpack_require__)}for(t&&t(s);c<r.length;c++)n=r[c],__webpack_require__.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return __webpack_require__.O(l)},s=self.webpackChunkvkweb=self.webpackChunkvkweb||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var c=__webpack_require__.O(void 0,[91498,89631,50560,85172,762,21529,79210,81765,23592,84779],(()=>__webpack_require__(662388)));c=__webpack_require__.O(c)})();