"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[18170],{719358:(t,e,o)=>{o.d(e,{getUserFullName:()=>s});const s=t=>{const{first_name:e,last_name:o}=t;return`${e} ${o}`}},414714:(t,e,o)=>{o.d(e,{openArticleEditor:()=>s.openArticleEditor,shareAudioPlaylist:()=>s.shareAudioPlaylist,showPhoto:()=>s.showPhoto,showWiki:()=>s.showWiki});var s=o(458840)},713904:(t,e,o)=>{o.d(e,{mentionOver:()=>s.mentionOver,pageVerifiedTip:()=>s.pageVerifiedTip});var s=o(568775)},854140:(t,e,o)=>{o.d(e,{showReportForm:()=>s.showReportForm});var s=o(65759)},653915:(t,e,o)=>{o.d(e,{ChipAttachmentsList:()=>r});var s=o(474848),a=o(285056),i=o(815138),n=o(927804);const r=({TypographyComponent:t=a.Headline,attachments:e,separator:o})=>e.length?(0,s.jsx)(i.Join,{separator:o,children:e.map(((e,o)=>{const{chip:a}=e;if(!a)return null;let i="secondary";return"chip"===a.style?i="primary":"link"===a.style&&(i="link"),(0,s.jsx)(n.ChipAttachment,{href:e.chipEnriched?.url,openInNewTab:!0,onClick:t=>{t.stopPropagation(),e.chipEnriched?.onClick?.()},value:a.title[0].text,after:a.title[1]?.text,mode:i,TypographyComponent:t},o)}))}):null},61809:(t,e,o)=>{o.d(e,{ChipAttachmentsList:()=>s.ChipAttachmentsList});var s=o(653915)},843973:(t,e,o)=>{o.d(e,{PostActionButton:()=>r});var s=o(474848),a=o(628843),i=o(949408),n=o(648179);const r=({button:t,primary:e,openUrl:o,showDonutSubscribeModal:r,ownerId:l})=>{const{title:c,type:d,action:{type:h,url:u,peer_id:p}}=t,g=t=>{switch(t.preventDefault(),t.stopPropagation(),h){case"open_url":r&&"donut_support"===d?r?.(t,l):o?.(u);break;case"open_conversation":o?.(`im?sel=${p}`)}};return e?(0,s.jsx)(a.FeedActionCell,{before:"donut_goal"===d&&void 0!==t.progress?.percentage?(0,s.jsx)(a.FeedActionCell.Progress,{min:0,max:100,value:t.progress.percentage}):void 0,onClick:g,expandable:"always",children:c}):(0,s.jsx)(i.MiniInfoCell,{onClick:g,className:n.default.actionButton,children:c})}},606863:(t,e,o)=>{o.d(e,{PostActionButton:()=>s.PostActionButton});var s=o(843973)},920872:(t,e,o)=>{o.d(e,{extractChipAttachments:()=>a});var s=o(712050);const a=t=>{const e=t?.filter((t=>"chip"===t.style&&t.chip));return e?(0,s.default)(e,(t=>!1===t.chip?.is_cuttable)):[[],[]]}},399689:(t,e,o)=>{o.d(e,{PostUnderMediaButton:()=>n});var s=o(474848),a=o(628843),i=o(296540);const n=({attachment:t,openUrl:e,showDonutSubscribeModal:o,ownerId:n})=>{const r=(0,i.useMemo)((()=>{let s,a;if("action_button"===t.type){const{type:i,url:r,peer_id:l}=t.action_button?.action??{};switch(a=t.action_button?.title,i){case"open_url":s=n&&o&&"donut_support"===t.action_button?.type?t=>o?.(t,n):()=>e?.(r??"");break;case"open_conversation":s=()=>e?.(`im?sel=${l}`)}}else switch(t.type){case"mini_app":s=()=>e?.(`/app${t?.mini_app?.app?.id}`),a=t.mini_app?.description;break;case"situational_theme":s=()=>e?.(t?.situational_theme?.link??""),a=t?.situational_theme?.description;break;case"donut_link":s=()=>e?.(t?.donut_link?.button?.action?.url??""),a=t?.donut_link?.button?.title}return{title:a,onClick:s}}),[t]);return r.title?(0,s.jsx)(a.FeedActionCell,{expandable:"always",onClick:t=>{t.preventDefault(),t.stopPropagation(),r.onClick?.(t)},maxHeight:44,children:r.title}):null}},685671:(t,e,o)=>{o.d(e,{PostUnderMediaButton:()=>s.PostUnderMediaButton});var s=o(399689)},707632:(t,e,o)=>{o.d(e,{FeedPostContentContainerModel:()=>r});var s=o(331635),a=o(132028),i=o(655758),n=o(683884);class r{constructor(t,e){this.props=t,this.productionStats=e,this.feedPostClickAnalytics=new n.FeedPostClickAnalytics(this.props.current.analytics,this.productionStats)}}r=(0,s.__decorate)([a.scope.transient(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===a.Props?Object:a.Props,void 0===i.ProductionStats?Object:i.ProductionStats])],r)},906568:(t,e,o)=>{o.d(e,{PostHeaderContainerModel:()=>r});var s=o(331635),a=o(132028),i=o(655758),n=o(683884);class r{constructor(t,e){this.props=t,this.productionStats=e,this.feedPostClickAnalytics=new n.FeedPostClickAnalytics(this.props.current.analytics,this.productionStats)}}r=(0,s.__decorate)([a.scope.transient(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===a.Props?Object:a.Props,void 0===i.ProductionStats?Object:i.ProductionStats])],r)},776188:(t,e,o)=>{o.d(e,{FeedPostClickAnalytics:()=>a});var s=o(580403);class a extends s.PostClickAnalytics{createInteractionEventSender(t){return()=>{const{trackCode:e,screen:o="",ref:s=""}=this.eventData??{};e&&this.productionStats.send({type:"type_click",screen:o,type_click:{item:{type:t},type:"type_feed_interaction_item",type_feed_interaction_item:{ref:s,item:"wall_item",track_code:e}}})}}constructor(t,e){super(),this.eventData=t,this.productionStats=e,this.onPostExpandText=t=>{const{trackCode:e,screen:o}=this.eventData,{source:s}=t;e&&this.productionStats.send({type:"type_click",screen:o,type_click:{item:{track_code:e},type:"type_feed_post_expand_text",type_feed_post_expand_text:{source:s}}})},this.onPostCollapseText=()=>{const{trackCode:t,screen:e}=this.eventData;t&&this.productionStats.send({type:"type_click",screen:e,type_click:{item:{track_code:t},type:"type_feed_post_collapse_text",type_feed_post_collapse_text:{}}})},this.onOpenCommentsModalClick=t=>{const{trackCode:e,screen:o}=this.eventData,{entryPoint:s,commentId:a}=t;e&&this.productionStats.send({type:"type_click",screen:o,type_click:{type:"type_feed_open_comments_modal",type_feed_open_comments_modal:{entry_point:s,track_code:e,comment_id:a}}})},this.onOpenReactionsModalClick=t=>{const{trackCode:e,screen:o}=this.eventData,{entryPoint:s}=t;e&&this.productionStats.send({type:"type_click",screen:o,type_click:{item:{track_code:e},type:"type_feed_open_reactions_modal",type_feed_open_reactions_modal:{entry_point:s}}})}}}},683884:(t,e,o)=>{o.d(e,{FeedPostClickAnalytics:()=>s.FeedPostClickAnalytics});var s=o(776188)},723598:(t,e,o)=>{o.d(e,{CoauthorInviteCardWidget:()=>p});var s=o(474848),a=o(456921),i=o(132028),n=o(149333),r=o(327626),l=o(373080),c=o(175400),d=o(454154),h=o(286751);const u=(0,a.observer)((function(){const{text:t,title:e,isAcceptRequestLoading:o,isRejectRequestLoading:a,isMultiCoauthor:i,handleReject:u,handleAccept:p,mainCoauthor:g,props:{current:{postId:_,status:m,author:v,coauthors:C,onClose:f,onNavigate:w,showAcceptingCoauthorsModal:x,showRejectingCoauthorsModal:P}}}=(0,h.useCoauthorInviteModel)(),y=(0,n.useLangs)(),b=m===h.CoauthorInviteState.REJECTED,k=m===h.CoauthorInviteState.PENDING,A=!b&&!k;return(0,s.jsx)(r.Banner,{stretched:!0,asideMode:k?void 0:"dismiss",onDismiss:f,header:e,text:(0,s.jsx)(l.InnerHTML,{children:t}),actions:!A&&(0,s.jsxs)(c.ButtonGroup,{mode:"horizontal",gap:"m",stretched:!0,children:[k&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Button,{disabled:a,loading:o,onClick:()=>{C&&v&&(i?x({coauthors:C,postOwnerId:v.id,postId:_}):p((t=>{w({options:{params:{coauthor_acceptance_prev_state:JSON.stringify(t)}}})})))},mode:"primary",appearance:"accent",children:y.getLang("wall_coauthors_invite_card_accept")}),(0,s.jsx)(d.Button,{disabled:o,loading:a,onClick:()=>{C&&v&&(i?P({coauthors:C,postOwnerId:v.id,postId:_}):u((t=>{w({options:{params:{coauthor_acceptance_prev_state:JSON.stringify(t)}}})})))},mode:"link",appearance:"accent",children:y.getLang("wall_coauthors_invite_card_reject")})]}),b&&(0,s.jsx)(d.Button,{onClick:()=>{g?.rejectedPrivacyLink&&w({url:g.rejectedPrivacyLink})},mode:"link",appearance:"accent",children:y.getLang("wall_coauthors_invite_card_settings")})]})})})),p=(0,i.createWidget)(h.CoauthorInviteProvider,u)},826929:(t,e,o)=>{o.d(e,{CoauthorInviteProvider:()=>u,useCoauthorInviteModel:()=>p});var s=o(331635),a=o(609620),i=o(327813),n=o(468073),r=o(712600),l=o(229745),c=o(132028),d=o(219190);class h{[c.init](){const{author:t,coauthors:e,status:o}=this.getState();e.length&&(this.isMultiCoauthor=e.length>1,this.isMultiCoauthor||(this.mainCoauthor=e[0],this.mainCoauthorIsGroup=n.Ranges.isGroupId(this.mainCoauthor.id),this.mainCoauthor.name=this.prepareName(this.mainCoauthor.name,this.mainCoauthorIsGroup)),this.authorIsGroup=n.Ranges.isGroupId(t.id),this.props.current.author={...t,name:this.prepareName(t.name,this.authorIsGroup)},void 0===o?(this.props.current.status=d.CoauthorInviteState.PENDING,this.setInitialState()):this.setPrefState())}setInitialState(){this.isMultiCoauthor?this.setInviteToUserState():this.mainCoauthorIsGroup?this.setInviteToGroupState():this.setInviteToUserState()}prepareName(t,e){const o=(0,a.default)(t,{length:33});return e?`«${o}»`:o}setInviteToUserState(){const{author:t}=this.getState();let e=this.langs.getLang("wall_coauthors_invite_card_from_user_to_user_text");this.authorIsGroup&&(e=this.langs.getLang("wall_coauthors_invite_card_from_group_to_user_text")),this.text=e.replace("{name}",`<b>${t.name}</b>`)}setInviteToGroupState(){const{author:t}=this.getState();if(!this.mainCoauthor)return;let e=this.langs.getLang("wall_coauthors_invite_card_from_user_to_group_text");this.authorIsGroup&&(e=this.langs.getLang("wall_coauthors_invite_card_from_group_to_group_text")),this.text=e.replace("{from_name}",`<b>${t.name}</b>`).replace("{to_name}",`<b>${this.mainCoauthor.name}</b>`)}setPrefState(){switch(this.getState().status){case d.CoauthorInviteState.ACCEPTED:if(this.mainCoauthorIsGroup){this.setAcceptedByGroupState();break}this.setAcceptedByUserState();break;case d.CoauthorInviteState.REJECTED:this.setRejectedState();break;default:this.setInitialState()}}setAcceptedByGroupState(){this.title=this.langs.getLang("wall_coauthors_invite_card_accept_by_group_title"),this.text=this.langs.getLang("wall_coauthors_invite_card_accept_by_group_text")}setAcceptedByUserState(){this.title=this.langs.getLang("wall_coauthors_invite_card_accept_title"),this.text=this.langs.getLang("wall_coauthors_invite_card_accept_text")}setRejectedState(){this.text=this.langs.getLang("wall_coauthors_invite_card_reject_text"),this.title=""}getState(){const{author:t,coauthors:e,postId:o,status:s}=this.props.current;return{author:t,coauthors:e,postId:o,status:s}}constructor(t,e,o){this.langs=t,this.wallApi=e,this.props=o,this.authorIsGroup=!1,this.mainCoauthorIsGroup=!1,this.isAcceptRequestLoading=!1,this.isRejectRequestLoading=!1,this.text="",this.title="",this.isMultiCoauthor=!1,this.mainCoauthor=null,this.handleReject=async t=>{const{postId:e,author:o,coauthors:s}=this.getState();if(this.mainCoauthor){this.isRejectRequestLoading=!0;try{await this.wallApi.rejectCoOwnership({post_id:e,post_owner_id:o.id,co_owner_id:this.mainCoauthor.id}),t({postId:e,status:d.CoauthorInviteState.REJECTED,author:o,coauthors:s})}catch{(0,i.runInAction)((()=>{this.isRejectRequestLoading=!1}))}}},this.handleAccept=async t=>{const{postId:e,author:o,coauthors:s}=this.getState();if(this.mainCoauthor){this.isAcceptRequestLoading=!0;try{await this.wallApi.acceptCoOwnership({post_id:e,post_owner_id:o.id,co_owner_id:this.mainCoauthor.id}),t({postId:e,author:o,coauthors:s,status:d.CoauthorInviteState.ACCEPTED})}catch{(0,i.runInAction)((()=>{this.isAcceptRequestLoading=!1}))}}},(0,i.makeAutoObservable)(this)}}h=(0,s.__decorate)([c.scope.transient(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===r.Langs?Object:r.Langs,void 0===l.WallApi?Object:l.WallApi,void 0===c.Props?Object:c.Props])],h);const{Provider:u,useModel:p}=(0,c.createProvider)(h)},219190:(t,e,o)=>{o.d(e,{CoauthorInviteState:()=>s});const s={PENDING:0,ACCEPTED:1,REJECTED:2}},13511:(t,e,o)=>{o.d(e,{CoauthorsRequestModalBody:()=>_});var s=o(474848),a=o(296540),i=o(456921),n=o(303800),r=o(753457),l=o(194528),c=o(159618),d=o(398586),h=o(751268),u=o(175400),p=o(454154),g=o(286751);const _=(0,i.observer)((function(){const{subtitle:t,selectedId:e,actionText:o,actionHandler:i,isLoading:_,props:{current:{coauthors:m,refreshCoordinates:v,handleNavReload:C}},updateSelectedId:f}=(0,g.useCoauthorsRequestModal)();(0,a.useEffect)((()=>{v?.()}),[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Div,{mode:"horizontal",children:(0,s.jsx)(r.Subhead,{children:t})}),(0,s.jsx)(l.Spacing,{size:8}),(0,s.jsx)(c.SpacedList,{spacing:4,children:m.map((t=>(0,s.jsx)(d.SelectableCell,{before:(0,s.jsx)(h.RichAvatar,{size:48,src:t.src,alt:t.name,"aria-hidden":!0}),selectable:!1,checked:e===t.id,onChange:f(t.id),children:t.name},t.name+t.id)))}),(0,s.jsx)(n.Div,{children:(0,s.jsx)(u.ButtonGroup,{mode:"vertical",stretched:!0,align:"center",children:(0,s.jsx)(p.Button,{disabled:!e,loading:_,onClick:()=>{i?.((()=>{C()}))},stretched:!0,size:"l",mode:"primary",appearance:"accent",children:o})})})]})}))},599141:(t,e,o)=>{o.d(e,{CoauthorsRequestModalProvider:()=>d,useCoauthorsRequestModal:()=>h});var s=o(331635),a=o(327813),i=o(712600),n=o(229745),r=o(132028),l=o(790148);class c{[r.init](){if(this.props.current.mode===l.CoauthorModalMode.ACCEPTING)return this.title=this.langs.getLang("wall_coauthors_accepting_card_title"),this.subtitle=this.langs.getLang("wall_coauthors_accepting_card_subtitle"),this.actionText=this.langs.getLang("wall_coauthors_accepting_card_action"),void(this.actionHandler=this.accept);this.title=this.langs.getLang("wall_coauthors_rejecting_card_title"),this.subtitle=this.langs.getLang("wall_coauthors_rejecting_card_subtitle"),this.actionText=this.langs.getLang("wall_coauthors_rejecting_card_action"),this.actionHandler=this.reject}constructor(t,e,o){this.langs=t,this.wallApi=e,this.props=o,this.title="",this.subtitle="",this.actionText="",this.isLoading=!1,this.actionHandler=null,this.selectedId=null,this.updateSelectedId=t=>()=>{this.selectedId=t},this.accept=async t=>{if(this.selectedId){this.isLoading=!0;try{await this.wallApi.acceptCoOwnership({post_id:this.props.current.postId,post_owner_id:this.props.current.postOwnerId,co_owner_id:this.selectedId}),t()}catch{(0,a.runInAction)((()=>{this.isLoading=!1}))}}},this.reject=async t=>{if(this.selectedId){this.isLoading=!0;try{await this.wallApi.rejectCoOwnership({post_id:this.props.current.postId,post_owner_id:this.props.current.postOwnerId,co_owner_id:this.selectedId}),t()}catch{(0,a.runInAction)((()=>{this.isLoading=!1}))}}},(0,a.makeAutoObservable)(this)}}c=(0,s.__decorate)([r.scope.transient(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===i.Langs?Object:i.Langs,void 0===n.WallApi?Object:n.WallApi,void 0===r.Props?Object:r.Props])],c);const{Provider:d,useModel:h}=(0,r.createProvider)(c)},790148:(t,e,o)=>{o.d(e,{CoauthorModalMode:()=>s});const s={ACCEPTING:0,REJECTING:1}},669177:(t,e,o)=>{o.d(e,{PollModalProvider:()=>p,usePollModal:()=>g});var s=o(331635),a=o(327813),i=o(712600),n=o(734979),r=o(670252),l=o(132028),c=o(468073),d=o(719358);const h=2e3;class u{async[l.init](){await this.fetchPoll(),this.isFetching=!1}get canVote(){return 0===this.poll.answer_ids?.length&&!this.poll.closed&&!this.isPollFinished&&this.poll.can_vote}get canUnvote(){return!this.poll.disable_unvote&&this.isRevotingAvailable}get isPollFinished(){return Boolean(this.poll.end_date&&1e3*this.poll.end_date<=Date.now())}get isVotingAvailable(){return!(this.poll.answer_ids?.length||!this.poll.can_vote||this.isPollFinished)}get isShowResultsButtonDisabled(){return!!this.canVote}get isRevotingAvailable(){return!!this.poll.answer_ids?.length&&!this.isPollFinished&&!this.poll.disable_unvote&&this.poll.can_vote}get hasSelectedAnswers(){return this.selectedAnswers.size>0}get actionSheetText(){const t=this.poll.owner_id;if(c.Ranges.isGroupId(t)){const e=c.Ranges.convertOwnerIdToGroupId(t),o=this.poll.groups?.find((t=>t.id===e));if(o)return this.langs.langReplace(this.langs.getLang("wall_poll_actionsheet_group_title"),{community_name:o.name})}else{const e=this.poll.profiles?.find((e=>e.id===t));if(e)return this.langs.langReplace(this.langs.getLang("wall_poll_actionsheet_user_title"),{author:(0,d.getUserFullName)(e)})}return""}get pollTypeText(){return this.poll.anonymous?this.langs.getLang("voting_anonymous"):this.langs.getLang("voting_public")}get pollVotesText(){return 0===this.poll.votes?this.isPollFinished?this.langs.getLang("voting_no_voted"):this.langs.getLang("voting_vote_first"):this.langs.numeric(this.poll.votes,this.langs.getLang("voting_N_voted",!0))}get pollVotesAvatars(){return this.poll.anonymous?[]:this.poll.profiles?.filter((t=>this.poll.friends?.some((e=>e.id===t.id))))??[]}get pollSubtitle(){if(this.isPollFinished)return this.langs.getLang("voting_ended");let t=[];return this.poll?.disable_unvote&&t.push(this.langs.getLang("voting_unvote_disabled")),this.poll.end_date&&t.push(this.langs.date(new Date(1e3*this.poll.end_date),this.langs.getLang("voting_time_until",!0),this.langs.getLang("months_of",!0),{onlyDate:!0,offset:0})),t.join(" · ")}constructor(t,e,o,s){this.langs=t,this.pollsApi=e,this.snackbar=o,this.props=s,this.isFetching=!0,this.loading=!1,this.selectedAnswers=new Set,this.fetchPoll=async()=>{try{const t=await this.pollsApi.getById({owner_id:this.poll?.owner_id,poll_id:this.poll?.id,is_board:this.poll?.is_board?1:0,extended:1});(0,a.runInAction)((()=>{this.poll=t}))}catch(t){this.snackbar.show({type:"error",text:this.langs.getLang("voting_fetch_poll_failed"),duration:h})}},this.handleVote=async t=>{this.loading=!0;const e=Array.isArray(t);try{await this.pollsApi.addVote({owner_id:this.poll.owner_id,poll_id:this.poll.id,is_board:this.poll?.is_board?1:0,answer_ids:e?t.join(","):String(t)}),await this.fetchPoll()}catch(t){this.snackbar.show({type:"error",text:this.langs.getLang("voting_vote_failed"),duration:h})}finally{(0,a.runInAction)((()=>{this.loading=!1}))}this.handleShowResults()},this.handleSetMultipleAnswer=t=>{this.selectedAnswers.has(t)?this.selectedAnswers.delete(t):this.selectedAnswers.add(t),this.selectedAnswers=new Set(this.selectedAnswers)},this.handleVoteMultiple=async()=>{const t=[...this.selectedAnswers];await this.handleVote(t),this.selectedAnswers=new Set},this.handleDeleteVote=async()=>{this.loading=!0;try{await this.pollsApi.deleteVote({owner_id:this.poll.owner_id,poll_id:this.poll.id,is_board:this.poll?.is_board?1:0}),await this.fetchPoll()}catch(t){this.snackbar.show({type:"error",text:this.langs.getLang("voting_unvote_failed"),duration:h})}finally{(0,a.runInAction)((()=>{this.loading=!1}))}},this.handleShowResults=()=>{this.props.current.pollShowStatsAction(this.poll)},this.handleShowReport=()=>{this.props.current.pollReportAction(this.poll)},this.handleGetCode=()=>{this.props.current.pollGetCodeAction()},this.handleShare=()=>{this.props.current.pollShareAction()},this.poll=s.current.poll,(0,a.makeAutoObservable)(this)}}u=(0,s.__decorate)([l.scope.transient(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===i.Langs?Object:i.Langs,void 0===n.PollsApi?Object:n.PollsApi,void 0===r.Snackbar?Object:r.Snackbar,void 0===l.Props?Object:l.Props])],u);const{Provider:p,useModel:g}=(0,l.createProvider)(u)},740568:(t,e,o)=>{o.d(e,{PostChipAttachmentsWidget:()=>c});var s=o(474848),a=o(456921),i=o(132028),n=o(556700),r=o(61809);const l=(0,a.observer)((function(){const t=(0,n.usePostChipAttachmentsModel)();return(0,s.jsx)(r.ChipAttachmentsList,{attachments:t.enrichedAttachments,separator:t.props.current.separator,TypographyComponent:t.props.current.TypographyComponent})})),c=(0,i.createWidget)(n.PostChipAttachmentsProvider,l)},703122:(t,e,o)=>{o.d(e,{PostChipAttachmentsWidget:()=>s.PostChipAttachmentsWidget});var s=o(740568)},348429:(t,e,o)=>{o.d(e,{PostChipAttachmentsProvider:()=>l,usePostChipAttachmentsModel:()=>c});var s=o(331635),a=o(327813),i=o(132028);const n="chipEnriched";class r{[i.init](){this.enrichedAttachments=this.enrichChipAttachments(this.props.current.attachments)}enrichChipAttachments(t){if(!t)return[];const e=[];return t.forEach((t=>{switch(t.type){case"doc":e.push({chip:t.chip,[n]:{url:t.doc?.url}});break;case"poll":e.push({chip:t.chip,[n]:{onClick:()=>{t.poll&&this.handlePollClick(t.poll)}}});break;case"donut_link":e.push({chip:t.chip,[n]:{url:t.donut_link?.button?.action?.url}});break;case"artist":e.push({chip:t.chip,[n]:{url:`/artist/${t.artist?.domain??t.artist?.id}`}});break;case"curator":e.push({chip:t.chip,[n]:{url:t.curator?.url}});break;case"podcast":e.push({chip:t.chip,[n]:{url:t.podcast?.url}});break;case"sticker":e.push({chip:t.chip,[n]:{url:t.sticker?.pack_url}});break;case"graffiti":e.push({chip:t.chip,[n]:{url:t.graffiti?.url}});break;case"event":e.push({chip:t.chip,[n]:{url:`/event${t.event?.id}`}});break;case"page":e.push({chip:t.chip,[n]:{url:t.page?.url}});break;case"article":e.push({chip:t.chip,[n]:{url:t.article?.url}});break;case"market":e.push({chip:t.chip,[n]:{url:t.market?.url}});break;case"market_album":e.push({chip:t.chip,[n]:{url:`/market${t.market_album?.owner_id}?section=album_${t.market_album?.id}`}});break;case"link":e.push({chip:t.chip,[n]:{url:t.link?.url}});break;case"note":e.push({chip:t.chip,[n]:{url:t.note?.view_url}});break;case"mini_app":e.push({chip:t.chip,[n]:{url:t.mini_app?.app?.webview_url}});break;case"textlive":e.push({chip:t.chip,[n]:{url:t.textlive?.url}});break;case"narrative":e.push({chip:t.chip,[n]:{url:`/narrative${t.narrative?.owner_id}_${t.narrative?.id}`}});break;case"situational_theme":e.push({chip:t.chip,[n]:{url:t.situational_theme?.link}})}})),e}handlePollClick(t){this.props.current.showPollModal?.(t)}constructor(t){this.props=t,this.enrichedAttachments=[],(0,a.makeAutoObservable)(this)}}r=(0,s.__decorate)([i.scope.transient(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===i.Props?Object:i.Props])],r);const{Provider:l,useModel:c}=(0,i.createProvider)(r)},556700:(t,e,o)=>{o.d(e,{PostChipAttachmentsProvider:()=>s.PostChipAttachmentsProvider,usePostChipAttachmentsModel:()=>s.usePostChipAttachmentsModel});var s=o(348429)},453080:(t,e,o)=>{o.d(e,{ReactionsMenu:()=>v});var s=o(474848),a=o(194528),i=o(724648),n=o(582192),r=o(837046),l=o(157643),c=o(753457),d=o(723723),h=o(253889),u=o(456921),p=o(820852),g=o(990849),_=o(132028);const m=(0,u.observer)((function(){const t=(0,g.useReactionsMenuModel)(),{props:{current:{reactions:e,onReactionClick:o,isLoadingCountersLineData:u,likedUsersCount:_,reactedUsersPhotos:m,triggerClose:v,onCountersLineClick:C,...f}}}=t;return(0,s.jsxs)("div",{...f,children:[(0,s.jsx)(a.Spacing,{size:11}),(0,s.jsx)(i.Flex,{className:p.default.reactionsList,noWrap:!0,gap:"xl",children:e.map((t=>(0,s.jsx)("div",{children:(0,s.jsx)(h.ReactionItem,{reaction:t,onClick:()=>o?.(t.id)})},t.id)))}),(0,s.jsx)(a.Spacing,{size:20}),(0,s.jsx)(n.Separator,{wide:!0}),(0,s.jsx)(a.Spacing,{size:8}),u&&(0,s.jsx)(r.UsersStack,{size:"s",photos:[{src:"",renderWrapper:()=>(0,s.jsx)(l.Skeleton,{width:24,height:24,circle:!0})},{src:"",renderWrapper:()=>(0,s.jsx)(l.Skeleton,{width:24,height:24,circle:!0})}],children:(0,s.jsx)(l.Skeleton.Text,{height:13,width:"100%",children:" "})}),!u&&(_?(0,s.jsx)(c.Tappable,{hasHover:!1,hasActive:!1,onClick:()=>{C?.(),v?.()},children:m?(0,s.jsx)(r.UsersStack,{size:"m",photos:m,visibleCount:2,count:0,children:t.reactedUsersText}):(0,s.jsx)(c.Footnote,{className:(0,d.getColorClass)("color_text_secondary"),children:t.reactedUsersText})}):(0,s.jsx)(c.Footnote,{className:(0,d.getColorClass)("color_text_secondary"),children:t.reactedUsersText})),(0,s.jsx)(a.Spacing,{size:2})]})})),v=(0,_.createWidget)(g.ReactionsMenuProvider,m)},732577:(t,e,o)=>{o.d(e,{ReactionImage:()=>c});var s=o(474848),a=o(8520),i=o(624948),n=o(296540),r=o(293116),l=o(40327);const c=({reaction:t,size:e,playOnce:o,className:c,getRootRef:d,...h})=>{const u=t.asset.images,p=(0,n.useMemo)((()=>(0,a.getPhotoSize)(u,e)),[u,e]),g=t.asset.animation_url,_=e+12,m={"--reaction-image-size":`${e}px`};return(0,s.jsx)("div",{className:(0,a.classNames)(l.default.root,c),style:m,ref:d,...h,children:(0,s.jsx)("div",{className:l.default.animationContainer,children:(0,s.jsx)(i.Lottie,{fallback:p&&(0,s.jsx)(r.Image,{src:p.url,alt:t.title,size:e,noBorder:!0,className:l.default.fallbackImage}),options:{animationUrl:g,group:"reaction_image",loop:o,width:_,height:_}})})})}},275839:(t,e,o)=>{o.d(e,{ReactionImage:()=>s.ReactionImage});var s=o(732577)},756067:(t,e,o)=>{o.d(e,{ReactionItem:()=>r});var s=o(474848),a=o(753457),i=o(275839),n=o(740501);function r({reaction:t,onClick:e}){return(0,s.jsx)(a.Tooltip,{placement:"top",appearance:"neutral",offsetByMainAxis:22,text:(0,s.jsx)(a.Footnote,{weight:"2",children:t.title}),children:(0,s.jsx)(a.Tappable,{onClick:e,hoverMode:n.default.itemHover,className:n.default.item,children:(0,s.jsx)(i.ReactionImage,{className:n.default.reactionImage,reaction:t,size:36})})})}},253889:(t,e,o)=>{o.d(e,{ReactionItem:()=>s.ReactionItem});var s=o(756067)},160683:(t,e,o)=>{o.d(e,{ReactionsMenu:()=>s.ReactionsMenu});var s=o(453080)},990849:(t,e,o)=>{o.d(e,{ReactionsMenuProvider:()=>c,useReactionsMenuModel:()=>d});var s=o(331635),a=o(132028),i=o(327813),n=o(712600),r=o(908671);class l{get reactedUsersText(){const t=this.props.current.likedUsersCount;return 0===t?this.langs.getLang("news_feed_reactions_menu_reacted_users_none"):this.langs.langReplace(this.langs.numeric(t,this.langs.getLang("news_feed_reactions_menu_reacted_users",!0)),{count:(0,r.formatCount)(t)})}constructor(t,e){this.props=t,this.langs=e,(0,i.makeAutoObservable)(this)}}l=(0,s.__decorate)([a.scope.transient(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===a.Props?Object:a.Props,void 0===n.Langs?Object:n.Langs])],l);const{Provider:c,useModel:d}=(0,a.createProvider)(l)},286751:(t,e,o)=>{o.d(e,{CoauthorInviteCardWidget:()=>a.CoauthorInviteCardWidget,CoauthorInviteProvider:()=>s.CoauthorInviteProvider,CoauthorInviteState:()=>i.CoauthorInviteState,CoauthorModalMode:()=>r.CoauthorModalMode,CoauthorsRequestModalBody:()=>l.CoauthorsRequestModalBody,CoauthorsRequestModalProvider:()=>n.CoauthorsRequestModalProvider,PollModalProvider:()=>c.PollModalProvider,ReactionsMenu:()=>d.ReactionsMenu,useCoauthorInviteModel:()=>s.useCoauthorInviteModel,useCoauthorsRequestModal:()=>n.useCoauthorsRequestModal,usePollModal:()=>c.usePollModal});var s=o(826929),a=o(723598),i=o(219190),n=o(599141),r=o(790148),l=o(13511),c=o(669177),d=o(160683)},422837:(t,e,o)=>{o.d(e,{findActionAttachment:()=>s,findUnderMediaAttachment:()=>a});const s=t=>{if(t?.length)return t.find((({type:t})=>"action_button"===t))},a=t=>{if(t?.length)return t.find((({style:t})=>"under_media"===t))}},874290:(t,e,o)=>{o.d(e,{BlockWithPaddings:()=>i});var s=o(474848),a=o(303800);const i=({children:t,...e})=>(0,s.jsx)(a.Div,{...e,mode:"vertical",paddingTop:0,paddingBottom:0,spacing:12,children:t})},896853:(t,e,o)=>{o.d(e,{BlockWithPaddings:()=>s.BlockWithPaddings});var s=o(874290)},514568:(t,e,o)=>{o.d(e,{PostContentContainer:()=>C});var s=o(474848),a=o(131798),i=o(364318),n=o(303800),r=o(782212),l=o(920872),c=o(606863),d=o(685671),h=o(422837),u=o(582824),p=o(86928),g=o(896853),_=o(456921),m=o(113086),v=o(940286);const C=(0,_.observer)((function({currentUserId:t,item:e,attachmentsExpanded:o,video:_,groups:C,profiles:f,chunks:w,config:x,audioPlayer:P,legacyBlocks:y,postClickAnalytics:b,legacyActions:k,gif:A,footerAuthor:j,getPostSharedState:S}){const[I,M]=(0,l.extractChipAttachments)(e.attachments),{primary:L,grid:R,carousel:B}=(0,m.useAttachmentsByGroup)(e.attachments,e.attachments_meta),T=Boolean(L)||Boolean(R.length)||Boolean(B.length),F=(0,h.findActionAttachment)(e.attachments),W=(0,h.findUnderMediaAttachment)(e.attachments),E=F?.action_button,D=e.attachments?.some((t=>"full"===t.style));return(0,s.jsx)(i.AudioPlayerProvider,{ownerId:t,platformAudioPlayer:P,children:(0,s.jsx)(v.PostSharedStateProvider,{value:S(e.id),children:(0,s.jsxs)("div",{className:r.default.contentContainer,children:[y.primaryAttach||(0,s.jsx)(a.PostAttachmentsBlock,{item:e,attachmentsExpanded:o,video:_,groups:C,profiles:f,postClickAnalytics:b,legacyActions:k,gif:A,children:({primary:t})=>(0,s.jsx)(s.Fragment,{children:t})}),Boolean(E)&&T&&!W&&void 0!==E&&void 0!==e.owner_id&&void 0!==k?.showDonutSubscribePopup&&void 0!==k?.navigate&&(0,s.jsx)(c.PostActionButton,{button:E,primary:!0,openUrl:k?.navigate,showDonutSubscribeModal:k?.showDonutSubscribePopup,ownerId:e.owner_id}),T&&W&&void 0!==k?.navigate&&(0,s.jsx)(d.PostUnderMediaButton,{attachment:W,openUrl:k?.navigate,ownerId:e.owner_id,showDonutSubscribeModal:k?.showDonutSubscribePopup}),(0,s.jsxs)(n.Div,{mode:"vertical",paddingTop:0,paddingBottom:0,spacing:8,children:[(!!w?.length||!!M?.length)&&(0,s.jsx)(p.PostTextBlock,{chunks:w,config:x,chipAttachmentsAfterCut:I,chipAttachmentsUnderCut:M,currentUserId:t,hasAttachmentsBeforeText:D,item:e}),(0,s.jsx)(g.BlockWithPaddings,{children:y.secondaryAttach||(0,s.jsx)(a.PostAttachmentsBlock,{item:e,attachmentsExpanded:o,groups:C,profiles:f,legacyActions:k,children:({secondary:t})=>(0,s.jsx)(s.Fragment,{children:t})})}),j&&(0,s.jsx)(u.PostFooterAuthor,{label:j.label,href:j.url})]}),Boolean(E)&&!T&&void 0!==E&&void 0!==e.owner_id&&void 0!==k?.showDonutSubscribePopup&&void 0!==k?.navigate&&(0,s.jsx)(c.PostActionButton,{button:E,openUrl:k?.navigate,showDonutSubscribeModal:k?.showDonutSubscribePopup,ownerId:e.owner_id})]})})})}))},90424:(t,e,o)=>{o.d(e,{PostContentContainer:()=>s.PostContentContainer});var s=o(514568)},32916:(t,e,o)=>{o.d(e,{PostFooterAuthor:()=>c});var s=o(474848),a=o(303800),i=o(279734),n=o(412888),r=o(753457),l=o(723723);const c=({label:t,href:e})=>(0,s.jsx)(a.Div,{mode:"vertical",paddingTop:4,paddingBottom:4,spacing:12,children:(0,s.jsx)(i.Link,{href:e,children:(0,s.jsx)(n.TextClamp,{TypographyComponent:r.Footnote,className:(0,l.getColorClass)("color_text_secondary"),lines:1,children:t})})})},582824:(t,e,o)=>{o.d(e,{PostFooterAuthor:()=>s.PostFooterAuthor});var s=o(32916)},28490:(t,e,o)=>{o.d(e,{PostHeaderGeoBlock:()=>i});var s=o(474848),a=o(487376);const i=({placeInfo:t,openNearbyPhoto:e,openGeoFeed:o,postClickAnalytics:i})=>(0,s.jsxs)("div",{className:"PostHeaderSubtitle--withGeo",onClick:()=>{!t.placeId&&t.placeHash?(e(t.placeHash),i.onOpenNearbyPhoto()):(o(t.placeId),i.onOpenGeoFeed())},children:[(0,s.jsx)(a.Icon12Place,{className:"PostHeaderSubtitle__geoIcon"}),t.placeAddress]})},756563:(t,e,o)=>{o.d(e,{PostHeaderGeoBlock:()=>s.PostHeaderGeoBlock});var s=o(28490)},262062:(t,e,o)=>{o.d(e,{PostTextBlock:()=>m});var s=o(474848),a=o(194528),i=o(753457),n=o(279734),r=o(723723),l=o(64746),c=o(149333),d=o(896853),h=o(296540),u=o(703122),p=o(802592),g=o(414714),_=o(713904);const m=({chunks:t,config:e,currentUserId:o,chipAttachmentsAfterCut:m,chipAttachmentsUnderCut:v,hasAttachmentsBeforeText:C,item:f})=>{const w=(0,c.useLangs)(),x=(0,h.useRef)(null);return(0,s.jsxs)(d.BlockWithPaddings,{getRootRef:x,children:[(0,s.jsx)(a.Spacing,{size:C?12:16}),(0,s.jsxs)(l.PostText,{chunks:t,config:e,viewerId:o,hasPointerMode:!window.wkcur?.shown,onTextClick:(t,e)=>{const o=t.target;if(!o)return;if("A"===o.tagName)return;const s=o.closest("a");s&&x.current?.contains(s)||e&&!window.wkcur?.shown&&(0,g.showWiki)({w:`wall${f.owner_id}_${f.id}`},!1,void 0,{trackCode:f.track_code})},TypographyComponent:i.Subhead,squareText:!C,onMentionHover:t=>(0,_.mentionOver)(t.target),renderShowMoreButton:t=>(0,s.jsx)(i.Text,{weight:"3",Component:n.Link,onClick:t,className:(0,r.getColorClass)("color_text_secondary"),children:w.getLang("wall_post_text_show_more")}),children:[!!t?.length&&!!v?.length&&(0,s.jsx)(a.Spacing,{size:8,style:{width:0}}),(0,s.jsx)(u.PostChipAttachmentsWidget,{attachments:v,separator:(0,s.jsx)(a.Spacing,{size:8,style:{width:0}}),showPollModal:p.showPollModal})]}),!!m?.length&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Spacing,{size:8}),(0,s.jsx)(u.PostChipAttachmentsWidget,{attachments:m,separator:(0,s.jsx)(a.Spacing,{size:8}),showPollModal:p.showPollModal})]}),(0,s.jsx)(a.Spacing,{size:2})]})}},86928:(t,e,o)=>{o.d(e,{PostTextBlock:()=>s.PostTextBlock});var s=o(262062)},475845:(t,e,o)=>{o.d(e,{PostContentContainer:()=>s.PostContentContainer,PostHeaderGeoBlock:()=>a.PostHeaderGeoBlock});var s=o(90424),a=o(756563)},978881:(t,e,o)=>{o.d(e,{CoauthorsRequestModalWidget:()=>u});var s=o(474848),a=o(456921),i=o(149333),n=o(132028),r=o(694244),l=o(782174),c=o(63614),d=o(286751);const h=(0,a.observer)((function(){const t=(0,i.useLangs)(),{title:e,props:{current:{onClose:o}}}=(0,d.useCoauthorsRequestModal)();return(0,s.jsxs)(r.ModalBox,{children:[(0,s.jsx)(l.ModalHeader,{onClose:o,closeAriaLabel:t.getLang("global_close"),children:e}),(0,s.jsx)(c.ModalBody,{insetLevel:1,children:(0,s.jsx)(d.CoauthorsRequestModalBody,{})})]})})),u=(0,n.createWidget)(d.CoauthorsRequestModalProvider,h)},139068:(t,e,o)=>{o.d(e,{FeedPostContentContainerWidgetWeb:()=>c});var s=o(474848),a=o(707632),i=o(132028),n=o(475845);const{Provider:r,useModel:l}=(0,i.createProvider)(a.FeedPostContentContainerModel),c=(0,i.createWidget)(r,(function(){const t=l(),{analytics:e,...o}=t.props.current;return(0,s.jsx)(n.PostContentContainer,{...o,postClickAnalytics:t.feedPostClickAnalytics})}))},592477:(t,e,o)=>{o.d(e,{PollModalWidget:()=>x});var s=o(474848),a=o(456921),i=o(149333),n=o(132028),r=o(454154),l=o(694244),c=o(782174),d=o(507852),h=o(486114),u=o(377803),p=o(63614),g=o(908242),_=o(52509),m=o(286751),v=o(161378),C=o(835077),f=o(955408);const w=(0,a.observer)((function(){const t=(0,i.useLangs)(),{props:{current:{onClose:e,refreshCoordinates:o}},poll:a,selectedAnswers:n,handleVote:w,loading:x,isFetching:P,handleSetMultipleAnswer:y,handleDeleteVote:b,handleShowResults:k,handleShowReport:A,handleGetCode:j,handleShare:S,handleVoteMultiple:I,actionSheetText:M,canVote:L,canUnvote:R,hasSelectedAnswers:B,pollTypeText:T,pollVotesText:F,pollSubtitle:W,pollVotesAvatars:E,isShowResultsButtonDisabled:D}=(0,m.usePollModal)();if(P)return(0,s.jsx)(C.MessageBoxModalLoader,{refreshCoordinates:o});const O=[(0,s.jsx)(r.Button,{mode:"tertiary",appearance:"accent",disabled:D,onClick:k,children:t.getLang("wall_posting_poll_show_results")},1)];return a.multiple&&L&&O.push((0,s.jsx)(r.Button,{mode:"primary",appearance:"accent",disabled:!B||x,onClick:I,children:t.getLang("voting_vote")},2)),(0,s.jsxs)(l.ModalBox,{children:[(0,s.jsx)(c.ModalHeader,{onClose:e,closeAriaLabel:t.getLang("global_close"),after:(0,s.jsx)(d.DropdownActionSheet,{width:210,content:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.DropdownActionSheet.Item,{type:"header",multiline:!0,children:M}),(0,s.jsx)(h.SeparatorSpacing,{wide:!0}),R&&(0,s.jsx)(d.DropdownActionSheet.Item,{onClick:b,children:t.getLang("voting_revote")}),a.can_share&&(0,s.jsx)(d.DropdownActionSheet.Item,{onClick:S,children:t.getLang("voting_share")}),a.can_report&&(0,s.jsx)(d.DropdownActionSheet.Item,{onClick:A,children:t.getLang("voting_report")}),(0,s.jsx)(d.DropdownActionSheet.Item,{onClick:j,children:t.getLang("voting_export")})]}),children:(0,s.jsx)(_.Icon24MoreHorizontal,{fill:u.default.colorIconSecondary.normal.value})}),children:t.getLang("wall_posting_poll_header_text")}),(0,s.jsxs)(p.ModalBody,{insetLevel:2,children:[(0,s.jsx)(f.PollHeader,{title:a?.question,pollType:T,votesAvatars:E,votesText:F,subtitle:W}),(0,s.jsx)(v.PollOptions,{hasVoting:L,multiple:a.multiple,answers:a.answers,answerIds:a.answer_ids??[],loading:x,handleVoteSingle:w,selectedAnswers:n,setSelectedAnswers:y})]}),(0,s.jsx)(g.ModalFooter,{actions:O})]})})),x=(0,n.createWidget)(m.PollModalProvider,w)},955408:(t,e,o)=>{o.d(e,{PollHeader:()=>p});var s=o(474848),a=o(456921),i=o(837046),n=o(578392),r=o(279734),l=o(285056),c=o(723723),d=o(194528),h=o(724648),u=o(33305);const p=(0,a.observer)((function({title:t,pollType:e,votesAvatars:o,votesText:a,subtitle:p}){const g=o?.length?(0,s.jsx)(i.UsersStack,{size:"s",photos:o.map((t=>({src:String(t.photo_50),renderWrapper:e=>(0,s.jsx)(n.TextTooltip,{text:(0,u.getOwnerFullName)(t),children:(0,s.jsx)(r.Link,{href:(0,u.getOwnerHref)(t),target:"_blank",rel:"noreferrer",...e})})})))}):null;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Title,{level:"3",className:(0,c.getColorClass)("color_text_primary"),children:t}),(0,s.jsx)(d.Spacing,{size:4}),(0,s.jsxs)("div",{className:(0,c.getColorClass)("color_text_secondary"),children:[(0,s.jsxs)(h.Flex,{align:"center",children:[e,(0,s.jsx)(d.Spacing,{mode:"vertical"}),"·",(0,s.jsx)(d.Spacing,{mode:"vertical"}),g,(0,s.jsx)(d.Spacing,{mode:"vertical"}),a]}),(0,s.jsx)(h.Flex,{children:p})]}),(0,s.jsx)(d.Spacing,{size:20})]})}))},802592:(t,e,o)=>{o.r(e),o.d(e,{isValidOpenResultsCase:()=>d,showPollModal:()=>h});var s=o(474848),a=o(220428),i=o(835077),n=o(854140),r=o(414714),l=o(185977),c=o(592477);const d=t=>{const e=t.end_date&&1e3*t.end_date<=Date.now(),o=t.closed;return e||o},h=t=>{const e=(0,l.getPollRawObject)(t),o=()=>{window.Wall?.votingExport(null,{id:t.id,isBoard:t.is_board})},h=async()=>{window.Likes?.share(e)},u=()=>{(0,r.showWiki)({w:e})},p=()=>{const e=t.is_board?"board_poll":"poll";(0,n.showReportForm)(e,0,t.id)};d(t)?u():(0,i.showMessageBoxModal)((({onClose:e,...i})=>(0,s.jsx)(a.DIRootWebProvider,{children:(0,s.jsx)(c.PollModalWidget,{onClose:e,...i,poll:t,pollShowStatsAction:u,pollReportAction:p,pollGetCodeAction:o,pollShareAction:h})})),{width:510})}},913531:(t,e,o)=>{o.d(e,{PostHeaderContainerWidgetWeb:()=>c});var s=o(474848),a=o(906568),i=o(132028),n=o(475845);const{Provider:r,useModel:l}=(0,i.createProvider)(a.PostHeaderContainerModel),c=(0,i.createWidget)(r,(function(){const t=l(),{analytics:e,...o}=t.props.current;return(0,s.jsx)(n.PostHeaderGeoBlock,{...o,postClickAnalytics:t.feedPostClickAnalytics})}))},211073:(t,e,o)=>{o.d(e,{PostHeaderContainerWidgetWeb:()=>s.PostHeaderContainerWidgetWeb});var s=o(913531)},30828:(t,e,o)=>{o.d(e,{CoauthorsRequestModalWidget:()=>s.CoauthorsRequestModalWidget,FeedPostContentContainerWidgetWeb:()=>a.FeedPostContentContainerWidgetWeb,PostHeaderContainerWidgetWeb:()=>i.PostHeaderContainerWidgetWeb});var s=o(978881),a=o(139068),i=(o(592477),o(211073))},655758:(t,e,o)=>{o.d(e,{ProductionStats:()=>n});var s=o(331635),a=o(132028),i=o(422057);class n extends i.AnalyticsStats{getLastEvent(){return this.lastEvent}send(t){const e={...t,id:this.getIntId(),prev_id:this.getLastEvent()?.id,prev_nav_id:this.getIntId()??0,prev_event_id:this.getLastEvent()?.prev_nav_id??0,timestamp:this.getCurrentTime(),url:window.location.href};this.analytics.sendProductionStats(e),this.lastEvent=e}}n=(0,s.__decorate)([a.scope.global()],n)},734979:(t,e,o)=>{o.d(e,{PollsApi:()=>n});var s=o(331635),a=o(641569),i=o(132028);class n extends a.ApiNamespace{get namespace(){return"polls"}constructor(...t){super(...t),this.getBackgrounds=this.makeMethod("getBackgrounds"),this.getAnswersLimit=this.makeMethod("getAnswersLimit"),this.create=this.makeMethod("create"),this.edit=this.makeMethod("edit"),this.getById=this.makeMethod("getById"),this.addVote=this.makeMethod("addVote"),this.deleteVote=this.makeMethod("deleteVote")}}n=(0,s.__decorate)([i.scope.global()],n)},50790:(t,e,o)=>{o.d(e,{useIsMounted:()=>a});var s=o(296540);const a=()=>{const t=(0,s.useRef)(!1);return(0,s.useEffect)((()=>(t.current=!0,()=>{t.current=!1})),[]),(0,s.useCallback)((()=>t.current),[])}},624948:(t,e,o)=>{o.d(e,{Lottie:()=>r});var s=o(474848),a=o(8520),i=o(812153),n=o(206968);const r=({play:t,fallback:e,options:o,className:r,style:l,...c})=>{const{width:d,height:h}=o,{lottieContainerRef:u,lottieRendered:p}=(0,i.useLottie)({...o,className:n.default.canvas},{play:t});return(0,s.jsx)("div",{ref:u,...c,className:(0,a.classNames)(n.default.root,r),style:{...l,width:d??l?.width??"100%",height:h??l?.height??"100%"},children:(0,s.jsx)("div",{children:!p&&e})})}},812153:(t,e,o)=>{o.d(e,{useLottie:()=>n});var s=o(50790),a=o(296540),i=o(535130);function n(t,{play:e,show:o}={}){const{animationUrl:n,animationData:r}=t,l=(0,a.useRef)(!1),c=(0,a.useRef)(null),d=(0,a.useRef)(null),[h,u]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[_,m]=(0,a.useState)(!1),[v,C]=(0,a.useState)(!1),f=(0,s.useIsMounted)();(0,a.useEffect)((()=>{const t=d.current;t&&!_&&(void 0!==e&&(e?t.play():t.pause()),void 0!==o&&(o?t.show():t.hide()))}),[_,e,o]),(0,a.useLayoutEffect)((()=>((async()=>{const e=d.current;e?l.current=!1:(m(!0),C(!1));const o=c.current;if((n||r)&&o&&!l.current){l.current=!0,u(!1),g(null);try{const e=await i.LottieManager.loadAnimation({containers:[o],...t});e.addEventListener("enterFrame",(()=>{requestAnimationFrame((()=>{C(!0)}))}),{once:!0}),e.addEventListener("destroy",(()=>{C(!1)}),{once:!0}),m(!1),d.current=e}catch(t){u(!0),g(t)}f()&&e?.destroy()}})(),()=>{d.current?.destroy()})),[n,r]);return{lottieError:h,lottieLoading:_,lottieLoaded:!_&&!h,lottieRendered:v,lottiePlayerRef:d,lottieContainerRef:c,lottieErrorMessage:p}}},487376:(t,e,o)=>{o.d(e,{Icon12Place:()=>s});var s=(0,o(844990).makeIcon)("Icon12Place","place_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="place_12"><path fill="currentColor" fill-rule="evenodd" d="M10 5.053C10 2.855 8.212 1 6 1S2 2.855 2 5.053c0 1.54.983 3.335 2.899 5.456a1.48 1.48 0 0 0 2.11.094 2 2 0 0 0 .092-.094C9.018 8.389 10 6.592 10 5.052M6 3.5a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 6 3.5" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},648179:(t,e,o)=>{o.d(e,{default:()=>s});const s={actionButton:"PostActionButton__actionButton--3a1wk"}},820852:(t,e,o)=>{o.d(e,{default:()=>s});const s={reactionsList:"ReactionsMenu__reactionsList--0i4BC"}},40327:(t,e,o)=>{o.d(e,{default:()=>s});const s={root:"ReactionImage__root--KVE0c",animationContainer:"ReactionImage__animationContainer--BxKFa",fallbackImage:"ReactionImage__fallbackImage--d04hO"}},740501:(t,e,o)=>{o.d(e,{default:()=>s});const s={item:"ReactionItem__item--3Zqf4",itemHover:"ReactionItem__itemHover--oQVzW",reactionImage:"ReactionItem__reactionImage--FYP3A"}},782212:(t,e,o)=>{o.d(e,{default:()=>s});const s={contentContainer:"PostContentContainer__contentContainer--vnF3X"}},206968:(t,e,o)=>{o.d(e,{default:()=>s});const s={root:"Lottie__root--UFU5P",canvas:"Lottie__canvas--bb1CE"}},987257:(t,e,o)=>{o.d(e,{default:()=>s});const s=function(t,e,o,s){for(var a=-1,i=null==t?0:t.length;++a<i;){var n=t[a];e(s,n,o(n),t)}return s}},463469:(t,e,o)=>{o.d(e,{default:()=>a});var s=o(909501);const a=function(t,e,o,a){return(0,s.default)(t,(function(t,s,i){e(a,t,o(t),i)})),a}},909501:(t,e,o)=>{o.d(e,{default:()=>a});var s=o(679841);const a=(0,o(613641).default)(s.default)},414057:(t,e,o)=>{o.d(e,{default:()=>s});const s=(0,o(143013).default)()},679841:(t,e,o)=>{o.d(e,{default:()=>i});var s=o(414057),a=o(327422);const i=function(t,e){return t&&(0,s.default)(t,e,a.default)}},660672:(t,e,o)=>{o.d(e,{default:()=>r});var s=o(987257),a=o(463469),i=o(952141),n=o(292049);const r=function(t,e){return function(o,r){var l=(0,n.default)(o)?s.default:a.default,c=e?e():{};return l(o,t,(0,i.default)(r,2),c)}}},613641:(t,e,o)=>{o.d(e,{default:()=>a});var s=o(238446);const a=function(t,e){return function(o,a){if(null==o)return o;if(!(0,s.default)(o))return t(o,a);for(var i=o.length,n=e?i:-1,r=Object(o);(e?n--:++n<i)&&!1!==a(r[n],n,r););return o}}},143013:(t,e,o)=>{o.d(e,{default:()=>s});const s=function(t){return function(e,o,s){for(var a=-1,i=Object(e),n=s(e),r=n.length;r--;){var l=n[t?r:++a];if(!1===o(i[l],l,i))break}return e}}},712050:(t,e,o)=>{o.d(e,{default:()=>s});const s=(0,o(660672).default)((function(t,e,o){t[o?0:1].push(e)}),(function(){return[[],[]]}))}}]);try{stManager?.done("dist/web/chunks/64c542cd.9aeac7de.js")}catch(t){}