"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[85795],{199313:(e,t,o)=>{o.d(t,{FriendsAddResponseEnumNames:()=>n});const n={SEND:1,APPROVED:2,RESEND:4}},724487:(e,t,o)=>{function n(e){return 17===e?.error_code}function s(e){return n(e)&&Boolean(e.redirect_uri?.includes("act=validate"))}function i(e){return!!e&&"object"==typeof e&&"error_code"in e}o.d(t,{isApiError:()=>i,isPhoneValidationError:()=>s})},909556:(e,t,o)=>{o.d(t,{getEnvConfigValue:()=>i,isEnvConfigEnabled:()=>s});var n=o(540462);function s(e){return(0,n.partConfigEnabled)(e)}function i(e){return(0,n.getConfigValue)(e)}},663456:(e,t,o)=>{o.d(t,{times:()=>n});const n=(e,t)=>Array.from({length:e},((e,o)=>t(o)))},314992:(e,t,o)=>{o.d(t,{isUserAuthorized:()=>s});var n=o(810068);function s(){const e=window?.vk?.id||0;return!n.Ranges.isZeroOwner(e)}},699043:(e,t,o)=>{o.d(t,{fetchUsersRecommendations:()=>r});var n=o(957994),s=o(443090),i=o(244886);function r(e,t,o,r,a,d=i.USERS_PER_PAGE_NUMBER){return(0,n.api)("friends.getRecommendations",(0,s.getFetchUsersRecommendationsParams)(e,t,o,r,a,d)).then((e=>(0,s.isErrorType)(e)?Promise.reject(e):(0,s.transformFetchUsersRecommendationsResponse)(e,t)))}},46361:(e,t,o)=>{o.d(t,{withErrorBoundary:()=>l});var n=o(474848),s=o(296540),i=o(172656),r=o(720836),a=o(454154),d=o(866467),c=o(77480);function l(e,t){return o=>(0,n.jsx)(u,{...t,children:(0,n.jsx)(e,{...o})})}class u extends s.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){(0,c.logProfileError)({error:e,additionalText:"Rendering error has happened in component",extra:t})}render(){return this.state.hasError?(0,n.jsx)(i.Group,{separator:this.props.withSeparator?"show":"hide",children:(0,n.jsx)(r.Placeholder,{header:d.getLang("global_error"),action:(0,n.jsx)(a.Button,{mode:"tertiary",loading:this.state.isReloading,onClick:this.onClick,children:d.getLang("global_reload")}),children:d.getLang("profile_unknown_error")})}):this.props.children}constructor(...e){super(...e),this.state={hasError:!1,isReloading:!1},this.onClick=()=>{this.setState({isReloading:!0}),window.nav.reload({force:!0})}}}u.defaultProps={withSeparator:!0}},798976:(e,t,o)=>{o.d(t,{UserItemView:()=>m});var n=o(474848),s=o(618484),i=o(454154),r=o(711032),a=o(694430),d=o(8520),c=o(866467),l=o(9860),u=o(512253);const m=({user:e,image:t,imagePosition:o,isMobile:m,status:_,descriptions:h,isHiding:f,isAdding:g,buttonDisabled:p,buttonLabel:k,mode:S,href:v,getRootRef:b,onAdd:R,onHide:w,onClick:C,onTransitionEnd:E})=>{const x=m?"l":"m";return(0,n.jsx)("div",{className:(0,d.classNames)(l.sizeModifiersMap[x],u.default.userItemRoot,f&&u.default.userItemRootHide),children:(0,n.jsx)(s.UserRecommendationItem,{"aria-label":`${e.first_name} ${e.last_name}`,getRootRef:b,name:`${e.first_name} ${e.last_name}`,image:t,imagePosition:o,descriptions:h,status:_,size:x,hide:f,onClose:w,closeAriaLabel:c.getLang("global_hide"),after:(0,n.jsx)(i.Button,{before:!p&&(m?(0,n.jsx)(r.Icon16Add,{}):(0,n.jsx)(a.Icon24Add,{})),stretched:!0,size:"m",role:"button","aria-label":k,appearance:"overlay",mode:S,loading:g,disabled:p,onClick:R,children:k}),href:v,target:m?"_self":"_blank",onHide:E,onClick:C})})}},237793:(e,t,o)=>{o.d(t,{UserItemViewRedesign:()=>r});var n=o(474848),s=o(224788),i=o(866467);const r=({user:e,image:t,imagePosition:o,isMobile:r,subtitle:a,badge:d,isHiding:c,isAdding:l,buttonDisabled:u,buttonLabel:m,href:_,getRootRef:h,photoSize:f,onAdd:g,onHide:p,onClick:k,onTransitionEnd:S})=>(0,n.jsx)(s.RecommendationBlock.Card,{buttonLabel:m,spacing:12,"aria-label":`${e.first_name} ${e.last_name}`,getRootRef:h,title:`${e.first_name} ${e.last_name}`,subtitle:a,image:t,imagePosition:o,badge:d,hide:c,closeAriaLabel:i.getLang("global_hide"),photoSize:f,isButtonDisabled:u,isButtonLoading:l,href:_,target:r?"_self":"_blank",onClose:p,onButtonClick:g,onHide:S,onClick:k})},741722:(e,t,o)=>{o.d(t,{friendsAdd:()=>i,friendsHideSuggestion:()=>s});var n=o(957994);async function s(e){return(0,n.api)("friends.hideSuggestion",e)}async function i(e){return(0,n.api)("friends.add",e,{grouping:!1})}},177035:(e,t,o)=>{o.d(t,{UserRecommendationItem:()=>p});var n=o(474848),s=o(296540),i=o(140094),r=o(891281),a=o(199313),d=o(489569),c=o(866467),l=o(172479),u=o(238362),m=o(798976),_=o(237793),h=o(8520),f=o(244886),g=o(741722);const p=({user:e,newIndex:t,itemSize:o,trackCode:p,analyticRef:k,enabledCropPhotoCanvas:S,enabledCropPhotoCss:v,isRedesignV3:b,photoSize:R,onView:w,onHide:C,onAddToFriendsDone:E,onAddToFriendsFail:x,...I})=>{const[F,y]=(0,i.useInView)({triggerOnce:!0,threshold:.75}),[N,A]=(0,s.useState)(),[M,T]=(0,s.useState)(),[B,j]=(0,s.useState)(!1),[O,L]=(0,s.useState)(!1),[U,H]=(0,s.useState)(!1),[D,P]=(0,s.useState)(!1),[V,z]=(0,s.useState)(!1),[$,W]=(0,s.useState)(null),[G,Y]=(0,s.useState)(e.friend_status||r.FriendsFriendStatusStatusEnumNames.NOT_A_FRIEND),q=(0,s.useCallback)((t=>{t.stopPropagation(),t.preventDefault(),H(!0),(0,g.friendsHideSuggestion)({user_id:e.id,track_code:p,ref:k})}),[e,p,k]),K=(0,s.useCallback)((t=>{(0,d.isMainClick)(t.nativeEvent)&&(t.stopPropagation(),t.preventDefault(),j(!0),(0,g.friendsAdd)({user_id:e.id,track_code:e.track_code,source:k}).then((t=>{t===a.FriendsAddResponseEnumNames.APPROVED?Y(r.FriendsFriendStatusStatusEnumNames.IS_FRIEND):t===a.FriendsAddResponseEnumNames.SEND&&Y(r.FriendsFriendStatusStatusEnumNames.OUTCOMING_REQUEST),L(!0),E?.(e,t)}),(({error:t})=>{x?.(e,t)})).finally((()=>j(!1))))}),[e,k,E,x]),Q=(0,s.useCallback)((()=>{P(!0),C?.(e.id)}),[C,e.id]);(0,s.useEffect)((()=>{y&&w()}),[y]),(0,s.useEffect)((()=>{D&&H(!1)}),[D]),(0,s.useEffect)((()=>{O&&H(!0)}),[O]);const Z=(0,s.useMemo)((()=>G===r.FriendsFriendStatusStatusEnumNames.IS_FRIEND?"primary":G===r.FriendsFriendStatusStatusEnumNames.OUTCOMING_REQUEST?"secondary":G===r.FriendsFriendStatusStatusEnumNames.INCOMING_REQUEST?"primary":"secondary"),[G]),J=(0,s.useMemo)((()=>G===r.FriendsFriendStatusStatusEnumNames.IS_FRIEND?c.getLang("friends_request_become_friend"):G===r.FriendsFriendStatusStatusEnumNames.OUTCOMING_REQUEST?c.getLang("friends_request_friend_sent"):G===r.FriendsFriendStatusStatusEnumNames.INCOMING_REQUEST?c.getLang("global_accept"):"follow"===e?.social_button_type?c.getLang("public_subscribe"):c.getLang("global_add")),[G,e]),X=(0,s.useMemo)((()=>G===r.FriendsFriendStatusStatusEnumNames.IS_FRIEND||G===r.FriendsFriendStatusStatusEnumNames.OUTCOMING_REQUEST),[G]),ee=(0,s.useMemo)((()=>e.descriptions?.map((e=>({text:e.text,photos:"images"===e.content_type?e.images?.map((e=>(0,h.getPhotoSize)(e,f.USER_STACK_AVATAR_SIZE*window.devicePixelRatio)?.url||"")):void 0})))||[]),[e]),te=(0,s.useMemo)((()=>ee.find((e=>!e.photos))?.text||""),[ee]),oe=(0,s.useMemo)((()=>ee.find((e=>!!e.photos))),[ee]),ne=(0,s.useMemo)((()=>(0,l.getOwnerUrl)(e)),[e]),se=(0,s.useMemo)((()=>{if(O)return G===r.FriendsFriendStatusStatusEnumNames.IS_FRIEND?c.getLang("friends_recom_accepted"):Boolean(e.can_access_closed)?c.getLang("friends_you_are_subscribed"):c.getLang("friends_request_friend_sent")}),[G,O,e]);return(0,s.useEffect)((()=>{if(e&&!V&&!N){if(S&&(0,u.needCrop)(e,10)||v)if(o&&v){const t=(0,u.getCropRectObject)(e);let n=e.photo_400||e.photo_200||e.photo_100||"";const s=(0,u.getUserPhotoPosition)(t,e,o.width,o.height);if(s){const{url:e,userPhotoPosition:t}=s;T(t),n=e}A(n)}else o&&S&&W(setTimeout((()=>{z(!0);const t=(0,u.getCropRectObject)(e);(0,u.getUserPhoto)(t,e,o.width,o.height).then(A)}),Math.floor(t/f.COUNT_VISIBLE_ITEMS)*f.STEP_ASYNC_LOAD_PHOTOS_TIMEOUT));else A(e.photo_400||e.photo_200||e.photo_100||"");return()=>{$&&clearTimeout($)}}}),[e,o,t]),D?null:b?(0,n.jsx)(_.UserItemViewRedesign,{...I,user:e,image:N,imagePosition:M,subtitle:te,badge:oe,isHiding:U,isAdding:B,buttonDisabled:X,buttonLabel:J,href:ne,getRootRef:F,photoSize:R,onAdd:K,onHide:q,onTransitionEnd:Q}):(0,n.jsx)(m.UserItemView,{...I,user:e,image:N,imagePosition:M,status:se,descriptions:ee,isHiding:U,isAdding:B,buttonDisabled:X,buttonLabel:J,mode:Z,href:ne,getRootRef:F,onAdd:K,onHide:q,onTransitionEnd:Q})}},9860:(e,t,o)=>{o.d(t,{ContentStatus:()=>n,sizeModifiersMap:()=>i});var n,s=o(512253);!function(e){e.exist="exist",e.notEnoughData="notEnoughData"}(n||(n={}));const i={s:s.default.userItemSizeS,m:s.default.userItemSizeM,l:s.default.userItemSizeL}},332438:(e,t,o)=>{o.d(t,{UsersBlockView:()=>k});var n=o(474848),s=o(296540),i=o(172656),r=o(753457),a=o(556792),d=o(8520),c=o(822180),l=o(77054),u=o(177035),m=o(866467),_=o(715385),h=o(221383),f=o(170505),g=o(50115),p=o(540462);const k=({isLoading:e,items:t,title:o,lastViewIndex:k,linkMore:S,blockTitle:v,showIcon:b,actions:R=[],isMobile:w,needFooter:C,onCardView:E,onClick:x,onHideFriend:I,...F})=>{const y=(0,p.partConfigEnabled)("feed_web_no_islands")||(0,p.partConfigEnabled)("mkv_feed_redesign_no_islands");return(0,n.jsx)(i.Group,{separator:"hide",mode:y?"plain":"card",header:(0,n.jsx)(c.FeedBlockHeader,{showIcon:b,isMobile:w,actions:R,children:v??o}),children:(0,n.jsxs)(i.Group.ExpandedContent,{children:[(0,n.jsx)(r.HorizontalScroll,{getScrollToLeft:_.handleScrollToLeft,getScrollToRight:_.handleScrollToRight,arrowSize:"l",children:(0,n.jsx)("div",{className:h.default.usersBlockItemsWrap,children:(0,n.jsxs)("div",{className:(0,d.classNames)(h.default.usersBlockItems,w&&g.default.usersBlockItems),children:[t?.map(((e,t)=>(0,s.createElement)(u.UserRecommendationItem,{...F,key:e.id,user:e,isMobile:w,newIndex:Math.abs(t-k)+1,trackCode:e.track_code||"",onHide:I,onView:()=>E(e,t),onClick:()=>x?.(e)}))),e&&(0,n.jsx)(a.UserRecommendationLoadingItem,{size:w?"l":"m"})]})})}),C?(0,n.jsx)(l.UsersFooterAction,{isMobile:w,href:S,text:m.getLang("friends_show_more_rec")}):(0,n.jsx)("div",{className:(0,d.classNames)(h.default.usersBlockFooterSpacing,!w&&f.default.usersBlockFooterSpacing)})]})})}},860231:(e,t,o)=>{o.d(t,{UsersBlockViewRedesign:()=>l});var n=o(474848),s=o(224788),i=o(591378),r=o(177035),a=o(866467),d=o(715385),c=o(540462);const l=({isLoading:e,items:t,title:o,lastViewIndex:l,linkMore:u,blockTitle:m,isMobile:_,photoSize:h,isShowAllCard:f,isBlockErrorRedesignV3:g,onCardView:p,onHideFriend:k,onHideBlock:S,onClick:v,loadUsersRecommendations:b,...R})=>{const w=h??"square",C=(0,c.partConfigEnabled)("feed_web_no_islands");return(0,n.jsx)(s.RecommendationBlock,{headerType:"groupHeader",wrapperMode:C?"plain":void 0,header:m??(o||""),closeAriaLabel:a.getLang("global_hide"),onClose:S,bottomSpacing:!0,children:g?(0,n.jsx)(s.RecommendationBlock.ContentError,{size:w,buttonLabel:a.getLang("groups_feed_recommend_repeat_try"),hasSeparator:_,onButtonClick:b,cardProps:{withButton:!0},children:a.getLang("groups_feed_recommend_loading_error")}):(0,n.jsx)(i.Grid,{columns:"dynamic",rowSpacing:12,children:(0,n.jsxs)(i.Grid.HorizontalScroll,{padding:"base",getScrollToLeft:d.handleScrollToLeft,getScrollToRight:d.handleScrollToRight,arrowSize:"m",children:[t?.map(((e,t)=>(0,n.jsx)(i.Grid.Item,{children:(0,n.jsx)(r.UserRecommendationItem,{...R,user:e,isMobile:_,newIndex:Math.abs(t-l)+1,trackCode:e.track_code||"",isRedesignV3:!0,photoSize:h,onView:()=>p(e,t),onHide:k,onClick:()=>v?.(e)})},e.id))),e&&(0,n.jsx)(i.Grid.Item,{children:(0,n.jsx)(s.RecommendationBlock.LoadingCard,{size:w,cardProps:{withButton:!0}})}),f&&(0,n.jsx)(i.Grid.Item,{children:(0,n.jsx)(s.RecommendationBlock.ShowAllCard,{size:w,href:u,cardProps:{withButton:!0},children:a.getLang("groups_feed_recommend_show_all")})})]})})})}},97933:(e,t,o)=>{o.d(t,{UsersBlockWrap:()=>h});var n=o(474848),s=o(929935),i=o(866467),r=o(721130),a=o(276547),d=o(538427),c=o(796842),l=o(928581),u=o(229101),m=o(540462),_=o(443090);const h=(0,u.withUsersRecomStatisticMethods)((0,l.withStatisticMethods)((({stateAsync:e,reloadBlockNode:t,reloadHeaderBlockNode:o,block:l,blockTitle:u,showIcon:h,isMobile:f,needFooter:g=!0,isRedesignV3:p,photoSize:k,isBlockErrorRedesignV3:S,hiddenCount:v,...b})=>{const R=(0,m.partConfigEnabled)("feed_web_no_islands")||(0,m.partConfigEnabled)("mkv_feed_redesign_no_islands");return(l||e===c.STATE_ASYNC.NONE)&&e!==c.STATE_ASYNC.LOADING&&e!==c.STATE_ASYNC.ERROR||S?(0,_.isExpHideBlock)(f)&&0===l?.items?.length&&v>0?(0,n.jsx)(d.FeedHideBlock,{title:i.getLang("news_feed_block_apps_recommendation_all_items_closed_title"),subtitle:i.getLang("news_feed_block_apps_recommendation_all_items_closed_text"),isMobile:f}):e===c.STATE_ASYNC.NONE?null:(0,n.jsx)(s.UsersBlock,{...b,stateAsync:e,block:l,showIcon:h,blockTitle:u,isMobile:f,needFooter:g,isRedesignV3:p,photoSize:k,isBlockErrorRedesignV3:S}):p?(0,n.jsx)(a.RecommendationSkeleton,{cardsAmount:5,blockTitle:u??i.getLang("friends_recs_block_title"),withButton:!0,photoSize:k,isMobile:f,withBorder:!R}):(0,n.jsx)(r.CarouselSkeleton,{cardsAmount:5,type:"full",blockTitle:u??i.getLang("friends_recs_block_title"),showIcon:h,isMobile:f,size:f?"l":"m",footerNode:t,moreIconNode:o,needFooter:g,withBorder:!R})})))},929935:(e,t,o)=>{o.d(t,{UsersBlock:()=>S});var n=o(474848),s=o(296540),i=o(199313),r=o(74605),a=o(8520),d=o(686187),c=o(244886),l=o(724487),u=o(172479),m=o(46361),_=o(332438),h=o(860231),f=o(866467),g=o(249525),p=o(306776),k=o(540462);o(221383);const S=(0,m.withErrorBoundary)((({block:e,blockType:t,trackCode:o,analyticRef:m,onLoadMore:S,isLoading:v,showIcon:b,unmount:R,showDoneBox:w,showValidationError:C,needFooter:E,isRedesignV3:x,photoSize:I,isBlockErrorRedesignV3:F,loadUsersRecommendations:y,handleHideBlock:N,handleShowCard:A,handleOpenCard:M,handleAddToFriendsDone:T,...B})=>{const[j,O]=(0,s.useState)(0),L=(0,g.useUserRecommendationsServiceInstance)(),U=(0,s.useCallback)((()=>{R(),(0,k.partConfigEnabled)("feed_user_rec_news_feed_ignore_item_in_statistic_hoc")||(0,p.newsfeedIgnoreItem)({type:t,ref:m,item_id:window.vk.id,owner_id:window.vk.id,track_code:o}),N&&N()}),[R,t,m,o,N]),H=(0,s.useMemo)((()=>[{text:f.getLang("global_hide"),onClick:U,beforeIcon:(0,n.jsx)(d.Icon20BlockOutline,{})}]),[U]),D=(0,s.useCallback)(((t,o)=>{O(o);const{id:n,track_code:s=""}=t;A&&A(n,s,o);const{items:i=[]}=e||{};o>=i.length-1-c.LOAD_MORE_OFFSET&&S?.()}),[e,S]),P=(0,s.useCallback)(((e,t)=>{let o="";const n=(0,u.getOwnerUrl)(e),s=`<a href="${n}">${(0,a.encodeHTMLEntities)((0,a.escape)(e.first_name_acc||""))}</a>`,d=`<a href="${n}">${(0,a.encodeHTMLEntities)((0,a.escape)(e.first_name||""))}</a>`,c=`<a href="${n}">${(0,a.encodeHTMLEntities)((0,a.escape)(e.first_name_gen||""))}</a>`;if(t===i.FriendsAddResponseEnumNames.APPROVED)o=f.getLang("global_friend_add_result_msg_are_friends").replace("{user_genetive}",c),w?.(o);else if(t===i.FriendsAddResponseEnumNames.SEND){let t="";t=e.can_access_closed?"follow"===e?.social_button_type?f.getLang("global_friend_subscribe_result_msg"):(0,f.langSex)(e.sex||r.BaseSexEnumNames.UNKNOWN,f.getLang("global_friend_add_result_msg_subscribed","raw")):"follow"===e?.social_button_type?(0,f.langSex)(e.sex||r.BaseSexEnumNames.UNKNOWN,f.getLang("global_closed_friend_add_subscribe_request_sent","raw")):f.getLang("global_closed_friend_request_sent_msg"),t=t.replace("{user_accusative}",s).replace("{user_nominative}",d).replace("{user_genetive}",c),w?.(t)}T&&T(e.track_code)}),[]),V=(0,s.useCallback)(((e,t)=>{(0,l.isPhoneValidationError)(t)?C?.(e):w?.(f.getLang("global_unknown_error"))}),[]),z=(0,s.useCallback)((e=>{const{id:t,track_code:o=""}=e||{};M&&M(t,o)}),[M]),{items:$=[],next_from:W,title:G}=e||{},Y=!W&&!v;return x?(0,n.jsx)(h.UsersBlockViewRedesign,{...B,isLoading:v,lastViewIndex:j,items:$,title:G,analyticRef:m,photoSize:I,isShowAllCard:Y,isBlockErrorRedesignV3:F,onCardView:D,onAddToFriendsDone:P,onAddToFriendsFail:V,onHideFriend:L.fireHideUserFromFriendsRecommendations,onHideBlock:U,onClick:z,loadUsersRecommendations:y}):(0,n.jsx)(_.UsersBlockView,{...B,isLoading:v,lastViewIndex:j,items:$,title:G,analyticRef:m,showIcon:b,actions:H,needFooter:E,onCardView:D,onAddToFriendsDone:P,onAddToFriendsFail:V,onHideFriend:L.fireHideUserFromFriendsRecommendations,onClick:z})}))},715385:(e,t,o)=>{o.d(t,{handleScrollToLeft:()=>s,handleScrollToRight:()=>i});var n=o(244886);const s=e=>e-2*(n.CARD_WIDTH+n.CARD_GAP),i=e=>e+2*(n.CARD_WIDTH+n.CARD_GAP)},77054:(e,t,o)=>{o.d(t,{UsersFooterAction:()=>c});var n=o(474848),s=o(8520),i=o(285056),r=o(753457),a=o(20115),d=o(23535);const c=({text:e,href:t,isMobile:o,withIcon:c=!0,className:l,onClick:u,role:m="button"})=>{const _=o?(0,n.jsx)(i.Headline,{level:"1",weight:"2",children:e}):(0,n.jsx)(r.Text,{children:e}),h=(0,n.jsxs)(n.Fragment,{children:[_,c&&(0,n.jsx)("div",{className:d.default.usersFooterActionIcon,"aria-hidden":!0,children:(0,n.jsx)(a.Icon16ChevronOutline,{})})]}),f=(0,s.classNames)(d.default.usersFooterActionRoot,l);return t?(0,n.jsx)("div",{className:f,onClick:u,role:m,children:(0,n.jsx)("div",{className:d.default.usersFooterActionMiddle,children:(0,n.jsx)("a",{role:"link",target:o?"_self":"_blank",href:t,className:d.default.usersFooterActionLink,children:h})})}):(0,n.jsx)("div",{className:f,role:m,children:(0,n.jsx)("div",{className:d.default.usersFooterActionMiddle,children:(0,n.jsx)("div",{className:d.default.usersFooterActionLink,onClick:u,children:h})})})}},244886:(e,t,o)=>{o.d(t,{CARD_GAP:()=>r,CARD_WIDTH:()=>i,COUNT_VISIBLE_ITEMS:()=>u,FriendsRecommendationsBlockTypes:()=>f,FriendsRecommendationsRef:()=>h,LOAD_MORE_OFFSET:()=>a,MAX_PAGE_NUMBER:()=>d,MAX_RETRY_COUNT:()=>c,MIN_RECOMMENDATION_COUNT:()=>_,RETRY_CODES:()=>l,STEP_ASYNC_LOAD_PHOTOS_TIMEOUT:()=>m,USERS_PER_PAGE_NUMBER:()=>n,USER_STACK_AVATAR_SIZE:()=>s,UsersRecommendationsBlockName:()=>g});const n=20,s=50,i=210,r=12,a=7,d=3,c=2,l=[1,8,10],u=3,m=300,_=3;var h,f,g;!function(e){e.PROFILE="profile",e.FRIENDS_RIGHT="friends_right",e.FEED_RIGHT="feed_right",e.FEED_RECOMMENDED_FRIENDS_RIGHT_BLOCK="feed_recommended_friends_right_block",e.FEED_MAIN_RECOMMENDED_FRIENDS_RIGHT_BLOCK="friends_main_recommended_friends_right_block"}(h||(h={})),function(e){e.INLINE_USER_REC="inline_user_rec",e.OTHER="other"}(f||(f={})),function(e){e.FriendsRecommendationsBlock="FriendsRecommendationsBlockRedesign",e.AuthorsRecommendationsBlock="AuthorsRecommendationsBlockRedesign"}(g||(g={}))},516587:(e,t,o)=>{o.d(t,{UsersRecommendationsBlockRedesignServiceExtended:()=>p});var n=o(474848),s=o(296540),i=o(293721),r=o(224788),a=o(618484),d=o(249525),c=o(97933),l=o(420171),u=o(487297),m=o(77054),_=o(866467),h=o(971868),f=o(443090),g=o(233912);const p=(0,h.connectServiceProvider)((({blockType:e,analyticRef:t,trackCode:o="",ownerId:h,isMobile:p,wrapperComponent:k,shouldUseHeaderLoadMore:S,hideSkeleton:v,skipError:b,isRedesignV3:R,photoSize:w,unmount:C,...E})=>{const x=R?r.RecommendationBlock.Card.SIZE[w||"square"]:a.UserRecommendationItem.SIZE[p?"l":"m"],I=(0,d.useUserRecommendationsServiceInstance)(),F=(0,i.useStore)(I.$friendsRecommendations),y=(0,i.useStore)(I.$hiddenFriendsRecommendationsIds)?.length||0,N=(0,i.useStore)(I.$shouldShowFriendsRecommendations),A=(0,i.useStore)(I.loadFriendsRecommendationsFx.pending),M=(0,i.useStore)(I.$loadFriendsRecommendationsError),T=(0,i.useStore)(I.$canRetryFriendsRecommendations),B=(0,i.useStore)(I.$loadingCountsFriendsRecommendations),[j,O]=(0,s.useState)(!1),L=F?.track_code||o,U=(0,s.useCallback)((()=>{O(!0),(0,f.isExpHideBlock)(p)||C()}),[O,p,C]),H=(0,s.useMemo)((()=>(0,g.getStateAsync)({blocks:F,error:M,isLoading:A,hidden:j,showUsersRecommendations:N,hideSkeleton:v,skipError:b})),[F,M,A,j,N,v,b]),D=(0,s.useCallback)((()=>{I.fireLoadFriendsRecommendationsEvent({blockType:e,analyticsRef:t,trackCode:L,ownerId:h})}),[e,t,L,I,h]),P=(0,s.useCallback)((()=>{A||D()}),[A,D]),V=(0,s.useMemo)((()=>!M||T||A?null:(0,n.jsx)(m.UsersFooterAction,{isMobile:p,withIcon:!1,text:_.getLang("friends_refresh"),onClick:D})),[M,T,A,D]),z=(0,s.useMemo)((()=>M&&!T&&!A&&S?(0,n.jsx)(u.FeedBlockHeaderMoreIcon,{actions:[{text:_.getLang("friends_refresh"),onClick:D}],isMobile:p}):null),[M,T,A,S,D]),$=!!M&&!T&&!A&&R;(0,s.useEffect)((()=>{(F&&!(B.length>1)||M)&&!T||A||D()}),[F,M,T,B.length,A,D]);const W=j&&(0,f.isExpHideBlock)(p)?(0,n.jsx)(l.FeedHideBlockWrap,{blockType:e,trackCode:L,analyticRef:t,isMobile:p,onCancel:()=>O(!1)}):(0,n.jsx)(c.UsersBlockWrap,{...E,stateAsync:H,reloadBlockNode:V,reloadHeaderBlockNode:z,block:F,blockType:e,trackCode:L,analyticRef:t,itemSize:x,isLoading:A,isMobile:p,hiddenCount:y,onLoadMore:P,unmount:U,isRedesignV3:R,photoSize:w,isBlockErrorRedesignV3:$,loadUsersRecommendations:D});return k?(0,n.jsx)(k,{children:W}):W}),d.UserRecommendationsServiceProvider)},233912:(e,t,o)=>{o.d(t,{getStateAsync:()=>s});var n=o(796842);const s=({blocks:e,error:t,isLoading:o,hidden:s,showUsersRecommendations:i,hideSkeleton:r,skipError:a})=>s||!i||r&&!e?.items.length&&o||a&&t?n.STATE_ASYNC.NONE:t&&!e?.items.length?n.STATE_ASYNC.ERROR:!e||!e?.items.length&&o?n.STATE_ASYNC.LOADING:n.STATE_ASYNC.LOADED},537346:(e,t,o)=>{o.d(t,{initUserRecommendationsActions:()=>s});var n=o(699043);const s=e=>{e.loadFriendsRecommendationsFx.use((({user_id:e,next_from:t,analyticsRef:o,blockType:s,trackCode:i,perPage:r})=>(0,n.fetchUsersRecommendations)(o,s,t,e,i,r)))}},793284:(e,t,o)=>{o.d(t,{addUserRecommendationsDependenciesToModel:()=>r});var n=o(32489),s=o(9860),i=o(244886);const r=(e,t)=>{e.$loadingCountsFriendsRecommendations.reset(e.fireResetStore),e.$hiddenFriendsRecommendationsIds.reset(e.fireResetStore),e.$friendsRecommendationsRetryCounter.reset(e.fireResetStore),e.$loadFriendsRecommendationsError.reset(e.fireResetStore),e.$friendsRecommendations.reset(e.fireResetStore),(0,n.sample)({clock:e.fireHideUserFromFriendsRecommendations,source:e.$hiddenFriendsRecommendationsIds,fn:(e,t)=>[...e,t],target:e.$hiddenFriendsRecommendationsIds}),(0,n.sample)({clock:e.fireHideUserFromFriendsRecommendations,source:e.$friendsRecommendations,filter:e=>Boolean(e&&e.items),fn:(e,t)=>({...e,items:e?.items.filter((e=>e.id!==t))}),target:e.$friendsRecommendations}),(0,n.sample)({clock:e.loadFriendsRecommendationsFx.doneData,source:e.$loadingCountsFriendsRecommendations,filter:e=>e.length>1,fn:e=>e.slice(1),target:e.$loadingCountsFriendsRecommendations}),(0,n.sample)({clock:e.loadFriendsRecommendationsFx.doneData,source:{friendsRecommendations:e.$friendsRecommendations,hiddenFriendsRecommendationsIds:e.$hiddenFriendsRecommendationsIds},fn:({friendsRecommendations:e,hiddenFriendsRecommendationsIds:t},o)=>{const n=o?.items||[],r=e?.items.map((e=>n.find((t=>t.id===e.id))||e))||[],a=new Set(r.map((({id:e})=>e)).concat(t)),d=[...r,...n.filter((({id:e})=>!a.has(e)))],c=(!e||0===e.items.length)&&o.items.length<i.MIN_RECOMMENDATION_COUNT?s.ContentStatus.notEnoughData:s.ContentStatus.exist;return{...e||{},...o||{},title:o?.title??e?.title,next_from:o?.next_from,count:d.length,items:d,contentStatus:c}},target:e.$friendsRecommendations}),(0,n.sample)({clock:e.loadFriendsRecommendationsFx.doneData,source:e.$loadFriendsRecommendationsError,filter:e=>!!e,fn:()=>null,target:e.$loadFriendsRecommendationsError}),(0,n.sample)({clock:e.loadFriendsRecommendationsFx.doneData,source:e.$friendsRecommendationsRetryCounter,filter:e=>!!e,fn:()=>0,target:e.$friendsRecommendationsRetryCounter}),(0,n.sample)({clock:e.loadFriendsRecommendationsFx.failData,fn:e=>e,target:e.$loadFriendsRecommendationsError}),(0,n.sample)({clock:e.loadFriendsRecommendationsFx.failData,source:e.$friendsRecommendationsRetryCounter,fn:e=>e+1,target:e.$friendsRecommendationsRetryCounter}),(0,n.sample)({clock:e.fireLoadFriendsRecommendationsEvent,source:{friendsRecommendations:e.$friendsRecommendations,pending:e.loadFriendsRecommendationsFx.pending,loadingCounts:e.$loadingCountsFriendsRecommendations,shouldShowFriendsRecommendations:e.$shouldShowFriendsRecommendations},filter:(e,t)=>{const{friendsRecommendations:o,pending:n,shouldShowFriendsRecommendations:s}=e,{count:i,next_from:r}=o||{},{isPlaceholderView:a,analyticsRef:d,blockType:c}=t;return s&&!a&&!n&&!!d&&!!c&&(0!==i&&!!r||null===o)},fn:({friendsRecommendations:e,loadingCounts:t},{ownerId:o,analyticsRef:n,blockType:s,trackCode:i})=>({user_id:o,next_from:e?.next_from??"",analyticsRef:n,blockType:s,trackCode:e?.track_code||i,perPage:t[0]}),target:e.loadFriendsRecommendationsFx}),t?.fireExternalRecommendationsLoading&&(0,n.sample)({clock:t.fireExternalRecommendationsLoading,fn:e=>e,target:e.fireLoadFriendsRecommendationsEvent}),t?.fireResetFriendsRecommendations&&((0,n.sample)({clock:t.fireResetFriendsRecommendations,fn:e=>e,target:e.fireResetStore}),e.$friendsRecommendations.reset(t.fireResetFriendsRecommendations))}},418477:(e,t,o)=>{o.d(t,{DEFAULT_USER_RECOMMENDATION_DOMAIN_NAME:()=>a,getUserRecommendationsModel:()=>d});var n=o(32489),s=o(9860),i=o(443090),r=o(244886);const a="Block/FriendsRecommendations",d=(e=a,t)=>{const o=(0,n.createDomain)(e),d=o.createStore(null),c=o.createStore(null),l=o.createStore(0),u=(0,n.combine)(c,l,((e,t)=>!(!(0,i.needRetryLoadData)(e)||t>r.MAX_RETRY_COUNT))),m=o.createStore([]),_=(0,n.combine)(d,m,((e,t)=>{if(null===e)return!0;if(!e?.count||e?.contentStatus===s.ContentStatus.notEnoughData)return!1;return(e?.items||[]).some((({id:e})=>!t.includes(e)))})),h=o.createStore((0,i.getInitialPerPageCounts)(t?.isAdoptedLoadingsCount)),f=o.createEvent("fire/resetStore"),g=o.createEvent("fire/loadFriendsRecommendationsEvent"),p=o.createEvent("fire/hideUserFromFriendsRecommendations"),k=o.createEffect({sid:"loadFriendsRecommendationsFx"});return{friendsRecommendationsDomain:o,$friendsRecommendations:d,$loadFriendsRecommendationsError:c,$friendsRecommendationsRetryCounter:l,$canRetryFriendsRecommendations:u,$hiddenFriendsRecommendationsIds:m,$shouldShowFriendsRecommendations:_,$loadingCountsFriendsRecommendations:h,fireLoadFriendsRecommendationsEvent:g,fireHideUserFromFriendsRecommendations:p,fireResetStore:f,loadFriendsRecommendationsFx:k}}},249525:(e,t,o)=>{o.d(t,{UserRecommendationsServiceProvider:()=>a,useUserRecommendationsServiceInstance:()=>d});var n=o(418477),s=o(793284),i=o(537346),r=o(971868);const{ServiceProvider:a,useServiceInstance:d}=(0,r.getServiceProvider)(((e,t)=>{const o=(0,n.getUserRecommendationsModel)(t,e);return(0,s.addUserRecommendationsDependenciesToModel)(o,e),(0,i.initUserRecommendationsActions)(o),o}),void 0,n.DEFAULT_USER_RECOMMENDATION_DOMAIN_NAME)},443090:(e,t,o)=>{o.d(t,{getFetchUsersRecommendationsParams:()=>r,getFriendsLinkMore:()=>m,getInitialPerPageCounts:()=>l,isBlockInitData:()=>d,isErrorType:()=>u,isExpHideBlock:()=>_,needRetryLoadData:()=>c,transformFetchUsersRecommendationsResponse:()=>a});var n=o(626287),s=o(244886),i=o(540462);function r(e,t,o,n,i,r=s.USERS_PER_PAGE_NUMBER){return{fields:"first_name,first_name_gen,first_name_dat,first_name_acc,sex,screen_name,friend_status,can_access_closed,photo_200,photo_400,photo_100,social_button_type",block_type:t,start_from:o,count:r,ref:e,friend_id:n,need_description:1,track_code:i}}function a(e,t){return{type:t,title:e.title,next_from:e.next_from,items:e.items,date:Date.now()/1e3,count:e.count,track_code:e.track_code}}function d(e){return!!e&&!!e.block_type&&!!e.block_ref}const c=e=>{if(!e)return!1;const{type:t,error:o}=e,{error_code:i=0}=o||{};return!(t===n.APIErrorType.API_ERROR&&!s.RETRY_CODES.includes(i))},l=e=>e?[4,7,10]:[s.USERS_PER_PAGE_NUMBER],u=e=>e.error&&e.type,m=(e,t)=>t?`/friends?section=suggestions&ref=${e}`:`/friends?act=find&from_ref=${e}`,_=e=>e?(0,i.partConfigEnabled)("feed_user_rec_with_hide_block_mvk"):(0,i.partConfigEnabled)("feed_user_rec_with_hide_block_web")},306776:(e,t,o)=>{o.d(t,{newsfeedIgnoreItem:()=>s});var n=o(957994);const s=e=>(0,n.api)("newsfeed.ignoreItem",e)},389307:(e,t,o)=>{o.d(t,{newsfeedUnignoreItem:()=>s});var n=o(957994);const s=e=>(0,n.api)("newsfeed.unignoreItem",e)},487297:(e,t,o)=>{o.d(t,{FeedBlockHeaderMoreIcon:()=>d});var n=o(474848),s=o(507852),i=o(271036),r=o(740391),a=o(52509);const d=({actions:e,isMobile:t})=>e?.length>0?(0,n.jsx)(s.DropdownActionSheet,{offsetByMainAxis:-7,placement:"bottom-end",content:(0,n.jsx)(n.Fragment,{children:e.map((e=>(0,n.jsx)(s.DropdownActionSheet.Item,{href:e.href,before:e.beforeIcon,onClick:e.onClick,children:e.text},e.text)))}),children:(0,n.jsx)(i.IconButton,{children:t?(0,n.jsx)(r.Icon24MoreVertical,{width:24}):(0,n.jsx)(a.Icon24MoreHorizontal,{})})}):null},822180:(e,t,o)=>{o.d(t,{FeedBlockHeader:()=>m});var n=o(474848),s=o(552292),i=o(557992),r=o(194528),a=o(278337),d=o(8520),c=o(487297),l=o(657700),u=o(420026);const m=({actions:e=[],showIcon:t,isMobile:o,children:m})=>(0,n.jsxs)("div",{className:(0,d.classNames)(l.default.feedBlockHeaderWrap,l.default.feedBlockHeaderWrapDecreaseMargin,o&&u.default.feedBlockHeaderWrapDecreaseMargin),children:[(0,n.jsx)(s.HeaderLayout,{aside:(0,n.jsx)(s.HeaderLayout.Content,{align:"bottom",children:(0,n.jsx)("div",{className:(0,d.classNames)(l.default.feedBlockHeaderMoreIcon,o&&u.default.feedBlockHeaderMoreIcon),children:(0,n.jsx)(c.FeedBlockHeaderMoreIcon,{actions:e,isMobile:o})})}),children:(0,n.jsx)(i.Header,{mode:"primary",children:(0,n.jsxs)("div",{className:l.default.feedBlockHeaderContent,children:[t&&(0,n.jsx)(a.Icon28UsersCircleFillBlue,{className:l.default.feedBlockHeaderTitleIcon}),m]})})}),(0,n.jsx)(r.Spacing,{size:4})]})},538427:(e,t,o)=>{o.d(t,{FeedHideBlock:()=>k});var n=o(474848),s=o(51061),i=o(897160),r=o(68497),a=o(405816),d=o(8520),c=o(260546),l=o(723723),u=o(172656),m=o(720836),_=o(303800),h=o(175400),f=o(454154),g=o(486114),p=o(886620);const k=({title:e,subtitle:t,cancelTitle:o,onCancel:k,listActions:S,complainLabel:v,onComplainClick:b,isSuccessBan:R,onDeleteBan:w,isMobile:C})=>{const E=S&&(0,n.jsx)("div",{className:(0,d.classNames)(C&&p.default.actionsMaxHeight),children:S.map((({Icon:e,label:t,onClick:o,testId:s})=>(0,n.jsx)(c.SimpleCell,{"data-testid":s,before:(0,n.jsx)(e,{width:C?28:20,className:(0,l.getColorClass)("color_icon_secondary")}),multiline:!0,minHeight:C?68:void 0,onClick:o,children:t},t)))});return(0,n.jsx)(u.Group,{mode:C?"plain":"card",separator:"hide",className:(0,d.classNames)(p.default.blockWrap,C&&p.default.blockWrapMobile),"data-testid":"feed_hide_block",children:C?(0,n.jsxs)(u.Group.ExpandedContent,{direction:"vertical",children:[(0,n.jsx)(m.Placeholder,{icon:(0,n.jsx)(s.Icon56CheckCircleOutline,{className:(0,l.getColorClass)("color_icon_accent")}),header:e,noPadding:!0,className:p.default.placeholder,children:t}),!R&&E,!R&&!!b&&(0,n.jsx)(c.SimpleCell,{"data-testid":"feed_hide_from_feed_complain",before:(0,n.jsx)(i.Icon28ReportOutline,{className:(0,l.getColorClass)("color_icon_negative")}),className:(0,l.getColorClass)("color_text_negative"),onClick:b,children:v}),(R&&w||k)&&(0,n.jsx)(_.Div,{mode:"horizontal",spacing:8,children:(0,n.jsxs)(h.ButtonGroup,{gap:"s",stretched:!0,children:[R&&!!b&&(0,n.jsx)(f.Button,{"data-testid":"feed_hide_from_feed_complain",appearance:"negative",mode:"secondary",size:"m",stretched:!0,onClick:b,children:v}),(0,n.jsx)(f.Button,{"data-testid":"feed_hide_from_feed_cancel",appearance:"neutral",size:"m",stretched:!0,onClick:R?w:k,children:o})]})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.SimpleCell,{before:(0,n.jsx)(r.Icon20CheckCircleOutline,{}),subtitle:t,after:(R&&w||!!k)&&(0,n.jsx)(f.Button,{"data-testid":"feed_hide_from_feed_cancel",mode:"link",size:"s",onClick:R?w:k,children:o}),children:e}),(!!E||!!b)&&(0,n.jsx)(g.SeparatorSpacing,{size:4}),!R&&E,!!b&&(0,n.jsx)(c.SimpleCell,{"data-testid":"feed_hide_from_feed_complain",before:(0,n.jsx)(a.Icon20ReportOutline,{className:(0,l.getColorClass)("color_icon_negative")}),className:(0,l.getColorClass)("color_text_negative"),onClick:b,children:v})]})})}},420171:(e,t,o)=>{o.d(t,{FeedHideBlockWrap:()=>a});var n=o(474848),s=o(538427),i=o(866467),r=o(389307);const a=({blockType:e,analyticRef:t,trackCode:o,isMobile:a,onCancel:d})=>(0,n.jsx)(s.FeedHideBlock,{title:i.getLang("news_recommended_block_is_hidden"),subtitle:i.getLang("news_personal_recommendations_will_improve"),cancelTitle:i.getLang("global_cancel"),isMobile:a,onCancel:()=>{d?.(),(0,r.newsfeedUnignoreItem)({type:e,ref:t,item_id:window.vk.id,owner_id:window.vk.id,track_code:o})}})},263476:(e,t,o)=>{o.d(t,{useElementOnScreen:()=>s});var n=o(296540);const s=(e,t=[],o=!1,s)=>{const i=(0,n.useRef)(null),r=(0,n.useRef)(null),[a,d]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const n=t.some((e=>!e)),a=()=>{if(i.current&&!n)try{r.current=new IntersectionObserver(((e,t)=>{const[n]=e;d((e=>e!==!!n?.isIntersecting?!!n?.isIntersecting:e)),n?.isIntersecting&&s&&(s(i.current),o&&t.disconnect())}),e),r.current.observe(i.current)}catch{return}else setTimeout((()=>a()),0)};return a(),()=>{r.current&&i.current&&o&&r.current.unobserve(i.current)}}),[e,o,...t]),[i,a]}},222021:(e,t,o)=>{o.d(t,{useVisibilityChange:()=>i});var n=o(296540),s=o(189656);const i=()=>{const{hidden:e,visibilityEvent:t}=(0,s.getBrowserHiddenAndVisibilityEvent)(),[o,i]=(0,n.useState)(!document[e]),r=(0,n.useCallback)((()=>i((t=>t!==!document[e]?!document[e]:t))),[e]);return(0,n.useEffect)((()=>(document.addEventListener(t,r,!1),()=>document.removeEventListener(t,r,!1))),[t,r]),o}},489569:(e,t,o)=>{o.d(t,{KEY:()=>i,checkEvent:()=>s.checkEvent,isMainClick:()=>n.isMainClick,preventLinkOpening:()=>r});var n=o(596597),s=o(49568);const i={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32,CTRL:17,ALT:18,SHIFT:16,META_LEFT:91,META_RIGHT:93},r=e=>new Promise((t=>{(0,n.isMainClick)(e instanceof MouseEvent?e:e.nativeEvent)&&(e.stopPropagation(),e.preventDefault(),t())}))},98081:(e,t,o)=>{o.d(t,{MVK_WALL_ITEM_SELECTOR:()=>n,WEB_FEED_ITEM_SELECTOR:()=>s});const n=".wall_item, .post_item, .js-wall_item",s=".feed_row"},787033:(e,t,o)=>{o.d(t,{getEnabledMvkTabs:()=>_,getEnabledWebTabs:()=>u,getMainDataLoadParams:()=>a,getOwnerContentTabsDataRequestParams:()=>c,getSupportedMvkTabs:()=>m,getSupportedWebTabs:()=>l,getViewerDataLoadParams:()=>d});var n=o(909556),s=o(314992);function i(e){return e.join(",")}const r=i(["age_mark","is_sber_verified","is_tinkoff_verified","is_esia_verified","can_ban","can_see_gifts","followers_count","no_index","about","activities","activity","bdate","no_index","blacklisted","blacklisted_by_me","books","buttons","can_call","can_invite_to_chats","can_post","can_see_all_posts","can_see_wishes","can_send_friend_request","can_subscribe_stories","can_write_private_message","career","city","connections","counters","country","emoji_status","first_name_acc","first_name_dat","first_name_gen","first_name_ins","friend_status","games","gifts_tooltip","has_photo","home_town","image_status","interests","is_dead","is_favorite","is_hidden_from_feed","is_subscribed","is_subscribed_stories","last_name_acc","last_name_dat","last_name_gen","last_name_ins","last_seen","military","movies","music","mutual","occupation","online","online_info","owner_state","personal","quotes","relation","relatives","schools","screen_name","social_button_type","domain","sex","site","status","trending","tv","universities","verified","video_live","wall_default","bdate_visibility","contacts","photo_max","photo_medium_rec","photo_rec","can_ask_question","can_subscribe_posts","cover","first_name_nom","lists","maiden_name","nickname","photo_200","photo_400","photo_avg_color","photo_id","photo_max_size","profile_buttons","stories_archive_count","third_party_buttons","service_description","is_best_friend","is_nft","is_followers_mode_on","is_personal_ads_easy_promote_enabled","need_big_msg_btn_in_profile"]);function a(e,t,o){const n=e===t,s={"photos.get":{owner_id:e,album_id:"profile",rev:1,count:1},"users.getSubscriptions":{fields:i(["photo_200","photo_100","description","status","is_nft"]),count:5,extended:1,user_id:e},"users.getFollowers":{fields:i(["photo_200","photo_100","photo_50","is_friend","sex"]),count:n?8:3,user_id:e},"gifts.get":{user_id:e,count:6}};return t&&(o.withoutFriends||(s["friends.get"]={user_id:e,count:12,fields:i(["domain","photo_100","photo_200","online","is_nft"]),order:"hints"}),s["stories.get"]={owner_id:e}),n&&(s["friends.getRequests"]={need_count:1,count:3,need_viewed:0,fields:i(["photo_100","photo_200","sex"]),extended:1},o.withOnlineFriends&&(s["friends.getOnline"]={user_id:e,count:8,order:"hints"}),s["account.getPrivacySettings"]={privacy_keys:"friends_requests,audios,stories,gifts",need_default:0},s["account.getSilentModeStatus"]={}),o.withoutUser||(s["users.get"]={user_ids:e.toString(),fields:r}),s}function d(e){return{user_ids:String(e),fields:i(["is_followers_mode_on","social_button_type"])}}function c(e,t,o={}){const s={};return t.forEach((t=>{switch(t){case"photos":o.isPhotoFeedEnabled?s["photos.photoFeedGet"]={owner_id:e,extended:1,photo_sizes:1,count:6}:s["photos.getAll"]={owner_id:e,photo_sizes:1,extended:1,skip_hidden:1};break;case"videos":s["video.get"]={owner_id:e,need_privacy:1,count:9};break;case"music":s["audio.get"]={owner_id:e,photo_sizes:1,count:8},s["audio.getPlaylists"]={owner_id:e,photo_sizes:1,count:9};break;case"short_videos":s["shortVideo.getOwnerVideos"]={owner_id:e,count:9};break;case"articles":s["articles.getOwnerPublished"]={owner_id:e,count:3};break;case"narratives":s["narratives.getFromOwner"]={owner_id:e,limit:9};break;case"nfts":{const t=(0,n.getEnvConfigValue)("nft_profile_content_count"),o=t||9;(0,n.isEnvConfigEnabled)("nft_profile_market")?s["nftMarket.searchTokens"]={result_type:"model",search_type:"published",limit:o,props:JSON.stringify({owner_id:e}),fields:JSON.stringify(["collection"])}:s["nft.getCollection"]={owner_id:e,limit:o};break}case"albums":s["photos.getAlbums"]={owner_id:e,count:9,need_system:1,need_covers:1,photo_sizes:1}}})),s}function l(){const e=(0,s.isUserAuthorized)(),t=e?["photos","short_videos","videos","music","articles","narratives"]:["short_videos","articles","videos"];return!(0,n.isEnvConfigEnabled)("profile_hide_nfts_tabs")&&e&&t.push("nfts"),(0,n.isEnvConfigEnabled)("profile_enable_album_tabs")&&e&&t.push("albums"),t}function u(){const e=(0,s.isUserAuthorized)(),t=e?["photos","short_videos","music","articles"]:["short_videos","articles"];return!(0,n.isEnvConfigEnabled)("profile_hide_nfts_tabs")&&e&&t.push("nfts"),(0,n.isEnvConfigEnabled)("profile_enable_album_tabs")&&e&&t.push("albums"),t}function m(){const e=(0,s.isUserAuthorized)(),t=e?["photos","short_videos","videos","music","narratives","articles"]:["short_videos"];return!(0,n.isEnvConfigEnabled)("profile_hide_nfts_tabs")&&e&&t.push("nfts"),(0,n.isEnvConfigEnabled)("profile_enable_album_tabs")&&e&&t.push("albums"),t}function _(){const e=(0,s.isUserAuthorized)(),t=e?["photos","short_videos","videos","music","narratives","articles"]:["short_videos"];return!(0,n.isEnvConfigEnabled)("profile_hide_nfts_tabs")&&e&&t.push("nfts"),(0,n.isEnvConfigEnabled)("profile_enable_album_tabs")&&e&&t.push("albums"),t}},388476:(e,t,o)=>{o.d(t,{execute:()=>_,loadMainData:()=>g});var n=o(957994),s=o(727176),i=o(365006),r=o(787033),a=o(805658),d=o(105330),c=o(540462),l=o(428508),u=o(810068),m=o(77480);function _(e,t){const o=[],s=[],r=Object.keys(e),l={},_=new Set;if(!(u.Ranges.isUserId(window.vk?.id)&&(0,c.partConfigEnabled)("web_api_fork"))){const t=(0,c.partConfigEnabled)("profile_unauth_prefetch_web_fix"),o=[];for(const s of r)if(t){try{l[s]=(0,a.loadPrefetchCache)(s,i.API_VERSION,e[s])}catch(e){_.add(s)}l[s]||_.has(s)||o.push((0,n.api)(s,e[s]))}else o.push((0,n.api)(s,e[s]));return t&&!o.length?Promise.resolve(l):Promise.allSettled(o).then((e=>{const o=t?{...l}:{};return e.forEach(((e,t)=>{const n=r[t];"fulfilled"===e.status?o[n]=e.value:((0,c.partConfigEnabled)("web_execute_empty_response_log")&&!(0,d.isMvk)()&&"profile"===window.cur?.module&&"users.get"===n&&(0,m.logProfileError)({error:e.reason,additionalText:"Empty response in fork fallback",extra:{method:n}}),o[n]=!1)})),o}))}for(const t of r){try{l[t]=(0,a.loadPrefetchCache)(t,i.API_VERSION,e[t])}catch(e){_.add(t)}l[t]||_.has(t)||(o.push(`'${t}': fork(API.${t}(${JSON.stringify(e[t])}))`),s.push(`'${t}': wait(forks['${t}'])`))}if(!o.length)return Promise.resolve(l);const h=`\n    var forks = { ${o.join(",")} };\n\n    return { ${s.join(",")} };\n  `;return(0,n.api)("execute",{code:h},t).then((e=>{if((0,c.partConfigEnabled)("profile_fix_bad_execute_response")&&e.response){const t={...l,...e.response};return e.execute_errors&&(t.execute_errors=e.execute_errors),t}return{...l,...e}}))}const h=e=>new Promise((t=>{e?(0,a.apiWithPrefetch)("onboarding.getCards",{icon_sizes:"24,48",block_type:"multi"}).then((e=>{if(!e.count&&!(0,d.isMvk)())return(0,a.apiWithPrefetch)("onboarding.getCards",{icon_sizes:"24,48",block_type:"single"});t({onboardingCards:e})})).then((e=>{t({onboardingSingleCards:e})})).catch((()=>{console.error("error while loading onboarding"),t()})):t()})),f=(e,t)=>new Promise((o=>{e?(0,a.apiWithPrefetch)("users.get",(0,r.getViewerDataLoadParams)(e),t).then((e=>{o(e)})):o([{id:0}])}));function g(e,t,o,n){const i=e===t,u=(0,r.getMainDataLoadParams)(e,t,o),g=(0,a.startCacheMissLog)("profile_main_data"),p=[_(u,n),f(t,n),h(i)];return g(),Promise.all(p).then((([e,t,n])=>{if(!(o?.withoutUser||e["users.get"]&&e["users.get"].length)){const t=e.execute_errors;(0,c.partConfigEnabled)("web_execute_empty_response_log")&&!(0,d.isMvk)()&&t&&(0,m.logProfileError)({error:t,additionalText:"Empty response in users.get execute",extra:{method:"users.get"}});const o="something wrong with owner loading";throw console.error(o),new Error(o)}const r=e["users.get"]&&e["users.get"][0],a=t?.[0],u={viewer:a,owner:r||void 0};return e["friends.get"]&&(u.friends=e["friends.get"]),e["account.getSilentModeStatus"]&&(u.silentModeStatus=e["account.getSilentModeStatus"]),e["photos.get"]&&(u.avatar=e["photos.get"].items[0]),e["stories.get"]&&(u.stories=e["stories.get"]),e["users.getSubscriptions"]&&(u.subscriptions=e["users.getSubscriptions"]),e["users.getFollowers"]&&(u.followers=e["users.getFollowers"]),e["friends.getRequests"]&&(u.friendRequests=e["friends.getRequests"]),e["account.getPrivacySettings"]&&(u.viewerPrivacySettings=e["account.getPrivacySettings"]),e["gifts.get"]&&(u.gifts=e["gifts.get"]),e["friends.getOnline"]&&(u.onlineFriendIds=e["friends.getOnline"]),n&&(u.onboardingCards=n.onboardingCards,u.onboardingSingleCards=n.onboardingSingleCards),r&&(!i&&r.mutual?.count&&(u.mutual={status:s.LoadingStatus.initial}),i&&u.onlineFriendIds?.length&&(u.onlineFriends={status:s.LoadingStatus.initial}),!i&&r.gifts_tooltip&&(u.giftsCatalog={status:s.LoadingStatus.initial}),u.broadcastStatus=(0,l.getUserBroadcastStatus)(r)||void 0),u}))}},727176:(e,t,o)=>{var n;o.d(t,{LoadingStatus:()=>n}),function(e){e[e.initial=0]="initial",e[e.pending=1]="pending",e[e.reloading=2]="reloading",e[e.loaded=3]="loaded",e[e.failed=4]="failed"}(n||(n={}))},6602:(e,t,o)=>{o.d(t,{friendsRecommLogAddVisited:()=>r,friendsRecommLogCheckVisited:()=>a,friendsRecommLogCleanVisited:()=>d});var n,s=o(469004),i=o(863576);function r(e,t,o){const n=c();n[e]={ref:t,trackCode:o,date:Date.now()},s.multiAccountLs.set("friends_recomm_visited",n),window.setTimeout((()=>d(e)),i.TIME_TO_SAVE_FRIENDS_VISITED)}function a(e){return c()[e]}function d(e){if(e){const t=c();delete t[e],s.multiAccountLs.set("friends_recomm_visited",t)}else s.multiAccountLs.remove("friends_recomm_visited")}function c(){const e=s.multiAccountLs.get("friends_recomm_visited")||{};return Object.keys(e).forEach((t=>{Date.now()-e[t]?.date>i.TIME_TO_SAVE_FRIENDS_VISITED&&(delete e[t],s.multiAccountLs.set("friends_recomm_visited",e))})),Object.keys(e).length||s.multiAccountLs.remove("friends_recomm_visited"),e}!function(e){e.friends_recomm_visited="friends_recomm_visited"}(n||(n={}))},428508:(e,t,o)=>{o.d(t,{getUserBroadcastStatus:()=>n});const n=e=>{if(!e.status_audio)return null;const t={text:`${e.status_audio.artist} — ${e.status_audio.title}`};return e.status_audio.owner_id&&e.status_audio.id&&(t.audioRawId=`${e.status_audio.owner_id}_${e.status_audio.id}`),t}},222373:(e,t,o)=>{o.d(t,{RecommendationBlockSkeleton:()=>r});var n=o(474848),s=(o(296540),o(172656)),i=o(200045);function r({blockTitle:e,isMobile:t,stretched:o,withBorder:r=!0,contentType:a="cards",children:d}){const c=r&&!t,l="custom"===a?(0,n.jsx)(n.Fragment,{children:d}):(0,n.jsx)("div",{className:"RecommendationBlockSkeleton__cardsWrap",children:(0,n.jsx)("div",{className:"RecommendationBlockSkeleton__cards",children:d})});return(0,n.jsx)(n.Fragment,{children:window._elephizeIsServer?(0,n.jsxs)("div",{className:`RecommendationBlockSkeleton${c?" RecommendationBlockSkeleton__border":""} ${o?"RecommendationBlockSkeleton--stretched":""}`,children:[(0,n.jsx)(i.RecommendationHeaderSkeleton,{blockTitle:e,isMobile:t,stretched:o}),l]}):(0,n.jsx)(s.Group,{className:"RecommendationBlockSkeleton "+(o?"RecommendationBlockSkeleton--stretched":""),separator:"hide",mode:c?"card":"plain",header:(0,n.jsx)(i.RecommendationHeaderSkeleton,{blockTitle:e,isMobile:t,stretched:o}),children:l})})}},462475:(e,t,o)=>{o.d(t,{RecommendationCardSkeleton:()=>r});var n=o(474848),s=(o(296540),o(346568)),i=o(155550);function r(e){const t=e.withButton,o=e.photoSize,r=e.stretched,a=void 0===e.hasCloseButton||e.hasCloseButton;return(0,n.jsxs)("div",{className:"RecommendationCardSkeleton "+(r?"RecommendationCardSkeleton__stretched":""),children:[(0,n.jsx)(s.Skeleton,{className:"RecommendationCardSkeleton__background"}),(0,n.jsx)("div",{className:"RecommendationCardSkeleton__image"+("portrait"===o?" RecommendationCardSkeleton__portraitImage":""),children:a&&(0,n.jsx)("div",{className:"RecommendationCardSkeleton__closeButton",children:(0,n.jsx)(i.Icon20DismissDark,{})})}),(0,n.jsxs)("div",{className:"RecommendationCardSkeleton__caption",children:[(0,n.jsx)(s.Skeleton,{height:12,width:164,borderRadius:4,noAnimation:!0,className:"RecommendationCardSkeleton__title"}),(0,n.jsx)(s.Skeleton,{height:8,width:96,borderRadius:2,noAnimation:!0,className:"RecommendationCardSkeleton__subtitle"})]}),t&&(0,n.jsx)("div",{className:"RecommendationCardSkeleton__buttonLage",children:(0,n.jsx)(s.Skeleton,{width:"100%",borderRadius:8,noAnimation:!0,className:"RecommendationCardSkeleton__buttonElement"})})]})}},200045:(e,t,o)=>{o.d(t,{RecommendationHeaderSkeleton:()=>a});var n=o(474848),s=(o(296540),o(346568)),i=o(387883),r=o(670191);function a({blockTitle:e,isMobile:t,stretched:o}){const a=t?"":" RecommendationHeaderSkeleton__decreaseMargin",d=`RecommendationHeaderSkeleton${window._elephizeIsServer?a:""} ${o?"RecommendationHeaderSkeleton--stretched":""}`,c=t?(0,n.jsx)(i.Icon28Dismiss,{}):(0,n.jsx)(r.Icon24Cancel,{}),l=(0,n.jsx)("div",{className:"RecommendationHeaderSkeleton__closeButton",children:window._elephizeIsServer?(0,n.jsx)(s.Skeleton,{circle:!0,width:t?28:24,className:"RecommendationHeaderSkeleton__element"}):c});return(0,n.jsx)("div",{className:d,children:e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"RecommendationHeaderSkeleton__title "+(o?"RecommendationHeaderSkeleton__title--stretched":""),children:e}),l]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"RecommendationHeaderSkeleton__title",children:(0,n.jsx)(s.Skeleton,{height:16,width:180,className:"RecommendationHeaderSkeleton__element"})}),l]})})}},276547:(e,t,o)=>{o.d(t,{RecommendationSkeleton:()=>d});var n=o(474848),s=(o(296540),o(663456)),i=o(462475),r=o(222373);const a=e=>(0,s.times)(e.cardsAmount,(t=>(0,n.jsx)("div",{className:"RecommendationSkeleton__cardWrapper "+(e.stretched?"RecommendationSkeleton__cardWrapper--stretched":""),children:(0,n.jsx)(i.RecommendationCardSkeleton,{withButton:e.withButton,photoSize:e.photoSize,hasCloseButton:!e.stretched,stretched:e.stretched})},t)));function d(e){const t=(0,n.jsx)(n.Fragment,{children:a(e)});return(0,n.jsx)(r.RecommendationBlockSkeleton,{isMobile:e.isMobile,blockTitle:e.blockTitle,stretched:e.stretched,withBorder:e.withBorder,children:t})}},721130:(e,t,o)=>{o.d(t,{CarouselSkeleton:()=>u});var n=o(474848),s=(o(296540),o(172656)),i=o(663456),r=o(965904),a=o(54430),d=o(346568),c=o(145697);const l=(e,t="m")=>(0,i.times)(e,(e=>(0,n.jsx)(a.CarouselSkeletonCard,{size:t},e)));function u({cardsAmount:e,type:t,blockTitle:o,showIcon:i,isMobile:a,size:u,footerNode:m,moreIconNode:_,needFooter:h,withBorder:f=!0}){let g=null;"full"===t&&(g=(0,n.jsx)(n.Fragment,{children:l(e,u)}));const p=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"CarouselSkeleton__cardsWrap",children:(0,n.jsx)("div",{className:"CarouselSkeleton__cards",children:g})}),h?m||(0,n.jsx)(d.Skeleton,{height:16,className:"CarouselSkeleton__element CarouselSkeleton__element--more"}):(0,n.jsx)("div",{className:"CarouselSkeleton__footerSpacing"})]});return(0,n.jsx)(n.Fragment,{children:window._elephizeIsServer?(0,n.jsxs)("div",{className:(0,c.classNames)("CarouselSkeleton",f&&"CarouselSkeleton--withBorder"),children:[(0,n.jsx)(r.CarouselSkeletonHeader,{blockTitle:o,showIcon:i}),p]}):(0,n.jsx)(s.Group,{separator:"hide",mode:f?"card":"plain",header:(0,n.jsx)(r.CarouselSkeletonHeader,{blockTitle:o,showIcon:i,isMobile:a,moreIconNode:_}),children:p})})}},54430:(e,t,o)=>{o.d(t,{CarouselSkeletonCard:()=>a});var n=o(474848),s=(o(296540),o(346568));const i={s:{width:165,height:212},m:{width:210,height:274},l:{width:225,height:300}},r={s:"CarouselSkeletonCard__sizeS",m:"CarouselSkeletonCard__sizeM",l:"CarouselSkeletonCard__sizeL"};function a({size:e}){const{width:t,height:o}=i[e];return(0,n.jsxs)("div",{className:`CarouselSkeletonCard ${r[e]}`,style:{width:t,height:o},children:[(0,n.jsx)(s.Skeleton,{height:16,width:164,className:"CarouselSkeletonCard__header"}),(0,n.jsx)(s.Skeleton,{height:12,width:96,className:"CarouselSkeletonCard__text"}),(0,n.jsx)(s.Skeleton,{height:32,width:"100%",borderRadius:8,className:"CarouselSkeletonCard__button"})]})}},965904:(e,t,o)=>{o.d(t,{CarouselSkeletonHeader:()=>a});var n=o(474848),s=(o(296540),o(346568)),i=o(530083),r=o(302479);function a({blockTitle:e,showIcon:t,isMobile:o,moreIconNode:a}){return(0,n.jsxs)("div",{className:"CarouselSkeletonHeader",children:[e?(0,n.jsxs)("div",{className:"CarouselSkeletonHeader__title",children:[t&&(0,n.jsx)(i.CarouselSkeletonHeaderIcon,{}),e]}):(0,n.jsx)(s.Skeleton,{height:16,width:212,className:"CarouselSkeleton__element"}),a?(0,n.jsx)("div",{className:"CarouselSkeletonHeader__moreIconNode",children:a}):(0,n.jsx)("div",{className:"CarouselSkeletonHeader__moreIcon",children:(0,n.jsx)(r.CarouselSkeletonMoreIcon,{isMobile:o})})]})}},530083:(e,t,o)=>{o.d(t,{CarouselSkeletonHeaderIcon:()=>a});var n=o(474848),s=(o(296540),o(278337)),i=o(346568);const r=window._elephizeIsServer?null:(0,n.jsx)(s.Icon28UsersCircleFillBlue,{className:"CarouselSkeletonHeaderIcon__svg"});function a(){return(0,n.jsx)(n.Fragment,{children:r||(0,n.jsx)(i.Skeleton,{circle:!0,width:28,className:"CarouselSkeletonHeaderIcon"})})}},302479:(e,t,o)=>{o.d(t,{CarouselSkeletonMoreIcon:()=>a});var n=o(474848),s=(o(296540),o(740391)),i=o(52509),r=o(346568);function a({isMobile:e}){return(0,n.jsx)(n.Fragment,{children:window._elephizeIsServer?(0,n.jsxs)("div",{className:"CarouselSkeletonMoreIcon",children:[(0,n.jsx)(r.Skeleton,{height:4,width:4,noAnimation:!0,className:"CarouselSkeletonMoreIcon__dot"}),(0,n.jsx)(r.Skeleton,{height:4,width:4,noAnimation:!0,className:"CarouselSkeletonMoreIcon__dot"}),(0,n.jsx)(r.Skeleton,{height:4,width:4,noAnimation:!0,className:"CarouselSkeletonMoreIcon__dot"})]}):e?(0,n.jsx)(s.Icon24MoreVertical,{width:24}):(0,n.jsx)(i.Icon24MoreHorizontal,{})})}},796842:(e,t,o)=>{var n;o.d(t,{STATE_ASYNC:()=>n}),function(e){e.NONE="none",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(n||(n={}))},441655:(e,t,o)=>{o.d(t,{useHandleStatisticEvents:()=>r});var n=o(296540),s=o(263476),i=o(222021);const r=(e,t,o,r,a=[],d=!1)=>{const[c,l]=(0,s.useElementOnScreen)(r,a,d),u=(0,i.useVisibilityChange)(),m=(0,n.useRef)(!1),_=(0,n.useRef)(0),h=(0,n.useRef)(0),f=(0,n.useRef)(o);return(0,n.useEffect)((()=>{if(!m.current&&l){const t=c.current;t?e(t):console.warn("withStatisticMethods: unexpected missing element"),m.current=!0}}),[l,e]),(0,n.useEffect)((()=>{u&&l&&!_.current&&(_.current=performance.now()),u&&l&&f.current===o||!_.current||h.current||(h.current=performance.now()),_.current&&h.current&&(t(c.current,f.current,_.current,h.current),_.current=f.current!==o?performance.now():0,h.current=0,f.current=o),_.current||h.current||f.current===o||(f.current=o)}),[u,l,o,t]),[c]}},928581:(e,t,o)=>{o.d(t,{withStatisticMethods:()=>f});var n=o(474848),s=o(296540),i=o(619341),r=o(77019),a=o(105330),d=o(293585),c=o(540462),l=o(306776),u=o(244886),m=o(441655),_=o(796842);const h={threshold:.35};function f(e,t=e.displayName??e.name){function o(o){const{blockType:f,analyticRef:g,trackCode:p,stateAsync:k,registerComponentName:S,trackEvents:v,handleViewBlock:b,handleViewTime:R,handleHideBlock:w,...C}=o,E=i.Stats.getInstance(),x=(0,s.useMemo)((()=>S??Symbol(t)),[S,t]),I=(0,d.feedItemSelector)((0,a.isMvk)()),F=I,y=I,N=(0,s.useCallback)((e=>{if(b&&b(e),v.view){const t=(0,d.getBlockFeedPosition)(e,{closestFeedItemSelector:F,validElemSelector:y}),o={e:r.BasicStatisticsEvents.ViewBlock,blocks:[[f,t,Date.now(),g,p].join("|")]};E.log(o)}}),[b,f,g,p]),A=(0,s.useCallback)(((e,t,o,n)=>{if(R&&R(),v.viewTime){const s=e?(0,d.getBlockFeedPosition)(e,{closestFeedItemSelector:F,validElemSelector:y}):d.NO_POSITION,i={e:r.BasicStatisticsEvents.ViewTime,type:f??u.FriendsRecommendationsBlockTypes.OTHER,position:s,time:Date.now()??0,duration:n-o,track_code:p,width:e?.offsetWidth??0,height:e?.offsetHeight??0,ref:g,start_time:o,end_time:n,state_async:t,duration_async:t!==_.STATE_ASYNC.LOADED?n-o:0};E.log(i)}}),[R,f,g,p]),M=(0,s.useCallback)((()=>{if(w&&w(p),v.hideAPI&&(0,c.partConfigEnabled)("feed_user_rec_news_feed_ignore_item_in_statistic_hoc")&&(0,l.newsfeedIgnoreItem)({type:f,ref:g,item_id:window.vk.id,owner_id:window.vk.id,track_code:p}),v.hide){const e={e:r.BasicStatisticsEvents.HideBlock,blocks:[[Date.now(),g,p].join("|")]};E.log(e)}}),[w,f,g,p]),[T]=(0,m.useHandleStatisticEvents)(N,A,k,h,[f,g,p]),B=!!f,j=!!g,O=!!p;return(0,s.useEffect)((()=>(B&&j&&O&&E.registerConsumer(x),()=>{B&&j&&O&&E.unRegisterConsumer(x)})),[B,j,O,x]),(0,n.jsx)("div",{ref:T,children:(0,n.jsx)(e,{...C,registerComponentName:x,handleViewBlock:N,handleViewTime:A,handleHideBlock:M,blockType:f,analyticRef:g,trackCode:p,stateAsync:k})})}return o.displayName=`withStatisticMethods(${e.displayName??e.name})`,o}},863576:(e,t,o)=>{var n;o.d(t,{FRIENDS_RECOM_VISITED:()=>s,TIME_TO_SAVE_FRIENDS_VISITED:()=>i,UsersRecomStatisticEvents:()=>n}),function(e){e.ShowUserRec="show_user_rec"}(n||(n={}));const s="friends_recomm_visited",i=36e5},229101:(e,t,o)=>{o.d(t,{withUsersRecomStatisticMethods:()=>l});var n=o(474848),s=o(296540),i=o(619341),r=o(863576),a=o(77019),d=o(317216),c=o(314309);function l(e,t){return o=>{const{blockType:l,analyticRef:u,registerComponentName:m,trackUsersRecomEvents:_,handleShowCard:h,handleOpenCard:f,handleAddToFriendsDone:g}=o,p=i.Stats.getInstance(),k=(0,s.useMemo)((()=>m??Symbol(t??e.displayName)),[m,t,e.displayName]),{showCard:S=!0,openCard:v=!0,addToFriendsDone:b}=_||{},R=(0,s.useCallback)(((e,t,o)=>{if(h&&h(e,t,o),S){const n={e:r.UsersRecomStatisticEvents.ShowUserRec,user_ids:[[e,Date.now(),o,u,l,t].join("|")]};p.log(n)}}),[h,u,l]),w=(0,s.useCallback)(((e,t)=>{if(f&&f(e,t),v){const o={ref:u,trackCode:t,date:Date.now()},n={e:a.BasicStatisticsEvents.OpenUser,user_ids:[[e,Date.now(),u,t].join("|")]};p.setLs(e,o,r.FRIENDS_RECOM_VISITED,r.TIME_TO_SAVE_FRIENDS_VISITED),p.log(n)}}),[f,u]),C=(0,s.useCallback)((e=>{g&&g(e),b&&e&&c.searchStatsCollector.logEvent({type:d.EventItemType.USER,track_code:e,action:d.SearchClickActionMap.ADD_FRIEND_POSSIBLE_OUT})}),[g]);return(0,s.useEffect)((()=>(l&&u&&p.registerConsumer(k),t&&!e.displayName&&(e.displayName=t),()=>{l&&u&&p.unRegisterConsumer(k)})),[l,u,k]),(0,n.jsx)(e,{...o,registerComponentName:k,handleShowCard:R,handleOpenCard:w,handleAddToFriendsDone:C})}}},89622:(e,t,o)=>{o.d(t,{connectServiceProvider:()=>s});var n=o(474848);const s=(e,t)=>({serviceInstance:o,initiatorParams:s,...i})=>(0,n.jsx)(t,{serviceInstance:o,initiatorParams:s,children:(0,n.jsx)(e,{...i})})},719612:(e,t,o)=>{o.d(t,{getServiceProvider:()=>r});var n=o(474848),s=o(296540),i=o(32489);const r=(e,t,o)=>{const r=(0,s.createContext)(null);return{useServiceInstance:()=>{const e=(0,s.useContext)(r);if(!e)throw new Error('There are not services found! Use "useServiceInstance" inside component wrapped into serviceViewer HOC!'+(o?` Happened into ${o}`:""));return e},ServiceProvider:({serviceInstance:o,initiatorParams:a,children:d})=>{const[c,l]=(0,s.useState)((()=>{if(!o){const o=e(...a||t||[]);if(!o.onDestroy){const e=(0,i.createNode)();return{...(0,i.withRegion)(e,(()=>o)),onDestroy:()=>(0,i.clearNode)(e)}}return o}return o}));return(0,s.useEffect)((()=>(l(c),()=>{c.onDestroy&&c.onDestroy()})),[c]),(0,n.jsx)(r.Provider,{value:c,children:d})}}}},971868:(e,t,o)=>{o.d(t,{connectServiceProvider:()=>s.connectServiceProvider,getServiceProvider:()=>n.getServiceProvider});var n=o(719612),s=o(89622)},293585:(e,t,o)=>{o.d(t,{NO_POSITION:()=>s,feedItemSelector:()=>r,getBlockFeedPosition:()=>i});var n=o(98081);const s=-1,i=(e,{closestFeedItemSelector:t,validElemSelector:o}={validElemSelector:!1})=>{const n=t?(i=t,e.closest(i)):e;var i;const r=n?.parentNode;if(!n||!r)return s;const a=r.children;let d=0;for(let e=0;e<a.length;e++){const t=a[e];if("string"==typeof o&&!t.matches(o)&&(d+=1),t===n)return e-d}return s};function r(e){return e?n.MVK_WALL_ITEM_SELECTOR:n.WEB_FEED_ITEM_SELECTOR}},189656:(e,t,o)=>{o.d(t,{getBrowserHiddenAndVisibilityEvent:()=>n});const n=()=>{let e="",t="";return void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),{hidden:e,visibilityEvent:t}}},238362:(e,t,o)=>{o.d(t,{getCropRectObject:()=>i,getUserPhoto:()=>d,getUserPhotoPosition:()=>c,needCrop:()=>a});var n=o(898848);function s(e){return{x:e?.x&&e.x>=0&&e.x<100?e.x:0,y:e?.y&&e.y>=0&&e.y<100?e.y:0,x2:e?.x2&&e.x2>0&&e.x2<=100?e.x2:100,y2:e?.y2&&e.y2>0&&e.y2<=100?e.y2:100}}function i(e){const t=s(e.crop_photo?.rect),o=s(e.crop_photo?.crop);return{x:t.x+(t.x2-t.x)*o.x/100,x2:t.x+(t.x2-t.x)*o.x2/100,y:t.y+(t.y2-t.y)*o.y/100,y2:t.y+(t.y2-t.y)*o.y2/100}}function r(e,t,o,s){if(!t.length)return;const i=(e.x2-e.x)/100,r=(e.y2-e.y)/100,a=(0,n.isRetina)()?2:1;let d=t?.reduce(((e,t)=>e?.width>t.width?e:t));return d=d?t?.reduce(((e,t)=>!e||t.width*i>=o*a&&t.height*r>=s*a&&(t.width<e?.width||!e?.width)?t:e),d):d,d}function a(e,t){const o=i(e);return function(e){return 100-e.x2+e.x}(o)>t||function(e){return 100-e.y2+e.y}(o)>t}function d(e,t,o,n){return new Promise((s=>{const i=function(e,t,o,n){return r(e,t,o,n)?.url||""}(e,t.crop_photo?.photo.sizes||[],o,n);if(!i)return void s(t.photo_400||t.photo_200||t.photo_100||"");const a=new Image;a.crossOrigin="anonymous",a.onload=()=>{const t=document.createElement("CANVAS"),o=t.getContext("2d"),n=a.width*e.x/100,i=a.height*e.y/100,r=a.width*e.x2/100-n,d=a.height*e.y2/100-i;t.height=d,t.width=r,o?.drawImage(a,n,i,r,d,0,0,r,d);const c=t.toDataURL();s(c)},a.src=i}))}function c(e,t,o,n){const s=r(e,t.crop_photo?.photo.sizes||[],o,n);if(!s||!s.width||!s.height)return;const i=s.width*(e.x2-e.x)/100,a=s.height*(e.y2-e.y)/100,d=i/o,c=a/n,l=d<c?d:c,u=s.width/l,m=s.height/l;let _=u*e.x/100,h=m*e.y/100;_+=(i/l-o)/2,h+=(a/l-n)/2;const f={positionX:_,positionY:h,sizeWidth:u,sizeHeight:m};return{url:s.url||"",userPhotoPosition:f}}},816984:(e,t,o)=>{o.d(t,{friendsRecommLogClear:()=>l,friendsRecommLogGet:()=>c,friendsRecommLogOnFail:()=>_,friendsRecommLogSave:()=>d,friendsRecommLogSend:()=>u,getRef:()=>a});var n,s=o(469004),i=o(593159),r=o(761520);!function(e){e.friends_recomm="friends_recomm"}(n||(n={}));const a=()=>"feed"===window.cur.module&&window.Feed?window.Feed?.getModuleRef():window.cur.module;function d(e,t=!1){const o=c();o.push(e),s.multiAccountLs.set("friends_recomm",o),u(t)}function c(e=!1,t,o=!1){const n=s.multiAccountLs.get("friends_recomm");let r=Array.isArray(n)?n:[];return t&&(r=r.filter((e=>(o?e[1]!==t:e[1]===t)&&(0,i.inArray)(e[0],["show_user_rec","open_user"])))),e&&(r=r.map((e=>e.join("|")))),r}function l(e){if(e){const t=c(!1,e,!0);t.length?s.multiAccountLs.set("friends_recomm",t):s.multiAccountLs.remove("friends_recomm")}else s.multiAccountLs.remove("friends_recomm")}function u(e=!1){!window.cur?.friendsRecommLogIdle&&window?.curNotifier?.idle_manager&&(Array.isArray(window.cur.onIdle)||(window.cur.onIdle=[]),Array.isArray(window.cur.onUnidle)||(window.cur.onUnidle=[]),window.cur.friendsRecommLogIdle=()=>{clearTimeout(window.cur.friendsRecommLog)},window.cur.onIdle.push(window.cur.friendsRecommLogIdle),window.cur.onUnidle.push(u)),clearTimeout(window.cur.friendsRecommLog),e?m():window.cur.friendsRecommLog=window.setTimeout(m,1e4)}function m(){if(window.cur.friendsRecommProcess)return;const e=c(!0);e.length&&(window.cur.friendsRecommProcess=!0,l(),r.ajax.post("al_friends.php",{act:"a_recomm_logs",logs:e},{onDone:()=>{delete window.cur.friendsRecommProcess},onFail:()=>(_(e),delete window.cur.friendsRecommProcess,!0)}))}function _(e){let t=c();t=e.map((e=>e.split("|"))).concat(t),s.multiAccountLs.set("friends_recomm",t)}},558206:(e,t,o)=>{o.d(t,{fetchDataOnAvatarEdit:()=>R,fetchDataOnCoverUpdate:()=>b,fetchDataOnWebProfileItemStat:()=>w,getOwnerCoverPhotoUploadServer:()=>p,removeFromFollowers:()=>g,removeFromFriends:()=>f,removeOwnerCoverPhoto:()=>S,saveOwnerCoverPhoto:()=>v,sendHideOnboardingCards:()=>k,showValidationError:()=>C});var n=o(957994),s=o(74605),i=o(816984),r=o(6602),a=o(568129),d=o(727176),c=o(388476),l=o(270959),u=o(866467),m=o(77480),_=o(314309),h=o(317216);function f(e){const t=e.id,o={user_id:t},s=(0,r.friendsRecommLogCheckVisited)(t);return s&&(o.ref=(0,i.getRef)(),s.trackCode&&(o.track_code=s.trackCode),(0,r.friendsRecommLogCleanVisited)(t)),(0,n.api)("friends.delete",o).then((o=>((0,a.tryLogOutOfSerpClick)(a.outOfSerpProfile,t,a.clickTypeRemoveFriendOut),_.searchStatsCollector.logOutOfSerpEvent({action:"follow"===e.social_button_type?h.SearchClickActionMap.UNSUBSCRIBE_OUT:h.SearchClickActionMap.REMOVE_FRIEND_OUT,type:h.EventItemType.USER}),o)))}function g({id:e}){const t={subscriber_id:e};return(0,n.api)("friends.deleteSubscriber",t)}function p(e){return(0,n.api)("photos.getOwnerCoverPhotoUploadServer",e)}function k(){return(0,n.api)("onboarding.hideCardsBlock",{})}function S(){return(0,n.api)("photos.removeOwnerCoverPhoto",{})}function v(e){return(0,n.api)("photos.saveOwnerCoverPhoto",e)}function b(e){return(0,c.execute)({"users.get":{user_ids:String(e),fields:"cover,photo_avg_color"}}).then((e=>{if(!e["users.get"]){const e=new Error("something wrong with owner loading");throw(0,m.logProfileError)({error:e}),e}return{owner:e["users.get"][0]}}))}function R(e){return(0,c.execute)({"users.get":{user_ids:e.toString(),fields:"has_photo,image_status,photo_max,photo_medium_rec,photo_rec,photo_200,photo_400,photo_avg_color,photo_id,photo_max_size,is_nft"},"photos.get":{owner_id:e,album_id:"profile",rev:1,count:1},"photos.getAll":{owner_id:e,photo_sizes:1,extended:1,skip_hidden:1},"stories.get":{owner_id:e}}).then((e=>{const t={};return e["users.get"]&&(t.owner=e["users.get"][0]),e["photos.get"]&&(t.avatar=e["photos.get"].items[0]),e["stories.get"]&&(t.stories=e["stories.get"]),e["photos.getAll"]&&(t.photos={response:e["photos.getAll"],status:d.LoadingStatus.loaded}),t}))}function w(e){return(0,n.api)("users.get",{user_ids:e.toString(),fields:"id,cover,verified,image_status,has_photo,status,friend_status,profile_buttons,third_party_buttons"}).then((([e])=>e)).catch((e=>{(0,m.logProfileError)({error:e,additionalText:"something wrong with getting owner for stat"})}))}function C(e){(0,l.showFastBox)(u.getLang("friends_add_phone_validation_error_title"),(0,u.langSex)(e.sex||s.BaseSexEnumNames.UNKNOWN,u.getLang("friends_add_phone_validation_error","raw")).replace("{name}",e.first_name_dat||""),u.getLang("friends_add_phone_validation_error_action"),(()=>window.nav.go("/settings?validate=1")),u.getLang("global_cancel"))}},49568:(e,t,o)=>{o.d(t,{checkEvent:()=>s});var n=o(596597);function s(e){return!!(e&&e instanceof MouseEvent)&&!(0,n.isMainClick)(e)}},596597:(e,t,o)=>{function n(e){return!("click"!==e.type&&"mousedown"!==e.type&&"mouseup"!==e.type||0!==e.button||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)}o.d(t,{isMainClick:()=>n})},50790:(e,t,o)=>{o.d(t,{useIsMounted:()=>s});var n=o(296540);const s=()=>{const e=(0,n.useRef)(!1);return(0,n.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),(0,n.useCallback)((()=>e.current),[])}},20115:(e,t,o)=>{o.d(t,{Icon16ChevronOutline:()=>n});var n=(0,o(844990).makeIcon)("Icon16ChevronOutline","chevron_outline_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M4.22 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L7.69 8 4.22 4.53a.75.75 0 0 1 0-1.06" clip-rule="evenodd" /></symbol>',12,16,!1,void 0)},686187:(e,t,o)=>{o.d(t,{Icon20BlockOutline:()=>n});var n=(0,o(844990).makeIcon)("Icon20BlockOutline","block_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="block_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17m4.391-3.048a7 7 0 0 1-9.843-9.843zm1.06-1.06L5.61 4.547a7 7 0 0 1 9.843 9.843" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},68497:(e,t,o)=>{o.d(t,{Icon20CheckCircleOutline:()=>n});var n=(0,o(844990).makeIcon)("Icon20CheckCircleOutline","check_circle_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="check_circle_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0m1.5 0a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0m-5.22-1.22a.75.75 0 0 0-1.06-1.06L9 10.94 7.78 9.72a.75.75 0 0 0-1.06 1.06l1.75 1.75a.75.75 0 0 0 1.06 0z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},405816:(e,t,o)=>{o.d(t,{Icon20ReportOutline:()=>n});var n=(0,o(844990).makeIcon)("Icon20ReportOutline","report_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="report_outline_20"><path d="M10.001 5.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75m-.9 8.4a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0" /><path fill-rule="evenodd" d="m17.326 14.814-2.514 2.514c-.432.433-.648.649-.9.803a2.5 2.5 0 0 1-.723.3c-.288.069-.594.069-1.205.069h-3.97c-.612 0-.918 0-1.206-.07a2.5 2.5 0 0 1-.723-.299c-.252-.154-.468-.37-.9-.803L2.67 14.814c-.432-.432-.648-.648-.802-.9a2.5 2.5 0 0 1-.3-.723c-.068-.288-.068-.593-.069-1.204V8.014c0-.611 0-.917.069-1.205a2.5 2.5 0 0 1 .3-.723c.154-.252.37-.468.803-.9L5.186 2.67c.432-.432.649-.648.9-.803a2.5 2.5 0 0 1 .723-.299c.288-.069.594-.069 1.205-.069h3.97c.611 0 .917 0 1.205.07a2.5 2.5 0 0 1 .723.298c.252.155.468.371.9.804l2.514 2.514c.432.432.648.648.803.9.137.224.238.468.3.723.068.288.068.593.068 1.205v3.972c0 .611 0 .917-.069 1.205a2.5 2.5 0 0 1-.299.723c-.155.252-.37.468-.803.9Zm-.474-1.706c-.062.101-.149.188-.321.36l-3.063 3.063c-.173.173-.26.26-.36.322a1 1 0 0 1-.29.12c-.115.027-.237.027-.482.027H7.662c-.245 0-.367 0-.482-.028a1 1 0 0 1-.29-.12c-.1-.061-.186-.148-.36-.32l-3.06-3.065c-.173-.172-.26-.259-.321-.36a1 1 0 0 1-.12-.289C3 12.704 3 12.582 3 12.338V7.663c0-.245 0-.367.027-.482a1 1 0 0 1 .12-.29c.062-.1.148-.187.321-.36l3.064-3.063c.173-.172.26-.259.36-.32a1 1 0 0 1 .29-.12C7.295 3 7.418 3 7.662 3h4.673c.245 0 .367 0 .482.028a1 1 0 0 1 .29.12c.1.061.187.148.36.32l3.063 3.063c.172.173.259.26.32.36q.084.136.12.29c.028.115.028.237.028.482v4.674c0 .245 0 .367-.027.482a1 1 0 0 1-.12.29Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},897160:(e,t,o)=>{o.d(t,{Icon28ReportOutline:()=>n});var n=(0,o(844990).makeIcon)("Icon28ReportOutline","report_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="report_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path fill="currentColor" fill-rule="nonzero" d="M17.379 2a2.5 2.5 0 0 1 1.767.732l6.122 6.122A2.5 2.5 0 0 1 26 10.62v6.758a2.5 2.5 0 0 1-.732 1.767l-6.122 6.122A2.5 2.5 0 0 1 17.38 26H10.62a2.5 2.5 0 0 1-1.767-.732l-6.122-6.122A2.5 2.5 0 0 1 2 17.38V10.62a2.5 2.5 0 0 1 .732-1.767l6.122-6.122A2.5 2.5 0 0 1 10.62 2zm0 2H10.62a.5.5 0 0 0-.353.146l-6.122 6.122A.5.5 0 0 0 4 10.62v6.758a.5.5 0 0 0 .146.353l6.122 6.122a.5.5 0 0 0 .353.146h6.758a.5.5 0 0 0 .353-.146l6.122-6.122A.5.5 0 0 0 24 17.38V10.62a.5.5 0 0 0-.146-.353l-6.122-6.122A.5.5 0 0 0 17.38 4M14 16.8l.123.006A1.2 1.2 0 0 1 14 19.2l-.123-.006A1.2 1.2 0 0 1 14 16.8M14 8a1 1 0 0 1 1 1v5a1 1 0 0 1-2 0V9a1 1 0 0 1 1-1" /></g></symbol>',28,28,!1,void 0)},278337:(e,t,o)=>{o.d(t,{Icon28UsersCircleFillBlue:()=>n});var n=(0,o(844990).makeIcon)("Icon28UsersCircleFillBlue","users_circle_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="users_circle_fill_blue_28"><linearGradient id="users_circle_fill_blue_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><path fill="url(#users_circle_fill_blue_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14" /><path fill="#fff" d="M10.5 15c2.25 0 4.5.9 4.5 2.846v.134c0 .295-.04.447-.113.585a.77.77 0 0 1-.322.321c-.138.075-.29.114-.585.114H7.02c-.295 0-.447-.04-.585-.113a.77.77 0 0 1-.321-.322c-.075-.138-.114-.29-.114-.585v-.134C6 15.9 8.25 15 10.5 15m7 0c2.25 0 4.5.9 4.5 2.846v.134c0 .295-.04.447-.113.585a.77.77 0 0 1-.322.321c-.138.075-.29.114-.585.114H16.6c.084-.248.13-.508.144-.797l.006-.223v-.134c0-1.069-.358-1.957-.971-2.659A7.7 7.7 0 0 1 17.5 15m-7-6a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5m7 0a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5" /></symbol>',28,28,!1,void 0)},512253:(e,t,o)=>{o.d(t,{default:()=>n});const n={userItemSizeS:"UserItem__userItemSizeS--W65L3",userItemSizeM:"UserItem__userItemSizeM--lhfyG",userItemSizeL:"UserItem__userItemSizeL--HwOrd",userItemRoot:"UserItem__userItemRoot--suctz",userItemRootHide:"UserItem__userItemRootHide--pmexq"}},221383:(e,t,o)=>{o.d(t,{default:()=>n});const n={usersBlockItemsWrap:"UsersBlock__usersBlockItemsWrap--UGmAY",usersBlockItems:"UsersBlock__usersBlockItems--ANH6I",usersBlockFooterSpacing:"UsersBlock__usersBlockFooterSpacing--NsD3h"}},50115:(e,t,o)=>{o.d(t,{default:()=>n});const n={usersBlockItems:"UsersBlockMVK__usersBlockItems--GUvfd"}},170505:(e,t,o)=>{o.d(t,{default:()=>n});const n={usersBlockFooterSpacing:"UsersBlockWEB__usersBlockFooterSpacing--uciqc"}},23535:(e,t,o)=>{o.d(t,{default:()=>n});const n={usersFooterActionRoot:"UsersFooterAction__usersFooterActionRoot--WiUTQ",usersFooterActionLink:"UsersFooterAction__usersFooterActionLink--dNu9U",usersFooterActionMiddle:"UsersFooterAction__usersFooterActionMiddle--yJ0ou",usersFooterActionIcon:"UsersFooterAction__usersFooterActionIcon--PiG57"}},657700:(e,t,o)=>{o.d(t,{default:()=>n});const n={feedBlockHeaderWrap:"FeedBlockHeader__feedBlockHeaderWrap--iUrZe",feedBlockHeaderWrapDecreaseMargin:"FeedBlockHeader__feedBlockHeaderWrapDecreaseMargin--Fc7mS",feedBlockHeaderMoreIcon:"FeedBlockHeader__feedBlockHeaderMoreIcon--PrPSe",feedBlockHeaderContent:"FeedBlockHeader__feedBlockHeaderContent--vKIr2",feedBlockHeaderTitleIcon:"FeedBlockHeader__feedBlockHeaderTitleIcon--wlFO9"}},420026:(e,t,o)=>{o.d(t,{default:()=>n});const n={feedBlockHeaderWrapDecreaseMargin:"FeedBlockHeaderMVK__feedBlockHeaderWrapDecreaseMargin--9s5q8",feedBlockHeaderMoreIcon:"FeedBlockHeaderMVK__feedBlockHeaderMoreIcon--YfrQY"}},886620:(e,t,o)=>{o.d(t,{default:()=>n});const n={blockWrap:"FeedHideBlock__blockWrap--Yy1Kg",blockWrapMobile:"FeedHideBlock__blockWrapMobile--DzCvT",actionsMaxHeight:"FeedHideBlock__actionsMaxHeight--49tJl",placeholder:"FeedHideBlock__placeholder--AhAeK"}},140094:(e,t,o)=>{o.d(t,{InView:()=>_,observe:()=>l,useInView:()=>h});var n=o(296540);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},s.apply(this,arguments)}const i=new Map,r=new WeakMap;let a,d=0;function c(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(o=e.root,o?(r.has(o)||(d+=1,r.set(o,d.toString())),r.get(o)):"0"):e[t]}`;var o})).toString()}function l(e,t,o={},n=a){if(void 0===window.IntersectionObserver&&void 0!==n){const s=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:"number"==typeof o.threshold?o.threshold:0,time:0,boundingClientRect:s,intersectionRect:s,rootBounds:s}),()=>{}}const{id:s,observer:r,elements:d}=function(e){let t=c(e),o=i.get(t);if(!o){const n=new Map;let s;const r=new IntersectionObserver((t=>{t.forEach((t=>{var o;const i=t.isIntersecting&&s.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(o=n.get(t.target))||o.forEach((e=>{e(i,t)}))}))}),e);s=r.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),o={id:t,observer:r,elements:n},i.set(t,o)}return o}(o);let l=d.get(e)||[];return d.has(e)||d.set(e,l),l.push(t),r.observe(e),function(){l.splice(l.indexOf(t),1),0===l.length&&(d.delete(e),r.unobserve(e)),0===d.size&&(r.disconnect(),i.delete(s))}}const u=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function m(e){return"function"!=typeof e.children}class _ extends n.Component{constructor(e){super(e),this.node=null,this._unobserveCb=null,this.handleNode=e=>{this.node&&(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()},this.handleChange=(e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),m(this.props)||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)},this.state={inView:!!e.initialInView,entry:void 0}}componentDidUpdate(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve(),this.node=null}observeNode(){if(!this.node||this.props.skip)return;const{threshold:e,root:t,rootMargin:o,trackVisibility:n,delay:s,fallbackInView:i}=this.props;this._unobserveCb=l(this.node,this.handleChange,{threshold:e,root:t,rootMargin:o,trackVisibility:n,delay:s},i)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){if(!m(this.props)){const{inView:e,entry:t}=this.state;return this.props.children({inView:e,entry:t,ref:this.handleNode})}const e=this.props,{children:t,as:o}=e,i=function(e,t){if(null==e)return{};var o,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(s[o]=e[o]);return s}(e,u);return n.createElement(o||"div",s({ref:this.handleNode},i),t)}}function h({threshold:e,delay:t,trackVisibility:o,rootMargin:s,root:i,triggerOnce:r,skip:a,initialInView:d,fallbackInView:c,onChange:u}={}){var m;const[_,h]=n.useState(null),f=n.useRef(),[g,p]=n.useState({inView:!!d,entry:void 0});f.current=u,n.useEffect((()=>{if(a||!_)return;let n;return n=l(_,((e,t)=>{p({inView:e,entry:t}),f.current&&f.current(e,t),t.isIntersecting&&r&&n&&(n(),n=void 0)}),{root:i,rootMargin:s,threshold:e,trackVisibility:o,delay:t},c),()=>{n&&n()}}),[Array.isArray(e)?e.toString():e,_,i,s,r,a,o,c,t]);const k=null==(m=g.entry)?void 0:m.target,S=n.useRef();_||!k||r||a||S.current===k||(S.current=k,p({inView:!!d,entry:void 0}));const v=[h,g.inView,g.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}}}]);try{stManager?.done("dist/web/chunks/521a8d07.8b1d386a.js")}catch(e){}