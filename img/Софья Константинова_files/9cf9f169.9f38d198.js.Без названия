"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[69344],{793192:(e,t,o)=>{o.d(t,{OwnerStateStateEnumNames:()=>r});const r={BANNED:1,ADULT:2,HIDDEN:3,DELETED:4,BLACKLISTED:5}},44755:(e,t,o)=>{o.d(t,{HASHTAG_ENTITIES_ALL:()=>l,HASHTAG_ENTITIES_NEW:()=>c,RE_HASHTAG_EXTRACTION_PATTERN:()=>s,RE_HASHTAG_EXTRACTION_PATTERN_NEW:()=>_});var r=o(175819);const a="a-zA-Zа-яА-ЯёіјєїґўЁІЈЄЇҐЎ’",n="(?:&#(?:19[2-9]|(?:[2-9]|1[0-3])[0-9][0-9]);?)",i=`(?:[${a}_\\d]|${n})`,s=`(^|[s.,:'";>)(]?)(${`(#${i}{0,100}${`(?:[${a}]|${n})`}${i}{0,100})`})(@${r.RE_DOMAIN_PATTERN})?(?=$|[s.,:'"&;?<)(]?)`,l="&#(\\d{3,5});",c="(?:&#\\d{3,5};)",d=`(?:[${a}_\\d]|${c})`,_=`(^|[s.,:'";>)(]?)(${`(#${d}{0,100}${`(?:[${a}]|${c})`}${d}{0,100})`})(@${r.RE_DOMAIN_PATTERN})?(?=$|[s.,:'"&;?<)(]?)`},982096:(e,t,o)=>{o.d(t,{calculateElementSize:()=>r});const r=e=>{if(!e)return{width:0,height:0};const t=e.getBoundingClientRect();return{width:t.width,height:t.height}}},699515:(e,t,o)=>{o.d(t,{useDragAndDrop:()=>a});var r=o(296540);const a=({getDndContainer:e,onDragEnter:t,onDragLeave:o,onDrop:a,isActive:n=!0})=>{const i=(0,r.useRef)(void 0),s=(e,t=!1)=>{clearTimeout(i.current);const r=()=>{i.current=void 0,o()};t?r():i.current=setTimeout(r,100),e.stopImmediatePropagation(),e.preventDefault()},l=e=>{s(e,!0);const t=e.dataTransfer?.files;t?.length&&a(t),e.stopImmediatePropagation(),e.preventDefault()},c=e=>{("file"===e?.dataTransfer?.items[0]?.kind||e?.dataTransfer?.types?.includes("Files"))&&(clearTimeout(i.current),i.current=void 0,t()),e.stopImmediatePropagation(),e.preventDefault()};(0,r.useEffect)((()=>{const t=e();return n&&(t?.addEventListener("drop",l),t?.addEventListener("dragenter",c),t?.addEventListener("dragover",c),t?.addEventListener("dragleave",s)),()=>{t?.removeEventListener("drop",l),t?.removeEventListener("dragenter",c),t?.removeEventListener("dragover",c),t?.removeEventListener("dragleave",s)}}),[n])}},631085:(e,t,o)=>{var r;o.d(t,{OnboardingCardId:()=>r}),function(e){e[e.PROFILE_PHOTO_ONBOARDING_CARD_ID=1]="PROFILE_PHOTO_ONBOARDING_CARD_ID",e[e.SEND_POST_ONBOARDING_CARD_ID=5]="SEND_POST_ONBOARDING_CARD_ID",e[e.DOWNLOAD_APP_CARD_ID=10]="DOWNLOAD_APP_CARD_ID"}(r||(r={}))},647966:(e,t,o)=>{o.d(t,{FollowersModeOnboardingClickStatCollector:()=>n});var r=o(317216),a=o(314309);class n{logEvent(e,t="profile"){const o={type:r.ClickProductionStatEventTypes.FOLLOWERS_MODE_ONBOARDING_CLICK,[r.ClickProductionStatEventTypes.FOLLOWERS_MODE_ONBOARDING_CLICK]:e},a={type:r.EventItemType.CLICK_ITEM};this.clickStatCollector.logEvent(o,a,t)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},434239:(e,t,o)=>{o.d(t,{ProfileItemStatCollector:()=>n});var r=o(317216),a=o(314309);class n{logEvent(e,t="profile"){const o={type:r.ClickProductionStatEventTypes.TYPE_PROFILE_ITEM,[r.ClickProductionStatEventTypes.TYPE_PROFILE_ITEM]:e},a={type:r.EventItemType.PROFILE};this.clickStatCollector.logEvent(o,a,t)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},510519:(e,t,o)=>{o.d(t,{FollowersModeOnboardingButtonEntrypointViewStatsCollector:()=>a});var r=o(314309);class a{constructor(){this.logEvent=(e,t)=>{const o={type:e.type,[e.type]:t,start_view:"",end_view:""};this.viewStatCollector.logEvent(o,e)},this.productStatCollector=new r.ProductionStatCollector,this.viewStatCollector=new r.ViewStatCollector(this.productStatCollector)}}},152817:(e,t,o)=>{var r;o.d(t,{ProfileItemEventType:()=>r}),function(e){e.CLICK_SEND_GIFT="click_send_gift",e.CLICK_TO_QUESTIONS="click_to_questions",e.OPEN_MORE="open_more",e.ADD_TO_BEST_FRIENDS="add_to_best_friends",e.ADD_TO_BOOKMARKS="add_to_bookmarks",e.ADD_TO_CHAT="add_to_chat",e.BLOCK="block",e.CHANGE_AVATAR="change_avatar",e.CHANGE_AVATAR_CAMERA="change_avatar_camera",e.CHANGE_AVATAR_GALLERY="change_avatar_gallery",e.CHANGE_INFO="change_info",e.CLAIM="claim",e.CLASSIFIED_PUBLISH="classified_publish",e.CLICK_TO_ADD_CONTENT="click_to_add_content",e.CLICK_TO_ARCHIVE="click_to_archive",e.CLICK_TO_ARTICLES_BUTTON="click_to_articles_button",e.CLICK_TO_AVATAR="click_to_avatar",e.CLICK_TO_BIRTHDAY_GIFT="click_to_birthday_gift",e.CLICK_TO_CHANGE_COVER="click_to_change_cover",e.CLICK_TO_CHANGE_PROFILE="click_to_change_profile",e.CLICK_TO_CLASSIFIED="click_to_classified",e.CLICK_TO_CLIPS_BUTTON="click_to_clips_button",e.CLICK_TO_DOTS="click_to_dots",e.CLICK_TO_EMOJI_STATUS="click_to_emoji_status",e.CLICK_TO_GIFTS="click_to_gifts",e.CLICK_TO_MEMORIES="click_to_memories",e.CLICK_TO_MESSAGE="click_to_message",e.CLICK_TO_MONEY="click_to_money",e.CLICK_TO_MORE="click_to_more",e.CLICK_TO_MORE_CONTENT="click_to_more_content",e.CLICK_TO_MUSIC_BUTTON="click_to_music_button",e.CLICK_TO_NAME_CHANGE="click_to_name_change",e.CLICK_TO_NARRATIVES_BUTTON="click_to_narratives_button",e.CLICK_TO_NEW_PROFILE="click_to_new_profile",e.CLICK_TO_OPEN_PHOTO="click_to_open_photo",e.CLICK_TO_ALBUMS_BUTTON="click_to_albums_button",e.CLICK_TO_PHOTO_BUTTON="click_to_photo_button",e.CLICK_TO_PLUS="click_to_plus",e.CLICK_TO_SERVICES="click_to_services",e.CLICK_TO_STATS="click_to_stats",e.CLICK_TO_VIDEO_BUTTON="click_to_video_button",e.CLICK_TO_WISHLIST="click_to_wishlist",e.CLICK_TO_TAB_SETTINGS_BUTTON="click_to_tab_settings_button",e.SAVE_TAB_SETTINGS="save_tab_settings",e.CLIP_PUBLISH="clip_publish",e.CONTENT_SUBSCRIBE="content_subscribe",e.CONTENT_UNSUBSCRIBE="content_unsubscribe",e.COPY_LINK="copy_link",e.COVER_FROM_CAMERA="cover_from_camera",e.COVER_FROM_GALLERY="cover_from_gallery",e.CLICK_TO_PREVIEW="click_to_preview",e.PREVIEW_MODE_CHANGE="preview_mode_change",e.DELETE_AVATAR="delete_avatar",e.DELETE_COVER="delete_cover",e.EDIT_NICKNAME="edit_nickname",e.EDIT_SHORT_INFO="edit_short_info",e.HIDE_BIRTHDAY_BLOCK="hide_birthday_block",e.LIVE_PUBLISH="live_publish",e.NARRATIVE_PUBLISH="narrative_publish",e.NICK_OFF="nick_off",e.NICK_ON="nick_on",e.ONBOARDING_COMMUNITY="onboarding_community",e.ONBOARDING_COVER="onboarding_cover",e.ONBOARDING_IMPORT_CONTACTS="onboarding_import_contacts",e.ONBOARDING_SHORT_ADRESS="onboarding_short_adress",e.POPUP_HIDE="popup_hide",e.POPUP_NEXT="popup_next",e.POPUP_SHOW_AUTO="popup_show_auto",e.POST_PUBLISH="post_publish",e.REMOVE_FROM_BEST_FRIENDS="remove_from_best_friends",e.REMOVE_FROM_BOOKMARKS="remove_from_bookmarks",e.SET_NFT_AVATAR_FINISH="set_nft_avatar_finish",e.SAVE_AVATAR="save_avatar",e.SAVE_CHANGE_INFO="save_change_info",e.SAVE_COVER="save_cover",e.SAVE_PROFILE="save_profile",e.SELECT_EMOJI="select_emoji",e.SHARE_PAGE="share_page",e.SHOW_MORE_GIFTS="show_more_gifts",e.SHOW_QR="show_qr",e.STORY_PUBLISH="story_publish",e.VIDEO_PUBLISH="video_publish",e.ONBOARDING_EDUCATION="оnboarding_education",e.CLICK_TO_APP_BUTTON="click_to_app_button",e.CLICK_TO_THIRD_PARTY_BUTTON="click_to_third_party_button"}(r||(r={}))},518949:(e,t,o)=>{function r(e){return e.action.app?.id||0}function a(e){let t=[];if(e.profile_buttons){t=e.profile_buttons.reduce(((e,t)=>e.concat(t)),[]).map((e=>r(e)))}return[...t||[],...e.third_party_buttons?.map((e=>r(e)))||[]].filter((e=>0!==e))}function n(e){if(!e.buttons)return 0;const t=e.buttons.find((e=>Boolean(e.action.app)));return t&&t.action.app?.id||0}function i(e){if(!e)return"none";switch(e){case 1:return"send_request";case 2:return"receive_request";case 3:return"friend"}return"none"}o.d(t,{CONTENT_TYPE_BY_TAB_NAME:()=>s,convertFriendStatusToStatString:()=>i,extractProjectButtonID:()=>n,extractPromoButtonsIDs:()=>a});const s={albums:"albums",photos:"photo",videos:"video",music:"music",short_videos:"clips",narratives:"narrative",articles:"articles",classifieds:"classified",nfts:"nft"}},397729:(e,t,o)=>{o.d(t,{MaskIcon:()=>n});var r=o(474848),a=o(8520);function n({src:e,size:t,className:o,style:n,...i}){return(0,r.jsx)("div",{className:(0,a.classNames)("MaskIcon",`MaskIcon--${t}`,o),style:{...n,maskImage:`url("${e}")`,WebkitMaskImage:`url("${e}")`,width:`${t}px`,height:`${t}px`},...i})}},646482:(e,t,o)=>{o.d(t,{getAddUserButtonType:()=>d,getOnboadingIconSrc:()=>s,isNewCoverEnabled:()=>l,isNftMarketSearchTokensResponse:()=>u,isNftMarketToken:()=>_,isUserCelebrity:()=>i,replaceHashTagsInfo:()=>c});var r=o(891281),a=o(540462),n=o(485910);function i(e,t,o){if(!e.can_send_friend_request)return!0;if(e.id===t.id&&o){const e=o.settings.find((e=>"friends_requests"===e.key)),t=e?.value;if(t&&"category"in t)return"all"!==t.category}return!1}function s(e){const{icons_dark:t}=e;if(!t)return"";const[o,r]=t;return 1===window.devicePixelRatio?o.url:r.url}function l(){return(0,a.partConfigEnabled)("profile_redesign_new_cover_exp")}function c(e){if(e)try{return(0,n.replaceHashtags)(e,(e=>`<a href="/feed?section=search&q=${encodeURIComponent(e)}">${e}</a>`))}catch(t){return console.log(t),e}}function d({owner:e}){return e.friend_status===r.FriendsFriendStatusStatusEnumNames.NOT_A_FRIEND?!e.is_followers_mode_on&&e.is_closed?"send_request":e.can_send_friend_request&&"follow"!==e.social_button_type?"add_friend":"folllow":e.friend_status===r.FriendsFriendStatusStatusEnumNames.OUTCOMING_REQUEST?!e.is_followers_mode_on&&e.is_closed?"request_sended":"you_followed":e.friend_status===r.FriendsFriendStatusStatusEnumNames.INCOMING_REQUEST?!e.is_followers_mode_on&&e.is_closed?"request_sended_to_you":"following_you":null}function _(e){return"public_id"in e&&"owner_profile_id"in e}function u(e){return void 0!==e&&"models"in e}},451549:(e,t,o)=>{o.d(t,{isVKUserAnonymous:()=>a});var r=o(810068);const a=()=>r.Ranges.isZeroOwner(window.vk.id)},405972:(e,t,o)=>{o.d(t,{UploadPhoto:()=>r.UploadPhoto});var r=o(451696)},271781:(e,t,o)=>{var r,a,n;o.d(t,{OwnerAvatarEditorModes:()=>n,OwnerAvatarEditorPhotoTypes:()=>a,UploadPhotoErrorCodes:()=>r}),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.UPLOAD=1]="UPLOAD",e[e.NOT_ALLOWED_EXTENSION=2]="NOT_ALLOWED_EXTENSION",e[e.IMAGE_TOO_SMALL=3]="IMAGE_TOO_SMALL",e[e.IMAGE_TOO_BIG=4]="IMAGE_TOO_BIG",e[e.BAD_ASPECT_RATIO=5]="BAD_ASPECT_RATIO"}(r||(r={})),function(e){e.UPLOADED="uploaded",e.EXISTED="existed"}(a||(a={})),function(e){e[e.UPLOAD=1]="UPLOAD",e[e.SELECT=2]="SELECT",e[e.EDIT=3]="EDIT",e[e.NFT=4]="NFT",e[e.NFT_EDIT=5]="NFT_EDIT"}(n||(n={}))},451696:(e,t,o)=>{o.d(t,{UploadPhoto:()=>n});var r=o(271781),a=o(84689);class n{validateSizes(e){const{lang:t,constraints:o}=this.config;if(o){const{maxWidth:a,minWidth:n,maxHeight:i,minHeight:s,maxAspectRatio:l,minAspectRatio:c}=o,[d,_]=e,u=d/_;if(d>a||_>i){const e=(t[`error_${r.UploadPhotoErrorCodes.IMAGE_TOO_BIG}`]||"").replace("{width}",String(a)).replace("{height}",String(i));return{code:r.UploadPhotoErrorCodes.IMAGE_TOO_BIG,text:e}}if(d<n||_<s){const e=(t[`error_${r.UploadPhotoErrorCodes.IMAGE_TOO_SMALL}`]||"").replace("{width}",String(n)).replace("{height}",String(s));return{code:r.UploadPhotoErrorCodes.IMAGE_TOO_SMALL,text:e}}if(c&&c>u)return{code:r.UploadPhotoErrorCodes.BAD_ASPECT_RATIO,text:t[`error_${r.UploadPhotoErrorCodes.BAD_ASPECT_RATIO}`]};if(l&&u>l)return{code:r.UploadPhotoErrorCodes.BAD_ASPECT_RATIO,text:t[`error_${r.UploadPhotoErrorCodes.BAD_ASPECT_RATIO}`]}}return null}validate(e,t=!0){const{constraints:o,allowedTypes:n=[],lang:i}=this.config;let s=n.some((t=>"*"===t||t===e.type));return s||e.type||t||(s=!0),s?o&&t?(0,a.getImageSizeByBlob)(e).then((e=>{const t=this.validateSizes(e);return t?Promise.reject(t):Promise.resolve(null)})).catch((function(e){return e&&e.text&&e.code?Promise.reject(e):Promise.reject({code:r.UploadPhotoErrorCodes.UNKNOWN,text:i[`error_${r.UploadPhotoErrorCodes.UNKNOWN}`]})})):Promise.resolve(null):Promise.reject({code:r.UploadPhotoErrorCodes.NOT_ALLOWED_EXTENSION,text:i[`error_${r.UploadPhotoErrorCodes.NOT_ALLOWED_EXTENSION}`]})}upload({file:e,uploadURL:t=this.config.url,fieldName:o="file1",validateSizes:a=!0}){return this.validate(e,a).then((()=>new Promise(((a,n)=>{const i=new XMLHttpRequest,s=new FormData;s.append(o,e),i.open("POST",t,!0),i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE&&200===i.status){let e;try{i.responseText&&(e=JSON.parse(i.responseText))}catch(e){n({code:r.UploadPhotoErrorCodes.UNKNOWN,text:this.config.lang[`error_${r.UploadPhotoErrorCodes.UNKNOWN}`]})}a(e)}},i.onerror=()=>{n({code:r.UploadPhotoErrorCodes.UPLOAD,text:this.config.lang[`error_${r.UploadPhotoErrorCodes.UPLOAD}`]})},i.upload.onprogress=e=>{this.progressCallback&&this.progressCallback(e.loaded,e.total)},i.send(s)}))))}constructor(e,t){this.config={allowedTypes:["*"],...e},this.progressCallback=t}}},84689:(e,t,o)=>{function r(e){return t=URL.createObjectURL(e),new Promise((function(e,o){const r=new Image;r.onload=function(){const t=Number(r.height),o=Number(r.width);e([o,t])},r.onerror=function(){o()},r.onabort=function(){o()},r.src=t}));var t}o.d(t,{getImageSizeByBlob:()=>r})},485910:(e,t,o)=>{o.d(t,{replaceHashtags:()=>l});var r=o(44755),a=o(540462);let n;const i=[[192,1399],[12352,12543],[19968,40959],[44032,55215]];function s(e){const t=e.match(r.HASHTAG_ENTITIES_ALL)?.[1];if(!t)return!1;const o=parseInt(t);for(const e of i)if(o>=e[0]&&o<=e[1])return!0;return!1}function l(e,t){return e.replace((n||(n=(0,a.partConfigEnabled)("new_hashtags_parser")?new RegExp(r.RE_HASHTAG_EXTRACTION_PATTERN_NEW,"ig"):new RegExp(r.RE_HASHTAG_EXTRACTION_PATTERN,"ig")),n),((e,o,n,i,l)=>{let c="";if((0,a.partConfigEnabled)("new_hashtags_parser")){const e=n.matchAll(new RegExp(r.HASHTAG_ENTITIES_NEW,"ig"));for(const t of e){const[e]=t;if(!s(e)){c=n.slice(t.index),n=n.slice(0,t.index);break}}}return"#"===n?(o||"")+n+(l||"")+c:(o||"")+t(n+(l||""),n)+c}))}},60650:(e,t,o)=>{o.d(t,{CoverModal:()=>C});var r=o(474848),a=o(8520),n=o(194528),i=o(908242),s=o(454154),l=o(373080),c=o(285056),d=o(723723),_=o(694244),u=o(782174),p=o(63614),v=o(866467),m=o(523417),h=o(435946),g=o(975370);const C=({view:e,onClose:t,onCancel:o,editNode:C,previewNode:f,uploadImageNode:w,loading:T=!1,setView:E,handleSaveClick:I,labels:O})=>{const N=e===h.Views.UploadImage;return(0,r.jsxs)(_.ModalBox,{width:N?560:950,maxWidth:950,children:[(0,r.jsx)(u.ModalHeader,{onClose:t,closeAriaLabel:v.getLang("global_close"),children:(()=>{switch(e){case h.Views.Edit:return O.titleEdit;case h.Views.Preview:return O.titlePreview;case h.Views.UploadImage:return O.titleUpload}(0,m.expectNever)(e)})()}),(0,r.jsxs)(p.ModalBody,{insetLevel:2,className:g.default.content,children:[(()=>{const t=(()=>{switch(e){case h.Views.Edit:return O.descriptionEdit;case h.Views.Preview:return O.descriptionPreview;case h.Views.UploadImage:return null}(0,m.expectNever)(e)})();return t?(0,r.jsx)(l.InnerHTML,{Component:c.Headline,className:(0,a.classNames)((0,d.getColorClass)("color_text_primary"),g.default.centered),children:t}):null})(),(()=>{switch(e){case h.Views.Edit:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Spacing,{size:16}),C]});case h.Views.Preview:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Spacing,{size:16}),f]});case h.Views.UploadImage:return w}(0,m.expectNever)(e)})()]}),(()=>{switch(e){case h.Views.Edit:return(0,r.jsx)(i.ModalFooter,{before:(0,r.jsx)(s.Button,{mode:"secondary",size:"m",disabled:T,onClick:()=>E(h.Views.Preview),"data-testid":"preview_button",children:O.btnPreview}),actions:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Button,{mode:"secondary",size:"m",disabled:T,onClick:o,"data-testid":"cancel_button",children:v.getLang("global_cancel")}),(0,r.jsx)(s.Button,{size:"m",loading:T,onClick:I,"data-testid":"save_cover_button",children:O.btnSubmit})]})});case h.Views.Preview:return(0,r.jsx)(i.ModalFooter,{actions:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Button,{mode:"secondary",size:"m",disabled:T,onClick:()=>E(h.Views.Edit),children:O.btnReturnToEdit}),(0,r.jsx)(s.Button,{size:"m",loading:T,onClick:I,children:O.btnSubmit})]})});case h.Views.UploadImage:return null}(0,m.expectNever)(e)})()]})}},540084:(e,t,o)=>{o.d(t,{CoverModal:()=>r.CoverModal});var r=o(60650)},409766:(e,t,o)=>{o.d(t,{CoverModalBorder:()=>i});var r=o(474848),a=o(8520),n=o(12574);const i=({stroke:e="white",strokeDasharray:t="6 14",ry:o="12",rx:i="12",className:s})=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:e,className:(0,a.classNames)(n.default.border,s),children:(0,r.jsx)("rect",{height:"100%",width:"100%",strokeWidth:"4",strokeDasharray:t,rx:i,ry:o,strokeLinecap:"square"})})},380482:(e,t,o)=>{o.d(t,{CoverModalBorder:()=>r.CoverModalBorder});var r=o(409766)},460142:(e,t,o)=>{o.d(t,{CoverModalCustomCropArea:()=>l,MIN_CONTAINER_WIDTH:()=>s});var r=o(474848),a=o(200682),n=o(8520),i=o(610118);const s=590,l=({isPlaceholderVisible:e,ownerType:t,placeholderTextMobile:o,placeholderTextDesktop:s})=>{const l=t===a.OwnerType.profile,c=t===a.OwnerType.community;return(0,r.jsxs)("div",{className:i.default.main,children:[(0,r.jsx)(a.CoverModalBorder,{}),(0,r.jsx)("div",{className:(0,n.classNames)(i.default.fadeArea,c&&i.default.fadeAreaSmall),children:e&&(0,r.jsx)("span",{className:i.default.placeholder,children:o})}),(0,r.jsxs)("div",{className:i.default.center,children:[(0,r.jsx)(a.CoverModalBorder,{}),e&&(0,r.jsx)("span",{className:i.default.placeholder,children:s})]}),l&&(0,r.jsx)("div",{className:i.default.fadeArea})]})}},616512:(e,t,o)=>{o.d(t,{CoverModalCustomCropArea:()=>r.CoverModalCustomCropArea,MIN_CONTAINER_WIDTH:()=>r.MIN_CONTAINER_WIDTH});var r=o(460142)},862412:(e,t,o)=>{o.d(t,{Preview:()=>h});var r=o(474848),a=o(8520),n=o(524691),i=o(211114),s=o(303800),l=o(751268),c=o(723723),d=o(194528),_=o(285056),u=o(200682),p=o(221043),v=o(523417),m=o(361360);const h=({croppedImage:e,name:t,isNFT:o=!1,avatarImageUrl:h,isMobile:g=!1,ownerType:C})=>{const f=((e,t)=>{switch(e){case u.OwnerType.profile:return{wrap:(0,a.classNames)(m.default.coverWrap,t&&m.default.mobileCoverWrap),cover:(0,a.classNames)(m.default.cover,m.default.coverCentred,t&&m.default.mobileCover),coverImg:(0,a.classNames)(m.default.coverImg,m.default.coverImgCentred,t&&m.default.mobileCoverImg),info:(0,a.classNames)(m.default.info,t&&m.default.mobileInfoCentred,(0,n.getVKSansDisplayClass)()),size:t?108:158,avatarGroup:(0,a.classNames)(m.default.avatarGroupCentred,t&&m.default.avatarGroupMobileCentred)};case u.OwnerType.community:return{wrap:(0,a.classNames)(m.default.coverWrap,t&&m.default.mobileCoverWrap),cover:(0,a.classNames)(m.default.cover,t&&m.default.mobileCover),coverImg:(0,a.classNames)(m.default.coverImg,t&&m.default.mobileCoverImg),info:(0,a.classNames)(m.default.info,t&&m.default.mobileInfo,(0,n.getVKSansDisplayClass)()),size:t?90:100,avatarGroup:(0,a.classNames)(m.default.avatarGroup,t&&m.default.avatarGroupMobile)};case u.OwnerType.videoCommunity:return{wrap:(0,a.classNames)(m.default.coverWrap,t&&m.default.mobileCoverWrap),cover:(0,a.classNames)(m.default.cover,m.default.videoCover,t&&m.default.mobileCover),coverImg:(0,a.classNames)(m.default.coverImg,m.default.videoCoverImg,t&&m.default.mobileCoverImg),info:(0,a.classNames)(m.default.info,t&&m.default.mobileInfo),size:t?90:100,avatarGroup:(0,a.classNames)(m.default.avatarGroup,t&&m.default.avatarGroupMobile)}}(0,v.expectNever)(e)})(C,g);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Card,{mode:"shadow",className:f.wrap,children:[(0,r.jsx)("div",{className:f.cover,children:(0,r.jsx)("div",{className:f.coverImg,style:{backgroundImage:`url(${e})`}})}),(0,r.jsxs)(s.Div,{className:f.info,children:[(0,r.jsx)("div",{className:f.avatarGroup,children:(0,r.jsx)(l.RichAvatar,{className:m.default.avatarWrap,src:h,nft:o,size:f.size,children:!h&&(0,r.jsx)(p.Icon32CameraOutline,{className:(0,c.getColorClass)("color_icon_accent")})})}),g&&(0,r.jsx)(d.Spacing,{size:8}),(0,r.jsx)(_.Title,{level:"2",children:t})]})]}),g&&(0,r.jsx)(d.Spacing,{size:43})]})}},313600:(e,t,o)=>{o.d(t,{Preview:()=>r.Preview});var r=o(862412)},551692:(e,t,o)=>{o.d(t,{PreviewModal:()=>u});var r=o(474848),a=o(296540),n=o(753457),i=o(194528),s=o(700272),l=o(421334),c=o(313600),d=o(435946),_=o(192400);const u=({ownerType:e,image:t,rect:o,previewInfo:u,isOriginalSizeImg:p=!0,cx:v=1,cy:m=1,onPreviewTypeChange:h,mainLabelText:g,mobileLabelText:C,previewType:f})=>{const[w,T]=(0,a.useState)(f||d.PreviewType.main),[E,I]=(0,a.useState)(!0),[O,N]=(0,a.useState)("");(0,a.useEffect)((()=>{if(o&&t){const e=p?o.top:Math.floor(o.top*v),r=p?o.left:Math.floor(o.left*m),a=p?o.width:Math.floor(o.width*m),n=p?o.height:Math.floor(o.height*v);(0,l.getCroppedImage)(t,r,e,a,n).then((e=>{N(e.src),I(!1)}))}}),[o,t,p,v,m]),(0,a.useEffect)((()=>{h?.(w)}),[w]);const S=w===d.PreviewType.mobile,A=!f&&g&&C;return(0,r.jsxs)(r.Fragment,{children:[A&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.SegmentedControl,{size:"m",className:_.default.control,value:w,onChange:e=>T(e),options:[{label:g,value:d.PreviewType.main},{label:C,value:d.PreviewType.mobile}]}),(0,r.jsx)(i.Spacing,{size:S?48:16})]}),E?(0,r.jsx)(s.Spinner,{size:"large"}):(0,r.jsx)(c.Preview,{isMobile:S,ownerType:e,croppedImage:O,avatarImageUrl:u.avatarImageUrl,name:u.name,isNFT:u.isNFT})]})}},275901:(e,t,o)=>{o.d(t,{PreviewModal:()=>r.PreviewModal});var r=o(551692)},603648:(e,t,o)=>{o.d(t,{UploadStep:()=>g});var r=o(474848),a=o(296540),n=o(194528),i=o(285056),s=o(753457),l=o(884945),c=o(8520),d=o(866467),_=o(270959),u=o(200682),p=o(137745),v=o(171628),m=o(699515),h=o(425852);const g=({uploadStepImageUrl:e,labels:t,acceptFileTypes:o=u.allowedTypes,setUploadedImage:g,handleFile:C})=>{const f=(0,a.useRef)(null),[w,T]=(0,a.useState)(!1),E=e=>!!o.split(",").includes(e.type)||(!(e.type||!o?.includes("image/heic")||!(0,p.isHeicFile)(e))||((0,_.showFastBox)(d.getLang("global_error"),t.typeError),!1)),I=e=>{C?C(e):g&&(0,v.convertFileBlobToUploadedImage)(e).then(g)};return(0,m.useDragAndDrop)({getDndContainer:()=>document.body,onDragEnter:()=>{T(!0)},onDragLeave:()=>{T(!1)},onDrop:e=>{const t=e?.[0];t&&E(t)&&I(t)}}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{ref:f,multiple:!1,hidden:!0,type:"file",accept:o,onChange:e=>{const t=e.target.files?.[0];t&&E(t)&&I(t)}}),(0,r.jsx)(n.Spacing,{size:4}),(0,r.jsxs)("div",{className:h.default.placeholder,children:[(0,r.jsx)("div",{className:h.default.image,style:{backgroundImage:`url(${e})`}}),(0,r.jsx)(i.Headline,{Component:"h2",level:"2",weight:"2",className:h.default.title,children:t.description}),(0,r.jsx)(s.Subhead,{weight:"3",className:h.default.description,children:t.hint})]}),(0,r.jsxs)("div",{className:(0,c.classNames)(h.default.button,w&&h.default.drag),onClick:e=>{e.stopPropagation(),f.current?.click()},children:[(0,r.jsx)(u.CoverModalBorder,{stroke:"rgb(42, 88, 133)",strokeDasharray:"4 8"}),(0,r.jsx)(l.Icon28AddOutline,{className:h.default.icon}),w?(0,r.jsx)(s.Subhead,{weight:"3",className:h.default.linkHint,children:t.DnDHint}):(0,r.jsx)(s.Subhead,{weight:"3",className:h.default.linkCaption,children:t.uploadCaption}),!w&&(0,r.jsx)(s.Subhead,{Component:"h3",className:h.default.recommendations,dangerouslySetInnerHTML:{__html:t.recommendations}})]}),(0,r.jsx)(n.Spacing,{size:4})]})}},690203:(e,t,o)=>{o.d(t,{UploadStep:()=>r.UploadStep});var r=o(603648)},594591:(e,t,o)=>{o.d(t,{CoverModal:()=>n.CoverModal,CoverModalBorder:()=>r.CoverModalBorder,CoverModalCustomCropArea:()=>a.CoverModalCustomCropArea,MIN_CONTAINER_WIDTH:()=>a.MIN_CONTAINER_WIDTH,OwnerType:()=>l.OwnerType,PreviewModal:()=>s.PreviewModal,PreviewType:()=>l.PreviewType,UploadStep:()=>i.UploadStep,Views:()=>l.Views,allowedTypes:()=>c.allowedTypes,coverUploader:()=>c.coverUploader,getUploadedImageByCoverUrl:()=>c.getUploadedImageByCoverUrl});var r=o(380482),a=o(616512),n=o(540084),i=o(690203),s=o(275901),l=o(435946),c=o(297926)},435946:(e,t,o)=>{var r,a,n;o.d(t,{OwnerType:()=>n,PreviewType:()=>a,Views:()=>r}),function(e){e[e.Edit=0]="Edit",e[e.Preview=1]="Preview",e[e.UploadImage=2]="UploadImage"}(r||(r={})),function(e){e.main="desktop",e.mobile="smartphone"}(a||(a={})),function(e){e[e.profile=0]="profile",e[e.community=1]="community",e[e.videoCommunity=2]="videoCommunity"}(n||(n={}))},297926:(e,t,o)=>{o.d(t,{allowedTypes:()=>n,coverUploader:()=>s,getUploadedImageByCoverUrl:()=>l});var r=o(405972),a=o(171628);const n=["image/jpeg","image/png","image/gif","image/webp"].join(","),i={allowedTypes:n.split(","),lang:{},url:"",hash:""},s=new r.UploadPhoto({...i}),l=e=>fetch(e).then((e=>e.blob())).then(a.convertFileBlobToUploadedImage)},721015:(e,t,o)=>{o.d(t,{CoverModal:()=>r.CoverModal,CoverModalBorder:()=>r.CoverModalBorder,CoverModalCustomCropArea:()=>r.CoverModalCustomCropArea,MIN_CONTAINER_WIDTH:()=>r.MIN_CONTAINER_WIDTH,OwnerType:()=>r.OwnerType,PreviewModal:()=>r.PreviewModal,PreviewType:()=>r.PreviewType,UploadStep:()=>r.UploadStep,Views:()=>r.Views,allowedTypes:()=>r.allowedTypes,coverUploader:()=>r.coverUploader,getUploadedImageByCoverUrl:()=>r.getUploadedImageByCoverUrl});var r=o(594591)},200682:(e,t,o)=>{o.d(t,{CoverModal:()=>r.CoverModal,CoverModalBorder:()=>r.CoverModalBorder,CoverModalCustomCropArea:()=>r.CoverModalCustomCropArea,MIN_CONTAINER_WIDTH:()=>r.MIN_CONTAINER_WIDTH,OwnerType:()=>r.OwnerType,PreviewModal:()=>r.PreviewModal,PreviewType:()=>r.PreviewType,UploadStep:()=>r.UploadStep,Views:()=>r.Views,allowedTypes:()=>r.allowedTypes,coverUploader:()=>r.coverUploader,getUploadedImageByCoverUrl:()=>r.getUploadedImageByCoverUrl});var r=o(721015)},537091:(e,t,o)=>{o.d(t,{calculateWallPostSize:()=>T,isGalleryVideoInViewport:()=>w,openAvatarForm:()=>v,ownerAvatarEdit:()=>h,ownerAvatarUpload:()=>m,ownerPhotoEffects:()=>C,showLoginBox:()=>g,showPageMembersBox:()=>p,updateHeaderNavIcons:()=>f});var r=o(972332),a=o(270959),n=o(754866),i=o(246429),s=o(866467),l=o(761520),c=o(458840),d=o(903687),_=o(982096),u=o(540462);function p(e,t,o,n={}){return window.cur.viewAsBox?(window.cur.viewAsBox(),(0,r.cancelEvent)(o)):!(0,a.showTabbedBox)("al_page.php",{act:"box",oid:e,tab:t},{cache:1,params:{...n}},o)}function v(e,t,o,r){const c=(0,u.partConfigEnabled)("avatar_cropper_fix")||o;(0,n.show)(window.boxLayerBG),(0,n.show)(window.boxLoader),(0,n.show)(window.boxLayerWrap),(0,i.boxRefreshCoords)(window.boxLoader),l.ajax.post("al_page.php",e,{onDone:function(e,o){(0,n.hide)(window.boxLayerBG),(0,n.hide)(window.boxLoader),(0,n.hide)(window.boxLayerWrap),o?(0,a.showFastBox)(s.getLang("global_error"),o):e.isNft?window.handleEditNftAvatar(e,t,c,r):window.initOwnerAvatarEditForm(e,t,c,r)},onFail:function(e){return"string"==typeof e&&(0,i.showDoneBox)(e),(0,n.hide)(window.boxLayerBG),(0,n.hide)(window.boxLoader),(0,n.hide)(window.boxLayerWrap),!0}})}function m(e,t,o,r){v({act:"owner_avatar_upload",oid:e},t,o,r)}function h(e,t,o){v({act:"owner_avatar_edit",oid:e,hash:t},o)}function g(){return(0,a.showBox)("al_login.php",{act:"box"}),!1}function C(e,t,o){const r="album"+t+"_0/rev",a=window.cur||{};!window.cur.pvData||window.cur.pvShown&&window.cur.pvListId==r||(0,d.deletePhotoOwnerAlbumCache)(t),(0,c.showPhoto)(e,r,{additional:{open_pe:1,pe_no_copy:1},loader:1,onHide:function(){a.pvEditorSaved&&(o?o():window.nav.reload())}})}const f=e=>{[document.querySelector("#top_profile_link img"),document.querySelector("#top_vkconnect_link img")].forEach((t=>{t&&(t.src=e)}))},w=(e,t)=>{const o=e.closest(".FeedVideosForYou")||e.closest(".PrimaryAttachmentCarousel, .attachmentCarousel"),r=e.closest(".ui_gallery_item, .attachmentCarousel__slide");if(!o||!r)return!1;const a=o.querySelectorAll(".ui_gallery_item, .attachmentCarousel__slide"),n=Array.from(a).indexOf(r),i=o.getBoundingClientRect(),s=i.x+(.3+.4*n/a.length)*i.width;return t.x<s&&s<t.x+t.width},T=(e,t=!0)=>{if(!e)return{width:0,height:0};const o=e.querySelector(".post_replies_header")??void 0,r=e.querySelector(".replies")??void 0,a=(0,_.calculateElementSize)(e),n=(0,_.calculateElementSize)(o),i=(0,_.calculateElementSize)(r),s=a.height-n.height-i.height;return{width:t?Math.ceil(a.width):a.width,height:t?Math.ceil(s):s}}},657602:(e,t,o)=>{o.d(t,{WebProfileItemStatCollector:()=>l,followersModeOnboardingClickCollector:()=>u,followersModeOnboardingEntrypointViewStatsCollector:()=>_,logProfileRedesignContentTabEvent:()=>d,webProfileItemStatCollector:()=>c});var r=o(434239),a=o(152817),n=o(518949),i=o(510519),s=o(647966);class l{mapOwnerToBaseEventData(){if(!this.owner)return null;return{user_profile_id:this.owner?.id,has_cover:1===this.owner.cover?.enabled,is_verified:1===this.owner.verified,emoji_status:this.owner.image_status?.id,has_avatar:1===this.owner.has_photo,has_short_info:Boolean(this.owner.status),is_closed_profile:Boolean(this.owner.is_closed),is_users_friend:(0,n.convertFriendStatusToStatString)(this.owner.friend_status),promo_buttons:(0,n.extractPromoButtonsIDs)(this.owner),project_button:[(0,n.extractProjectButtonID)(this.owner)],is_onboarding:!1}}setData(e,t){this.owner=e,this.navScreen=t}isCurrentUserDataExist(e,t){return e===this.owner?.id&&t===this.navScreen}anotherUserProfileEvent(e,t){const o=this.mapOwnerToBaseEventData();if(!o)return;const r={...o,another_user_profile_event:{another_user_profile_event_type:e,content_subscription_type:t}};this.statCollector.logEvent(r,this.navScreen)}avatarEvent(e){const t=this.mapOwnerToBaseEventData();if(!t)return;const o={...t,avatar_event:{avatar_event_type:e}};this.statCollector.logEvent(o,this.navScreen)}coverEvent(e,t){const o=this.mapOwnerToBaseEventData();let r;o&&(r=t?{...o,cover_event:{cover_event_type:e,preview_mode:t}}:{...o,cover_event:{cover_event_type:e}},this.statCollector.logEvent(r,this.navScreen))}anotherUserProfileMenuEvent(e,t=void 0){const o=this.mapOwnerToBaseEventData();if(!o)return;const r={...o,another_user_profile_menu_event:{another_user_profile_menu_event_type:e,service_item:t}};this.statCollector.logEvent(r,this.navScreen)}watchingContentEvent(e,t){const o=this.mapOwnerToBaseEventData();if(!o)return;const r={...o,watching_content_event:{watching_content_event_type:e,content_type:t}};this.statCollector.logEvent(r,this.navScreen)}userMenuEvent(e){const t=this.mapOwnerToBaseEventData();if(!t)return;const o={...t,user_menu_event:{user_menu_event_type:e}};this.statCollector.logEvent(o)}userDetailInfoEvent(e){const t=this.mapOwnerToBaseEventData();if(!t)return;const o={...t,user_detail_info_event:{user_detail_info_event_type:e}};this.statCollector.logEvent(o,this.navScreen)}onboardingEvent(e,t){const o=this.mapOwnerToBaseEventData();if(!o)return;const r={...o,onboarding_event:{onboarding_event_type:e,step_number:t}};this.statCollector.logEvent(r,this.navScreen)}contentTabsEvent(e,t,o){const r=this.mapOwnerToBaseEventData();if(!r)return;const a={...r,content_tabs_event:{content_tabs_event_type:e,content_type:t,tab_mode:o}};this.statCollector.logEvent(a,this.navScreen)}constructor(){this.statCollector=new r.ProfileItemStatCollector}}const c=new l,d=e=>{const t=(e=>{switch(e){case"albums":return a.ProfileItemEventType.CLICK_TO_ALBUMS_BUTTON;case"photos":return a.ProfileItemEventType.CLICK_TO_PHOTO_BUTTON;case"music":return a.ProfileItemEventType.CLICK_TO_MUSIC_BUTTON;case"articles":return a.ProfileItemEventType.CLICK_TO_ARTICLES_BUTTON;case"videos":return a.ProfileItemEventType.CLICK_TO_VIDEO_BUTTON;case"short_videos":return a.ProfileItemEventType.CLICK_TO_CLIPS_BUTTON}})(e);t&&c.watchingContentEvent(t)},_=new i.FollowersModeOnboardingButtonEntrypointViewStatsCollector,u=new s.FollowersModeOnboardingClickStatCollector},47682:(e,t,o)=>{o.d(t,{VKUIIconContainer:()=>a});var r=o(474848);function a({src:e,size:t=20,alt:o=""}){return(0,r.jsx)("img",{className:"vkuiIcon",src:e,alt:o,width:t,height:t})}},817565:(e,t,o)=>{o.d(t,{cleanTextSpaces:()=>I,formatTimespanToTimeMap:()=>R,getActionOnboardingAttrByUrl:()=>x,getCityIds:()=>P,getCountryIds:()=>y,getIconComponent:()=>N,getMaskIconComponent:()=>S,getPhotoOwner:()=>O,getSuccessfulAddingFriendsHtml:()=>k,getTextForUnavailableMessageBlock:()=>b,getThirdPartyButtonAppUrl:()=>A,getUserAvatarPhoto:()=>w,getUserFullName:()=>T,getUserHref:()=>E,isUserProfileHiddenFromAnonymousViewers:()=>B,mapArrayToMap:()=>L,stringToHtmlWithLinks:()=>U,transformVKAPIDateToTimeStamp:()=>M});var r=o(474848),a=o(74605),n=o(793192),i=o(199313),s=o(898848),l=o(8520),c=o(782544),d=o(148636),_=o(945270),u=o(839348),p=o(47682),v=o(866467),m=o(397729),h=o(631085),g=o(458840),C=o(451549),f=o(172479);function w(e,t){return t||e?(0,s.isRetina)()&&t?t:e||"":""}function T(e,t,o,r,n=!1){const i=[];e&&i.push((0,s.trim)(e)),t&&i.push((0,s.trim)(t)),o&&r===a.BaseSexEnumNames.FEMALE&&i.push(`(${(0,s.trim)(o)})`);const l=i.pop();return[i.join(" ")+" "+(n?"":l),l]}function E(e){const t=e.domain||e.screen_name;return`/${t||`id${e.id}`}`}function I(e){return e.replace(/\s\s+/g," ").replace(/\s/g," ")}function O(e){const t=e.photo_100||e.photo_50;return(0,s.isRetina)()&&e.photo_200||t}function N(e,t=28){if(e){const o=(0,l.getPhotoSize)(e,(0,s.isRetina)()?t*window.devicePixelRatio:t);if(o)return(0,r.jsx)(p.VKUIIconContainer,{src:o.url,size:t})}return null}function S(e,t=28){if(e){const o=(0,l.getPhotoSize)(e,(0,s.isRetina)()?t*window.devicePixelRatio:t);if(o)return(0,r.jsx)(m.MaskIcon,{src:o.url,size:t})}return null}function A(e,t){const o=new URLSearchParams({ref:"third_party_profile_buttons",vk_profile_id:String(t)});return`/app${e.id}?${o.toString()}`}function b(e){const t=e.service_description;if(t)return t;const o=e.owner_state;if(o){const t=o.description;if(!(o?.state===n.OwnerStateStateEnumNames.HIDDEN))return t;return B(e)?t:void 0}}function P({careers:e,schools:t}){const o=[];if(e?.length){const t=e.map((e=>e.city_id));o.push(...t)}if(t?.length){const e=t.map((e=>e.city));o.push(...e)}return(0,l.uniqueArray)(o.filter((e=>!!e)))}function y({military:e}){const t=[];if(e?.length){const o=e.map((e=>e.country_id));t.push(...o)}return(0,l.uniqueArray)(t.filter((e=>!!e)))}const L=e=>Array.isArray(e)?e.reduce(((e,t)=>(e[t.id]=t,e)),{}):{},U=e=>{let t=e||"";return t=(0,d.replaceHyperLinks)(t,d.linksReplacer),t=(0,u.replaceMentions)(t),t=(0,_.replaceEmailLinks)(t),t},M=e=>{if(!e)return 0;const t=e.split(".");if(3===t.length){const[e,o,r]=t,a=new Date(`${r}/${o}/${e}`);return(0,c.getUnixTimestamp)(a)}if(2===t.length){const[t,o]=e.split("."),r=new Date(`2000/${o}/${t}`);return(0,c.getUnixTimestamp)(r)}return 0};var D;function R(e,t){if(!(0,l.isNumber)(e))return{};const o=[[31536e3,t?v.getLang("global_years_accusative","raw"):v.getLang("global_age_years","raw"),"YEAR"],[2592e3,t?v.getLang("global_months_accusative","raw"):v.getLang("global_age_months","raw"),"MONTH"],[86400,t?v.getLang("global_days_accusative","raw"):v.getLang("global_age_days","raw"),"DAY"],[3600,t?v.getLang("global_hours_accusative","raw"):v.getLang("global_hours","raw"),"HOUR"],[60,t?v.getLang("global_minutes_accusative","raw"):v.getLang("global_minutes","raw"),"MINUTE"],[1,t?v.getLang("global_seconds_accusative","raw"):v.getLang("global_age_seconds","raw"),"SECOND"]];let r=e;return o.reduce(((e,[t,o,a])=>{const n=Math.floor(r/t),i=(0,v.langNumeric)(n,o);return r%=t,{...e,[a]:n>=1?{count:n,label:i}:void 0}}),{})}function x(e){const t=function(e){const t=[];t[h.OnboardingCardId.PROFILE_PHOTO_ONBOARDING_CARD_ID]={onClick:e.openAvatarUpload},t[h.OnboardingCardId.SEND_POST_ONBOARDING_CARD_ID]={onClick:e=>{const t=document.querySelector("#post_field");e.stopPropagation(),t?.focus()}},t[h.OnboardingCardId.DOWNLOAD_APP_CARD_ID]={onClick:()=>(0,g.showWiki)({w:"show_notification_for_install_app"})};const o=t[e.cardId];if(!o)return!1;return o}({...e});return!1!==t?t:{href:e.url}}function B(e){return(0,C.isVKUserAnonymous)()&&"vk_users_only"===e.no_index}function k(e,t){const o=(0,f.getOwnerUrl)(e);if(t===i.FriendsAddResponseEnumNames.APPROVED){const t=`<a href="${o}">${(0,l.encodeHTMLEntities)((0,l.escape)(e.first_name_gen||""))}</a>`;return v.getLang("global_friend_add_result_msg_are_friends").replace("{user_genetive}",t)}if(t===i.FriendsAddResponseEnumNames.SEND){const t=`<a href="${o}">${(0,l.encodeHTMLEntities)((0,l.escape)(e.first_name_acc||""))}</a>`,r=`<a href="${o}">${(0,l.encodeHTMLEntities)((0,l.escape)(e.first_name||""))}</a>`;let n="";return n=e.can_access_closed?(0,v.langSex)(e.sex||a.BaseSexEnumNames.UNKNOWN,v.getLang("global_friend_add_result_msg_subscribed")).replace("{user_nominative}",r).replace("{user_accusative}",t):v.getLang("global_closed_friend_request_sent_msg"),n.replace("{user_accusative}",t).replace("{user_nominative}",r)}return""}!function(e){e.SECOND="SECOND",e.MINUTE="MINUTE",e.HOUR="HOUR",e.DAY="DAY",e.WEEK="WEEK",e.MONTH="MONTH",e.YEAR="YEAR"}(D||(D={}))},575167:(e,t,o)=>{o.d(t,{loadProfileCoverBoxStatic:()=>n});var r=o(342018);const a={isStaticLoaded:!1,uploadStepImageUrl:""},n=e=>new Promise(((t,o)=>{a.isStaticLoaded?t(a.uploadStepImageUrl):(e&&e(),Promise.all([new Promise(((e,t)=>{window.ajax.post("al_profile.php",{act:"cover_box_load_static_images"},{onDone:t=>{e(t)},onFail:()=>(t(),!0)})})),window.stManager.add([window.jsc("web/profile_cover_box.js")]),new Promise(((e,t)=>{window.ajax.post("al_profile.php",{act:"cover_box_load_lang_keys"},{onDone:()=>{e()},onFail:()=>(t(),!0)})}))]).then((([e])=>{a.uploadStepImageUrl=e?.upload_step_image_url,a.isStaticLoaded=!0,t(a.uploadStepImageUrl)})).catch((e=>o(e))))}));(0,r.pushNavDestroy)((()=>{a.isStaticLoaded=!1}))},878955:(e,t,o)=>{o.d(t,{deleteOwnerCover:()=>s,saveOwnerCover:()=>i,uploadOwnerCoverToServer:()=>n});var r=o(558206),a=o(200682);const n=(e,t)=>{const{top:o,width:n,left:i,height:s}=t,{file:l}=e,c=Math.floor(o),d=Math.floor(i),_=Math.floor(n),u=Math.floor(s);return(0,r.getOwnerCoverPhotoUploadServer)({crop_y:c,crop_x:d,crop_width:_,crop_height:u,upload_v2:1}).then((({upload_url:e})=>a.coverUploader.upload({file:l,uploadURL:e,fieldName:"file"}))).then((e=>(0,r.saveOwnerCoverPhoto)({crop_y:c,crop_x:d,crop_width:_,crop_height:u,upload_v2:1,response_json:JSON.stringify(e)})))},i=(e,t="",o=!0)=>{const{top:a,width:n,left:i,height:s}=e,l=Math.floor(a),c=Math.floor(i),d=Math.floor(n),_=Math.floor(s);return(0,r.saveOwnerCoverPhoto)({crop_y:l,crop_x:c,crop_width:d,crop_height:_,upload_v2:1,response_json:t,use_original_crop_sizes:o?1:0})},s=()=>(0,r.removeOwnerCoverPhoto)()},203118:(e,t,o)=>{function r(e,t){return new Promise(((o,r)=>{e.toBlob((e=>{e?o(e):r(new Error("Failed to get blob"))}),t?.type,t?.quality)}))}o.d(t,{canvasToBlob:()=>r})},171628:(e,t,o)=>{o.d(t,{convertFileBlobToUploadedImage:()=>n});var r=o(32323),a=o(677587);const n=async e=>{const t=await(0,r.getFirstFrameFromGif)(e),o=URL.createObjectURL(t);return{file:t,imageUrl:o,image:await(0,a.loadImage)(o)}}},421334:(e,t,o)=>{o.d(t,{getCroppedImage:()=>a});var r=o(677587);async function a(e,t,o,a,n,i=0,s={type:"image/jpeg",quality:1}){const l="string"==typeof e?await(0,r.loadImage)(e):e,c=document.createElement("canvas");c.width=90===i||270===i?l.naturalHeight:l.naturalWidth,c.height=90===i||270===i?l.naturalWidth:l.naturalHeight;const d=c.getContext("2d");if(!d)return l;d.fillStyle="#fff",d.fillRect(0,0,d.canvas.width,d.canvas.height),i?(d.translate(c.width/2,c.height/2),d.rotate(i*Math.PI/180),d.drawImage(l,-l.naturalWidth/2,-l.naturalHeight/2)):d.drawImage(l,0,0);const _=d.getImageData(t,o,a,n),u=document.createElement("canvas");u.width=a,u.height=n;const p=u.getContext("2d");if(!p)return l;p.putImageData(_,0,0);const v=u.toDataURL(s.type,s.quality);return(0,r.loadImage)(v)}},236132:(e,t,o)=>{o.d(t,{getElementCrossOrigin:()=>r});const r=e=>"string"!=typeof e||e.startsWith("data:")||e.startsWith("blob:")||function(e){const t=location.origin,o=new URL(e,t).origin;return o===t}(e)?null:"Anonymous"},871379:(e,t,o)=>{function r(e){const t=e.name.split(".");return t.length<=1?"":t.pop()?.toLowerCase()||""}o.d(t,{getFileExtension:()=>r})},325932:(e,t,o)=>{o.d(t,{getFileMimeType:()=>a});var r=o(871379);const a=e=>{if(e.type)return e.type.toLowerCase();return{heic:"image/heic",heif:"image/heif"}[(0,r.getFileExtension)(e)]||""}},32323:(e,t,o)=>{o.d(t,{getFirstFrameFromGif:()=>n});var r=o(203118),a=o(677587);const n=async(e,t)=>{if("image/gif"!==e.type)return e;const o=document.createElement("canvas"),n=o.getContext("2d");if(!n)return e;const i=URL.createObjectURL(e),s=await(0,a.loadImage)(i);return URL.revokeObjectURL(i),o.width=s.width,o.height=s.height,n.drawImage(s,0,0),(0,r.canvasToBlob)(o,t)}},62596:(e,t,o)=>{o.d(t,{isHeicBlob:()=>r});const r=(e,t)=>(t=t||e.type.toLowerCase(),["image/heic","image/heif"].includes(t))},137745:(e,t,o)=>{o.d(t,{isHeicFile:()=>n});var r=o(325932),a=o(62596);const n=e=>{const t=(0,r.getFileMimeType)(e);return(0,a.isHeicBlob)(e,t)}},677587:(e,t,o)=>{o.d(t,{loadImage:()=>a});var r=o(236132);const a=(e,t)=>new Promise(((o,a)=>{const n=new Image;n.crossOrigin=(0,r.getElementCrossOrigin)(e),t&&(n.dataset.name=t),n.onerror=()=>{const t=e?.startsWith("data:")?"<dataURL>":e;a(new Error(`Failed to load image's URL: ${t}`))},n.onload=()=>{o(n)},n.src=e}))},782544:(e,t,o)=>{o.d(t,{getUnixTimestamp:()=>r});const r=(e=new Date)=>Math.floor(e.getTime()/1e3)},221043:(e,t,o)=>{o.d(t,{Icon32CameraOutline:()=>r});var r=(0,o(844990).makeIcon)("Icon32CameraOutline","camera_outline_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" id="camera_outline_32"><path fill-rule="evenodd" d="M14.334 3h3.332c.752 0 1.366-.001 1.945.165a4.25 4.25 0 0 1 1.598.861c.456.392.793.906 1.206 1.535.24.367.45.895.944.958.166.021.338.006.505.006.817 0 1.411 0 1.932.105a5.25 5.25 0 0 1 4.099 4.1c.111.548.105 1.178.105 2.066v6.208c0 1.494 0 2.692-.08 3.66-.08.995-.251 1.857-.656 2.65a6.75 6.75 0 0 1-2.95 2.95c-.793.405-1.655.576-2.65.657-.968.079-2.166.079-3.66.079h-8.008c-1.494 0-2.692 0-3.66-.08-.995-.08-1.857-.251-2.65-.656a6.75 6.75 0 0 1-2.95-2.95c-.405-.793-.576-1.655-.657-2.65C2 21.696 2 20.498 2 19.004v-6.208c0-.888-.006-1.518.105-2.067a5.25 5.25 0 0 1 4.1-4.099c.52-.106 1.114-.105 1.93-.105.168 0 .34.015.506-.006.494-.063.703-.591.944-.958.413-.629.75-1.143 1.206-1.535a4.25 4.25 0 0 1 1.598-.861c.579-.166 1.193-.166 1.945-.165m.14 2.5c-.963 0-1.199.011-1.396.068a1.75 1.75 0 0 0-.657.355c-.156.133-.295.323-.824 1.129-.19.288-.366.585-.582.837a3.25 3.25 0 0 1-2.06 1.11c-.222.028-.449.026-.684.026-1.01 0-1.329.006-1.569.055a2.75 2.75 0 0 0-2.147 2.147c-.049.24-.055.559-.055 1.57v6.153c0 1.56.001 2.656.07 3.51.07.84.198 1.337.393 1.72a4.25 4.25 0 0 0 1.858 1.857c.382.195.879.324 1.718.392.855.07 1.95.071 3.511.071h7.9c1.56 0 2.656 0 3.51-.07.84-.07 1.337-.198 1.72-.393a4.25 4.25 0 0 0 1.857-1.857c.195-.383.324-.88.392-1.72.07-.854.071-1.95.071-3.51v-6.154c0-1.01-.006-1.329-.055-1.569a2.75 2.75 0 0 0-2.147-2.147c-.24-.049-.559-.055-1.57-.055-.234 0-.462.002-.684-.026a3.25 3.25 0 0 1-2.06-1.11c-.22-.258-.395-.554-.58-.837-.53-.806-.67-.996-.825-1.13a1.75 1.75 0 0 0-.657-.354c-.197-.057-.433-.068-1.397-.068h-3.05Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M12.5 17a3.5 3.5 0 1 0 7 0 3.5 3.5 0 0 0-7 0m3.5-6a6 6 0 1 0 0 12 6 6 0 0 0 0-12" clip-rule="evenodd" /></symbol>',32,32,!1,void 0)},975370:(e,t,o)=>{o.d(t,{default:()=>r});const r={content:"CoverModal__content--W3DOS",centered:"CoverModal__centered--UH9rQ"}},12574:(e,t,o)=>{o.d(t,{default:()=>r});const r={border:"CoverModalBorder__border--kOZ15"}},610118:(e,t,o)=>{o.d(t,{default:()=>r});const r={main:"CoverModalCustomCropArea__main--WR9p6",fadeArea:"CoverModalCustomCropArea__fadeArea--kVfah",fadeAreaSmall:"CoverModalCustomCropArea__fadeAreaSmall--SaH3q",center:"CoverModalCustomCropArea__center--wYlYb",placeholder:"CoverModalCustomCropArea__placeholder--GUVoL"}},361360:(e,t,o)=>{o.d(t,{default:()=>r});const r={coverWrap:"Preview__coverWrap--cuV3G",mobileCoverWrap:"Preview__mobileCoverWrap--Qut7Q",cover:"Preview__cover--gpmru",videoCover:"Preview__videoCover--zLnEo",coverCentred:"Preview__coverCentred--Zcf8c",mobileCover:"Preview__mobileCover--Mkfoz",coverImg:"Preview__coverImg--jBQVw",videoCoverImg:"Preview__videoCoverImg--7y8rl",coverImgCentred:"Preview__coverImgCentred--cCWys",mobileCoverImg:"Preview__mobileCoverImg--iP4JO",info:"Preview__info--r9IJ0",mobileInfo:"Preview__mobileInfo--OXTqE",mobileInfoCentred:"Preview__mobileInfoCentred--UmQVN",avatarWrap:"Preview__avatarWrap--ZFyUM",avatarGroup:"Preview__avatarGroup--hyvtb",avatarGroupCentred:"Preview__avatarGroupCentred--c0mla",avatarGroupMobile:"Preview__avatarGroupMobile--24qwJ",avatarGroupMobileCentred:"Preview__avatarGroupMobileCentred--2aP3J"}},192400:(e,t,o)=>{o.d(t,{default:()=>r});const r={control:"PreviewModal__control--kE73T"}},425852:(e,t,o)=>{o.d(t,{default:()=>r});const r={placeholder:"UploadStep__placeholder--aRAPu",image:"UploadStep__image--zfJNQ",title:"UploadStep__title--yddQ6",description:"UploadStep__description--sW0J6",button:"UploadStep__button--4jBb1",drag:"UploadStep__drag--RaDAn",icon:"UploadStep__icon--BiGuB",linkHint:"UploadStep__linkHint--GgvCJ",linkCaption:"UploadStep__linkCaption--TaJnW",recommendations:"UploadStep__recommendations--JdBsY"}}}]);try{stManager?.done("dist/web/chunks/9cf9f169.9f38d198.js")}catch(e){}